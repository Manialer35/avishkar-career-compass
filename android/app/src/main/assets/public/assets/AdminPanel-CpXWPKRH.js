import{c as yt,r as f,E as Ve,G as vi,j as a,o as zs,P as Oe,H as Lr,I as xe,p as tr,q as Ht,t as ye,h as He,i as vt,k as xt,b as Y,m as Ye,w as xi,u as qt,D as Rt,e as At,f as Ft,g as It,s as se,J as nc,S as rt,K as Hs,O as ks,Q as yi,T as Ys,V as ic,W as oc,Y as Ia,Z as wi,$ as bi,a0 as _i,a1 as ji,a2 as Ni,a3 as Si,a4 as Ci,a5 as ki,a6 as Di,a7 as Ei,a8 as lc,a9 as nr,C as Ds,aa as Ti,ab as cc,ac as dc,ad as uc,ae as xn,R as P,af as fc,ag as hc,ah as mc,ai as pc,aj as gc,ak as vc,al as xc,am as yc,an as wc,ao as yn,d as La,l as bc,ap as _c,N as jc,z as wn,F as bn}from"./index-Cu2NTO9G.js";import{T as ns,a as is,b as et,c as tt}from"./tabs-BrghG_ne.js";import{E as Nc}from"./eye-Cl1Xj54m.js";import{I as ve}from"./input-Bhqui301.js";import{T as os}from"./textarea-qn3RIzFF.js";import{F as yr,u as Va}from"./useFolders-gOyR_fvA.js";import{L as Ne}from"./label-BqNnaO06.js";import{Y as ws}from"./youtube-JdxukQrN.js";import{V as Es}from"./video-CVF8MeO4.js";import{S as Pi,T as _n,a as Ua,b as Wa,c as sr,d as Le,e as $a,f as Me,R as Sc}from"./table-Bb8W3RLy.js";import{B as jn}from"./badge-DJj60xY-.js";import{L as Cc}from"./loader-circle-DUvSaSjb.js";import{A as kc}from"./AdminNavigation-XzdsiYvW.js";import{U as bs}from"./users-l7SdCE1-.js";import"./settings-n1Qor9pj.js";/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mi=yt("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dc=yt("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ec=yt("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ba=yt("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tc=yt("Ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pc=yt("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mc=yt("File",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ya=yt("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oi=yt("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yt=yt("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jr=yt("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vr=yt("Trash",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]]);function wa(e,[t,r]){return Math.min(r,Math.max(t,e))}function Oc(e,t){return f.useReducer((r,s)=>t[r][s]??r,e)}var za="ScrollArea",[Ri,Up]=zs(za),[Rc,wt]=Ri(za),Ai=f.forwardRef((e,t)=>{const{__scopeScrollArea:r,type:s="hover",dir:n,scrollHideDelay:i=600,...o}=e,[l,c]=f.useState(null),[d,u]=f.useState(null),[p,m]=f.useState(null),[b,N]=f.useState(null),[x,g]=f.useState(null),[y,h]=f.useState(0),[w,j]=f.useState(0),[D,A]=f.useState(!1),[k,X]=f.useState(!1),I=Ve(t,M=>c(M)),K=vi(n);return a.jsx(Rc,{scope:r,type:s,dir:K,scrollHideDelay:i,scrollArea:l,viewport:d,onViewportChange:u,content:p,onContentChange:m,scrollbarX:b,onScrollbarXChange:N,scrollbarXEnabled:D,onScrollbarXEnabledChange:A,scrollbarY:x,onScrollbarYChange:g,scrollbarYEnabled:k,onScrollbarYEnabledChange:X,onCornerWidthChange:h,onCornerHeightChange:j,children:a.jsx(Oe.div,{dir:K,...o,ref:I,style:{position:"relative","--radix-scroll-area-corner-width":y+"px","--radix-scroll-area-corner-height":w+"px",...e.style}})})});Ai.displayName=za;var Fi="ScrollAreaViewport",Ii=f.forwardRef((e,t)=>{const{__scopeScrollArea:r,children:s,nonce:n,...i}=e,o=wt(Fi,r),l=f.useRef(null),c=Ve(t,l,o.onViewportChange);return a.jsxs(a.Fragment,{children:[a.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),a.jsx(Oe.div,{"data-radix-scroll-area-viewport":"",...i,ref:c,style:{overflowX:o.scrollbarXEnabled?"scroll":"hidden",overflowY:o.scrollbarYEnabled?"scroll":"hidden",...e.style},children:a.jsx("div",{ref:o.onContentChange,style:{minWidth:"100%",display:"table"},children:s})})]})});Ii.displayName=Fi;var Ut="ScrollAreaScrollbar",Ha=f.forwardRef((e,t)=>{const{forceMount:r,...s}=e,n=wt(Ut,e.__scopeScrollArea),{onScrollbarXEnabledChange:i,onScrollbarYEnabledChange:o}=n,l=e.orientation==="horizontal";return f.useEffect(()=>(l?i(!0):o(!0),()=>{l?i(!1):o(!1)}),[l,i,o]),n.type==="hover"?a.jsx(Ac,{...s,ref:t,forceMount:r}):n.type==="scroll"?a.jsx(Fc,{...s,ref:t,forceMount:r}):n.type==="auto"?a.jsx(Li,{...s,ref:t,forceMount:r}):n.type==="always"?a.jsx(Ya,{...s,ref:t}):null});Ha.displayName=Ut;var Ac=f.forwardRef((e,t)=>{const{forceMount:r,...s}=e,n=wt(Ut,e.__scopeScrollArea),[i,o]=f.useState(!1);return f.useEffect(()=>{const l=n.scrollArea;let c=0;if(l){const d=()=>{window.clearTimeout(c),o(!0)},u=()=>{c=window.setTimeout(()=>o(!1),n.scrollHideDelay)};return l.addEventListener("pointerenter",d),l.addEventListener("pointerleave",u),()=>{window.clearTimeout(c),l.removeEventListener("pointerenter",d),l.removeEventListener("pointerleave",u)}}},[n.scrollArea,n.scrollHideDelay]),a.jsx(Lr,{present:r||i,children:a.jsx(Li,{"data-state":i?"visible":"hidden",...s,ref:t})})}),Fc=f.forwardRef((e,t)=>{const{forceMount:r,...s}=e,n=wt(Ut,e.__scopeScrollArea),i=e.orientation==="horizontal",o=qs(()=>c("SCROLL_END"),100),[l,c]=Oc("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return f.useEffect(()=>{if(l==="idle"){const d=window.setTimeout(()=>c("HIDE"),n.scrollHideDelay);return()=>window.clearTimeout(d)}},[l,n.scrollHideDelay,c]),f.useEffect(()=>{const d=n.viewport,u=i?"scrollLeft":"scrollTop";if(d){let p=d[u];const m=()=>{const b=d[u];p!==b&&(c("SCROLL"),o()),p=b};return d.addEventListener("scroll",m),()=>d.removeEventListener("scroll",m)}},[n.viewport,i,c,o]),a.jsx(Lr,{present:r||l!=="hidden",children:a.jsx(Ya,{"data-state":l==="hidden"?"hidden":"visible",...s,ref:t,onPointerEnter:xe(e.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:xe(e.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),Li=f.forwardRef((e,t)=>{const r=wt(Ut,e.__scopeScrollArea),{forceMount:s,...n}=e,[i,o]=f.useState(!1),l=e.orientation==="horizontal",c=qs(()=>{if(r.viewport){const d=r.viewport.offsetWidth<r.viewport.scrollWidth,u=r.viewport.offsetHeight<r.viewport.scrollHeight;o(l?d:u)}},10);return Tr(r.viewport,c),Tr(r.content,c),a.jsx(Lr,{present:s||i,children:a.jsx(Ya,{"data-state":i?"visible":"hidden",...n,ref:t})})}),Ya=f.forwardRef((e,t)=>{const{orientation:r="vertical",...s}=e,n=wt(Ut,e.__scopeScrollArea),i=f.useRef(null),o=f.useRef(0),[l,c]=f.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),d=Bi(l.viewport,l.content),u={...s,sizes:l,onSizesChange:c,hasThumb:d>0&&d<1,onThumbChange:m=>i.current=m,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:m=>o.current=m};function p(m,b){return $c(m,o.current,l,b)}return r==="horizontal"?a.jsx(Ic,{...u,ref:t,onThumbPositionChange:()=>{if(n.viewport&&i.current){const m=n.viewport.scrollLeft,b=Nn(m,l,n.dir);i.current.style.transform=`translate3d(${b}px, 0, 0)`}},onWheelScroll:m=>{n.viewport&&(n.viewport.scrollLeft=m)},onDragScroll:m=>{n.viewport&&(n.viewport.scrollLeft=p(m,n.dir))}}):r==="vertical"?a.jsx(Lc,{...u,ref:t,onThumbPositionChange:()=>{if(n.viewport&&i.current){const m=n.viewport.scrollTop,b=Nn(m,l);i.current.style.transform=`translate3d(0, ${b}px, 0)`}},onWheelScroll:m=>{n.viewport&&(n.viewport.scrollTop=m)},onDragScroll:m=>{n.viewport&&(n.viewport.scrollTop=p(m))}}):null}),Ic=f.forwardRef((e,t)=>{const{sizes:r,onSizesChange:s,...n}=e,i=wt(Ut,e.__scopeScrollArea),[o,l]=f.useState(),c=f.useRef(null),d=Ve(t,c,i.onScrollbarXChange);return f.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),a.jsx(Ui,{"data-orientation":"horizontal",...n,ref:d,sizes:r,style:{bottom:0,left:i.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:i.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":Zs(r)+"px",...e.style},onThumbPointerDown:u=>e.onThumbPointerDown(u.x),onDragScroll:u=>e.onDragScroll(u.x),onWheelScroll:(u,p)=>{if(i.viewport){const m=i.viewport.scrollLeft+u.deltaX;e.onWheelScroll(m),Hi(m,p)&&u.preventDefault()}},onResize:()=>{c.current&&i.viewport&&o&&s({content:i.viewport.scrollWidth,viewport:i.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:Ps(o.paddingLeft),paddingEnd:Ps(o.paddingRight)}})}})}),Lc=f.forwardRef((e,t)=>{const{sizes:r,onSizesChange:s,...n}=e,i=wt(Ut,e.__scopeScrollArea),[o,l]=f.useState(),c=f.useRef(null),d=Ve(t,c,i.onScrollbarYChange);return f.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),a.jsx(Ui,{"data-orientation":"vertical",...n,ref:d,sizes:r,style:{top:0,right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":Zs(r)+"px",...e.style},onThumbPointerDown:u=>e.onThumbPointerDown(u.y),onDragScroll:u=>e.onDragScroll(u.y),onWheelScroll:(u,p)=>{if(i.viewport){const m=i.viewport.scrollTop+u.deltaY;e.onWheelScroll(m),Hi(m,p)&&u.preventDefault()}},onResize:()=>{c.current&&i.viewport&&o&&s({content:i.viewport.scrollHeight,viewport:i.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:Ps(o.paddingTop),paddingEnd:Ps(o.paddingBottom)}})}})}),[Vc,Vi]=Ri(Ut),Ui=f.forwardRef((e,t)=>{const{__scopeScrollArea:r,sizes:s,hasThumb:n,onThumbChange:i,onThumbPointerUp:o,onThumbPointerDown:l,onThumbPositionChange:c,onDragScroll:d,onWheelScroll:u,onResize:p,...m}=e,b=wt(Ut,r),[N,x]=f.useState(null),g=Ve(t,I=>x(I)),y=f.useRef(null),h=f.useRef(""),w=b.viewport,j=s.content-s.viewport,D=tr(u),A=tr(c),k=qs(p,10);function X(I){if(y.current){const K=I.clientX-y.current.left,M=I.clientY-y.current.top;d({x:K,y:M})}}return f.useEffect(()=>{const I=K=>{const M=K.target;(N==null?void 0:N.contains(M))&&D(K,j)};return document.addEventListener("wheel",I,{passive:!1}),()=>document.removeEventListener("wheel",I,{passive:!1})},[w,N,j,D]),f.useEffect(A,[s,A]),Tr(N,k),Tr(b.content,k),a.jsx(Vc,{scope:r,scrollbar:N,hasThumb:n,onThumbChange:tr(i),onThumbPointerUp:tr(o),onThumbPositionChange:A,onThumbPointerDown:tr(l),children:a.jsx(Oe.div,{...m,ref:g,style:{position:"absolute",...m.style},onPointerDown:xe(e.onPointerDown,I=>{I.button===0&&(I.target.setPointerCapture(I.pointerId),y.current=N.getBoundingClientRect(),h.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",b.viewport&&(b.viewport.style.scrollBehavior="auto"),X(I))}),onPointerMove:xe(e.onPointerMove,X),onPointerUp:xe(e.onPointerUp,I=>{const K=I.target;K.hasPointerCapture(I.pointerId)&&K.releasePointerCapture(I.pointerId),document.body.style.webkitUserSelect=h.current,b.viewport&&(b.viewport.style.scrollBehavior=""),y.current=null})})})}),Ts="ScrollAreaThumb",Wi=f.forwardRef((e,t)=>{const{forceMount:r,...s}=e,n=Vi(Ts,e.__scopeScrollArea);return a.jsx(Lr,{present:r||n.hasThumb,children:a.jsx(Uc,{ref:t,...s})})}),Uc=f.forwardRef((e,t)=>{const{__scopeScrollArea:r,style:s,...n}=e,i=wt(Ts,r),o=Vi(Ts,r),{onThumbPositionChange:l}=o,c=Ve(t,p=>o.onThumbChange(p)),d=f.useRef(void 0),u=qs(()=>{d.current&&(d.current(),d.current=void 0)},100);return f.useEffect(()=>{const p=i.viewport;if(p){const m=()=>{if(u(),!d.current){const b=Bc(p,l);d.current=b,l()}};return l(),p.addEventListener("scroll",m),()=>p.removeEventListener("scroll",m)}},[i.viewport,u,l]),a.jsx(Oe.div,{"data-state":o.hasThumb?"visible":"hidden",...n,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...s},onPointerDownCapture:xe(e.onPointerDownCapture,p=>{const b=p.target.getBoundingClientRect(),N=p.clientX-b.left,x=p.clientY-b.top;o.onThumbPointerDown({x:N,y:x})}),onPointerUp:xe(e.onPointerUp,o.onThumbPointerUp)})});Wi.displayName=Ts;var Za="ScrollAreaCorner",$i=f.forwardRef((e,t)=>{const r=wt(Za,e.__scopeScrollArea),s=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&s?a.jsx(Wc,{...e,ref:t}):null});$i.displayName=Za;var Wc=f.forwardRef((e,t)=>{const{__scopeScrollArea:r,...s}=e,n=wt(Za,r),[i,o]=f.useState(0),[l,c]=f.useState(0),d=!!(i&&l);return Tr(n.scrollbarX,()=>{var p;const u=((p=n.scrollbarX)==null?void 0:p.offsetHeight)||0;n.onCornerHeightChange(u),c(u)}),Tr(n.scrollbarY,()=>{var p;const u=((p=n.scrollbarY)==null?void 0:p.offsetWidth)||0;n.onCornerWidthChange(u),o(u)}),d?a.jsx(Oe.div,{...s,ref:t,style:{width:i,height:l,position:"absolute",right:n.dir==="ltr"?0:void 0,left:n.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function Ps(e){return e?parseInt(e,10):0}function Bi(e,t){const r=e/t;return isNaN(r)?0:r}function Zs(e){const t=Bi(e.viewport,e.content),r=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,s=(e.scrollbar.size-r)*t;return Math.max(s,18)}function $c(e,t,r,s="ltr"){const n=Zs(r),i=n/2,o=t||i,l=n-o,c=r.scrollbar.paddingStart+o,d=r.scrollbar.size-r.scrollbar.paddingEnd-l,u=r.content-r.viewport,p=s==="ltr"?[0,u]:[u*-1,0];return zi([c,d],p)(e)}function Nn(e,t,r="ltr"){const s=Zs(t),n=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,i=t.scrollbar.size-n,o=t.content-t.viewport,l=i-s,c=r==="ltr"?[0,o]:[o*-1,0],d=wa(e,c);return zi([0,o],[0,l])(d)}function zi(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const s=(t[1]-t[0])/(e[1]-e[0]);return t[0]+s*(r-e[0])}}function Hi(e,t){return e>0&&e<t}var Bc=(e,t=()=>{})=>{let r={left:e.scrollLeft,top:e.scrollTop},s=0;return function n(){const i={left:e.scrollLeft,top:e.scrollTop},o=r.left!==i.left,l=r.top!==i.top;(o||l)&&t(),r=i,s=window.requestAnimationFrame(n)}(),()=>window.cancelAnimationFrame(s)};function qs(e,t){const r=tr(e),s=f.useRef(0);return f.useEffect(()=>()=>window.clearTimeout(s.current),[]),f.useCallback(()=>{window.clearTimeout(s.current),s.current=window.setTimeout(r,t)},[r,t])}function Tr(e,t){const r=tr(t);Ht(()=>{let s=0;if(e){const n=new ResizeObserver(()=>{cancelAnimationFrame(s),s=window.requestAnimationFrame(r)});return n.observe(e),()=>{window.cancelAnimationFrame(s),n.unobserve(e)}}},[e,r])}var Yi=Ai,zc=Ii,Hc=$i;const ft=f.forwardRef(({className:e,children:t,...r},s)=>a.jsxs(Yi,{ref:s,className:ye("relative overflow-hidden",e),...r,children:[a.jsx(zc,{className:"h-full w-full rounded-[inherit]",children:t}),a.jsx(Zi,{}),a.jsx(Hc,{})]}));ft.displayName=Yi.displayName;const Zi=f.forwardRef(({className:e,orientation:t="vertical",...r},s)=>a.jsx(Ha,{ref:s,orientation:t,className:ye("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...r,children:a.jsx(Wi,{className:"relative flex-1 rounded-full bg-border"})}));Zi.displayName=Ha.displayName;const qi=({material:e,onEdit:t,onDelete:r})=>a.jsxs(He,{className:"shadow-sm h-full",children:[a.jsxs(vt,{className:"flex flex-row items-center justify-between py-2 px-2 sm:px-3",children:[a.jsx(xt,{className:"text-sm line-clamp-1",children:e.title}),a.jsxs("div",{className:"flex gap-1",children:[a.jsx(Y,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0",onClick:()=>t(e),children:a.jsx(Oi,{size:12})}),a.jsx(Y,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0 text-red-500",onClick:()=>r(e.id),children:a.jsx(Vr,{size:12})})]})]}),a.jsxs(Ye,{className:"py-2 px-2 sm:px-3",children:[e.thumbnailUrl&&a.jsx("div",{className:"mb-2",children:a.jsx("img",{src:e.thumbnailUrl,alt:`${e.title} thumbnail`,className:"w-full h-16 sm:h-20 object-cover rounded-md",crossOrigin:"anonymous",onError:s=>{console.error("Failed to load material thumbnail:",e.thumbnailUrl),s.target.src="/placeholder.svg"}})}),a.jsx("p",{className:"text-gray-600 mb-2 text-xs line-clamp-2",children:e.description}),a.jsxs("div",{className:"flex flex-wrap justify-between items-center gap-1 text-xs",children:[e.isPremium?a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsxs("p",{className:"font-semibold text-academy-primary",children:["₹",e.price]}),a.jsx(xi,{size:10,className:"text-orange-500"})]}):a.jsx("div",{}),a.jsxs("div",{className:"flex items-center gap-2",children:[!e.thumbnailUrl&&a.jsxs("span",{className:"text-[10px] text-gray-500 flex items-center",children:[a.jsx(ya,{size:10,className:"mr-0.5"}),"No thumbnail"]}),e.isPremium?a.jsxs("span",{className:"text-[10px] text-orange-600 flex items-center",children:[a.jsx(Nc,{size:10,className:"mr-0.5"}),"View Only"]}):a.jsxs("a",{href:e.downloadUrl,className:"text-academy-primary hover:underline text-[10px] sm:text-xs flex items-center",children:[a.jsx(Mc,{size:10,className:"mr-0.5"}),"Download"]})]})]})]})]}),Xi=({isPremium:e,folders:t,onFoldersChange:r})=>{const[s,n]=f.useState(!1),[i,o]=f.useState(null),[l,c]=f.useState(""),[d,u]=f.useState(""),[p,m]=f.useState(!1),{toast:b}=qt(),N=t.filter(h=>h.is_premium===e),x=async()=>{if(!l.trim()){b({title:"Validation Error",description:"Folder name is required",variant:"destructive"});return}try{if(m(!0),i){const{error:h}=await se.from("study_material_folders").update({name:l,description:d||null,updated_at:new Date().toISOString()}).eq("id",i.id);if(h)throw h;b({title:"Success",description:"Folder updated successfully"})}else{const{error:h}=await se.from("study_material_folders").insert({name:l,description:d||null,is_premium:e});if(h)throw h;b({title:"Success",description:"Folder created successfully"})}n(!1),o(null),c(""),u(""),r()}catch(h){console.error("Error saving folder:",h),b({title:"Error",description:h.message||"Failed to save folder",variant:"destructive"})}finally{m(!1)}},g=async h=>{if(confirm('Are you sure you want to delete this folder? Materials in this folder will be moved to "No Folder".'))try{const{error:w}=await se.from("study_material_folders").delete().eq("id",h);if(w)throw w;b({title:"Success",description:"Folder deleted successfully"}),r()}catch(w){console.error("Error deleting folder:",w),b({title:"Error",description:w.message||"Failed to delete folder",variant:"destructive"})}},y=h=>{h?(o(h),c(h.name),u(h.description||"")):(o(null),c(""),u("")),n(!0)};return a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("h3",{className:"text-lg font-medium",children:[e?"Premium":"Free"," Folders"]}),a.jsxs(Y,{onClick:()=>y(),size:"sm",className:"flex items-center gap-2",children:[a.jsx(Yt,{size:16}),"Add Folder"]})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:N.map(h=>a.jsxs(He,{className:"hover:shadow-md transition-shadow",children:[a.jsx(vt,{className:"pb-2",children:a.jsxs(xt,{className:"flex items-center justify-between text-base",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(yr,{size:18,className:e?"text-academy-red":"text-academy-primary"}),a.jsx("span",{className:"truncate",children:h.name})]}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(Y,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0",onClick:()=>y(h),children:a.jsx(Oi,{size:12})}),a.jsx(Y,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0 text-red-500",onClick:()=>g(h.id),children:a.jsx(Vr,{size:12})})]})]})}),a.jsxs(Ye,{className:"pt-0",children:[h.description&&a.jsx("p",{className:"text-sm text-gray-600 mb-2 line-clamp-2",children:h.description}),a.jsxs("p",{className:"text-xs text-gray-500",children:[h.materialCount||0," materials"]})]})]},h.id))}),a.jsx(Rt,{open:s,onOpenChange:n,children:a.jsxs(At,{children:[a.jsx(Ft,{children:a.jsx(It,{children:i?"Edit Folder":"Create New Folder"})}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium",children:"Folder Name"}),a.jsx(ve,{value:l,onChange:h=>c(h.target.value),placeholder:"Enter folder name"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium",children:"Description (Optional)"}),a.jsx(os,{value:d,onChange:h=>u(h.target.value),placeholder:"Enter folder description",rows:3})]}),a.jsxs("div",{className:"flex justify-end gap-2",children:[a.jsx(Y,{variant:"outline",onClick:()=>n(!1),disabled:p,children:"Cancel"}),a.jsx(Y,{onClick:x,disabled:p,children:p?"Saving...":i?"Update":"Create"})]})]})]})})]})},Yc=nc("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),ls=f.forwardRef(({className:e,variant:t,...r},s)=>a.jsx("div",{ref:s,role:"alert",className:ye(Yc({variant:t}),e),...r}));ls.displayName="Alert";const Gi=f.forwardRef(({className:e,...t},r)=>a.jsx("h5",{ref:r,className:ye("mb-1 font-medium leading-none tracking-tight",e),...t}));Gi.displayName="AlertTitle";const cs=f.forwardRef(({className:e,...t},r)=>a.jsx("div",{ref:r,className:ye("text-sm [&_p]:leading-relaxed",e),...t}));cs.displayName="AlertDescription";const Zc=({materials:e,loading:t,onAddNew:r,onEdit:s,onDelete:n})=>{const i=e.filter(g=>!g.isPremium),o=f.useRef(null),[l,c]=f.useState("all"),[d,u]=f.useState("available"),{folders:p,refetchFolders:m}=Va(),b=p.filter(g=>!g.is_premium),x=(()=>{let g=i;return d==="available"?g=g.filter(y=>!y.isUpcoming):d==="upcoming"&&(g=g.filter(y=>y.isUpcoming)),l==="all"?g:l==="no-folder"?g.filter(y=>!y.folder_id):g.filter(y=>y.folder_id===l)})();return f.useEffect(()=>{o.current&&o.current.classList.add("touch-scrolling")},[]),a.jsx("div",{className:"overflow-x-hidden",ref:o,children:a.jsxs(ns,{defaultValue:"materials",className:"w-full",children:[a.jsxs(is,{className:"mb-4",children:[a.jsx(et,{value:"materials",children:"Materials"}),a.jsx(et,{value:"folders",children:"Manage Folders"})]}),a.jsx(tt,{value:"folders",children:a.jsx(Xi,{isPremium:!1,folders:p,onFoldersChange:m})}),a.jsxs(tt,{value:"materials",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-2 mb-3",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-base sm:text-lg font-semibold",children:"Free Study Materials"}),a.jsx("p",{className:"text-xs text-gray-500 mt-0.5",children:"Manage study materials available for free download"})]}),a.jsxs(Y,{onClick:r,size:"sm",className:"whitespace-nowrap h-8",children:[a.jsx(Yt,{size:14,className:"mr-1"}),"Add New"]})]}),a.jsxs("div",{className:"flex gap-2 mb-4",children:[a.jsx(Y,{variant:d==="available"?"default":"outline",size:"sm",onClick:()=>u("available"),children:"Available"}),a.jsx(Y,{variant:d==="upcoming"?"default":"outline",size:"sm",onClick:()=>u("upcoming"),children:"Coming Soon"}),a.jsx(Y,{variant:d==="all"?"default":"outline",size:"sm",onClick:()=>u("all"),children:"All"})]}),a.jsxs("div",{className:"flex flex-wrap gap-2 mb-4",children:[a.jsx(Y,{variant:l==="all"?"default":"outline",size:"sm",onClick:()=>c("all"),children:"All Materials"}),a.jsx(Y,{variant:l==="no-folder"?"default":"outline",size:"sm",onClick:()=>c("no-folder"),children:"No Folder"}),b.map(g=>a.jsxs(Y,{variant:l===g.id?"default":"outline",size:"sm",onClick:()=>c(g.id),className:"flex items-center gap-1",children:[a.jsx(yr,{size:12}),g.name]},g.id))]}),a.jsx(ft,{className:"h-[60vh] w-full pb-4 -mx-3 px-3",children:t?a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2 sm:gap-3 mt-3",children:[...Array(4)].map((g,y)=>a.jsxs("div",{className:"border rounded-lg p-2 sm:p-3",children:[a.jsx(rt,{className:"h-3 w-3/4 mb-2"}),a.jsx(rt,{className:"h-16 w-full mb-2"}),a.jsx(rt,{className:"h-3 w-full mb-2"}),a.jsx(rt,{className:"h-3 w-1/2"})]},y))}):x.length===0?a.jsxs(ls,{variant:"default",className:"bg-blue-50 border-blue-200",children:[a.jsx(Ba,{className:"h-4 w-4 text-blue-500"}),a.jsx(cs,{children:d==="all"?'No free study materials found. Click "Add New" to create one.':`No ${d} materials found in this ${l==="no-folder"?"section":"folder"}.`})]}):a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-2 lg:grid-cols-3 gap-3 mt-3",children:x.map(g=>a.jsx(qi,{material:g,onEdit:s,onDelete:n},g.id))})})]})]})})},qc=({materials:e,loading:t,onAddNew:r,onDelete:s,onEdit:n})=>{const i=f.useRef(null),[o,l]=f.useState("all"),[c,d]=f.useState("available"),{folders:u,refetchFolders:p}=Va(),m=e.filter(g=>g.isPremium),b=u.filter(g=>g.is_premium),x=(()=>{let g=m;return c==="available"?g=g.filter(y=>!y.isUpcoming):c==="upcoming"&&(g=g.filter(y=>y.isUpcoming)),o==="all"?g:o==="no-folder"?g.filter(y=>!y.folder_id):g.filter(y=>y.folder_id===o)})();return f.useEffect(()=>{i.current&&i.current.classList.add("touch-scrolling")},[]),a.jsx("div",{className:"overflow-hidden",ref:i,children:a.jsxs(ns,{defaultValue:"materials",className:"w-full",children:[a.jsxs(is,{className:"mb-4",children:[a.jsx(et,{value:"materials",children:"Materials"}),a.jsx(et,{value:"folders",children:"Manage Folders"})]}),a.jsx(tt,{value:"folders",children:a.jsx(Xi,{isPremium:!0,folders:u,onFoldersChange:p})}),a.jsxs(tt,{value:"materials",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-2 mb-3",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-base sm:text-lg font-semibold",children:"Premium Study Materials"}),a.jsx("p",{className:"text-xs text-gray-500 mt-0.5",children:"Manage premium study materials for purchase (Secure viewing only)"})]}),a.jsxs(Y,{onClick:r,size:"sm",className:"whitespace-nowrap h-8",children:[a.jsx(Yt,{size:14,className:"mr-1"}),"Add New"]})]}),a.jsxs("div",{className:"flex gap-2 mb-4",children:[a.jsx(Y,{variant:c==="available"?"default":"outline",size:"sm",onClick:()=>d("available"),children:"Available"}),a.jsx(Y,{variant:c==="upcoming"?"default":"outline",size:"sm",onClick:()=>d("upcoming"),children:"Coming Soon"}),a.jsx(Y,{variant:c==="all"?"default":"outline",size:"sm",onClick:()=>d("all"),children:"All"})]}),a.jsxs("div",{className:"flex flex-wrap gap-2 mb-4",children:[a.jsx(Y,{variant:o==="all"?"default":"outline",size:"sm",onClick:()=>l("all"),children:"All Materials"}),a.jsx(Y,{variant:o==="no-folder"?"default":"outline",size:"sm",onClick:()=>l("no-folder"),children:"No Folder"}),b.map(g=>a.jsxs(Y,{variant:o===g.id?"default":"outline",size:"sm",onClick:()=>l(g.id),className:"flex items-center gap-1",children:[a.jsx(yr,{size:12}),g.name]},g.id))]}),a.jsx(ft,{className:"h-[60vh] w-full pb-4 -mx-3 px-3",children:t?a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2 sm:gap-3 mt-3",children:[...Array(4)].map((g,y)=>a.jsxs("div",{className:"border rounded-lg p-2 sm:p-3",children:[a.jsx(rt,{className:"h-3 w-3/4 mb-2"}),a.jsx(rt,{className:"h-16 w-full mb-2"}),a.jsx(rt,{className:"h-3 w-full mb-2"}),a.jsx(rt,{className:"h-3 w-1/2"})]},y))}):x.length===0?a.jsx("div",{className:"text-center py-6 bg-gray-50 rounded-lg border border-gray-100",children:a.jsx("p",{className:"text-gray-500",children:c==="all"?'No premium study materials found. Click "Add New" to create one.':`No ${c} materials found in this ${o==="no-folder"?"section":"folder"}.`})}):a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-2 gap-3 mt-3",children:x.map(g=>a.jsx(qi,{material:g,onEdit:n,onDelete:s},g.id))})})]})]})})};function Ki(e){const t=f.useRef({value:e,previous:e});return f.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var Xc=[" ","Enter","ArrowUp","ArrowDown"],Gc=[" ","Enter"],wr="Select",[Xs,Gs,Kc]=ic(wr),[Ur,Wp]=zs(wr,[Kc,Hs]),Ks=Hs(),[Qc,cr]=Ur(wr),[Jc,ed]=Ur(wr),Qi=e=>{const{__scopeSelect:t,children:r,open:s,defaultOpen:n,onOpenChange:i,value:o,defaultValue:l,onValueChange:c,dir:d,name:u,autoComplete:p,disabled:m,required:b,form:N}=e,x=Ks(t),[g,y]=f.useState(null),[h,w]=f.useState(null),[j,D]=f.useState(!1),A=vi(d),[k,X]=ks({prop:s,defaultProp:n??!1,onChange:i,caller:wr}),[I,K]=ks({prop:o,defaultProp:l,onChange:c,caller:wr}),M=f.useRef(null),E=g?N||!!g.closest("form"):!0,[_,V]=f.useState(new Set),B=Array.from(_).map(z=>z.props.value).join(";");return a.jsx(yi,{...x,children:a.jsxs(Qc,{required:b,scope:t,trigger:g,onTriggerChange:y,valueNode:h,onValueNodeChange:w,valueNodeHasChildren:j,onValueNodeHasChildrenChange:D,contentId:Ys(),value:I,onValueChange:K,open:k,onOpenChange:X,dir:A,triggerPointerDownPosRef:M,disabled:m,children:[a.jsx(Xs.Provider,{scope:t,children:a.jsx(Jc,{scope:e.__scopeSelect,onNativeOptionAdd:f.useCallback(z=>{V(T=>new Set(T).add(z))},[]),onNativeOptionRemove:f.useCallback(z=>{V(T=>{const F=new Set(T);return F.delete(z),F})},[]),children:r})}),E?a.jsxs(No,{"aria-hidden":!0,required:b,tabIndex:-1,name:u,autoComplete:p,value:I,onChange:z=>K(z.target.value),disabled:m,form:N,children:[I===void 0?a.jsx("option",{value:""}):null,Array.from(_)]},B):null]})})};Qi.displayName=wr;var Ji="SelectTrigger",eo=f.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:s=!1,...n}=e,i=Ks(r),o=cr(Ji,r),l=o.disabled||s,c=Ve(t,o.onTriggerChange),d=Gs(r),u=f.useRef("touch"),[p,m,b]=Co(x=>{const g=d().filter(w=>!w.disabled),y=g.find(w=>w.value===o.value),h=ko(g,x,y);h!==void 0&&o.onValueChange(h.value)}),N=x=>{l||(o.onOpenChange(!0),b()),x&&(o.triggerPointerDownPosRef.current={x:Math.round(x.pageX),y:Math.round(x.pageY)})};return a.jsx(Ia,{asChild:!0,...i,children:a.jsx(Oe.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":So(o.value)?"":void 0,...n,ref:c,onClick:xe(n.onClick,x=>{x.currentTarget.focus(),u.current!=="mouse"&&N(x)}),onPointerDown:xe(n.onPointerDown,x=>{u.current=x.pointerType;const g=x.target;g.hasPointerCapture(x.pointerId)&&g.releasePointerCapture(x.pointerId),x.button===0&&x.ctrlKey===!1&&x.pointerType==="mouse"&&(N(x),x.preventDefault())}),onKeyDown:xe(n.onKeyDown,x=>{const g=p.current!=="";!(x.ctrlKey||x.altKey||x.metaKey)&&x.key.length===1&&m(x.key),!(g&&x.key===" ")&&Xc.includes(x.key)&&(N(),x.preventDefault())})})})});eo.displayName=Ji;var to="SelectValue",ro=f.forwardRef((e,t)=>{const{__scopeSelect:r,className:s,style:n,children:i,placeholder:o="",...l}=e,c=cr(to,r),{onValueNodeHasChildrenChange:d}=c,u=i!==void 0,p=Ve(t,c.onValueNodeChange);return Ht(()=>{d(u)},[d,u]),a.jsx(Oe.span,{...l,ref:p,style:{pointerEvents:"none"},children:So(c.value)?a.jsx(a.Fragment,{children:o}):i})});ro.displayName=to;var td="SelectIcon",so=f.forwardRef((e,t)=>{const{__scopeSelect:r,children:s,...n}=e;return a.jsx(Oe.span,{"aria-hidden":!0,...n,ref:t,children:s||"▼"})});so.displayName=td;var rd="SelectPortal",ao=e=>a.jsx(wi,{asChild:!0,...e});ao.displayName=rd;var br="SelectContent",no=f.forwardRef((e,t)=>{const r=cr(br,e.__scopeSelect),[s,n]=f.useState();if(Ht(()=>{n(new DocumentFragment)},[]),!r.open){const i=s;return i?bi.createPortal(a.jsx(io,{scope:e.__scopeSelect,children:a.jsx(Xs.Slot,{scope:e.__scopeSelect,children:a.jsx("div",{children:e.children})})}),i):null}return a.jsx(oo,{...e,ref:t})});no.displayName=br;var Nt=10,[io,dr]=Ur(br),sd="SelectContentImpl",ad=Si("SelectContent.RemoveScroll"),oo=f.forwardRef((e,t)=>{const{__scopeSelect:r,position:s="item-aligned",onCloseAutoFocus:n,onEscapeKeyDown:i,onPointerDownOutside:o,side:l,sideOffset:c,align:d,alignOffset:u,arrowPadding:p,collisionBoundary:m,collisionPadding:b,sticky:N,hideWhenDetached:x,avoidCollisions:g,...y}=e,h=cr(br,r),[w,j]=f.useState(null),[D,A]=f.useState(null),k=Ve(t,Q=>j(Q)),[X,I]=f.useState(null),[K,M]=f.useState(null),E=Gs(r),[_,V]=f.useState(!1),B=f.useRef(!1);f.useEffect(()=>{if(w)return _i(w)},[w]),ji();const z=f.useCallback(Q=>{const[he,...Re]=E().map(pe=>pe.ref.current),[me]=Re.slice(-1),oe=document.activeElement;for(const pe of Q)if(pe===oe||(pe==null||pe.scrollIntoView({block:"nearest"}),pe===he&&D&&(D.scrollTop=0),pe===me&&D&&(D.scrollTop=D.scrollHeight),pe==null||pe.focus(),document.activeElement!==oe))return},[E,D]),T=f.useCallback(()=>z([X,w]),[z,X,w]);f.useEffect(()=>{_&&T()},[_,T]);const{onOpenChange:F,triggerPointerDownPosRef:ce}=h;f.useEffect(()=>{if(w){let Q={x:0,y:0};const he=me=>{var oe,pe;Q={x:Math.abs(Math.round(me.pageX)-(((oe=ce.current)==null?void 0:oe.x)??0)),y:Math.abs(Math.round(me.pageY)-(((pe=ce.current)==null?void 0:pe.y)??0))}},Re=me=>{Q.x<=10&&Q.y<=10?me.preventDefault():w.contains(me.target)||F(!1),document.removeEventListener("pointermove",he),ce.current=null};return ce.current!==null&&(document.addEventListener("pointermove",he),document.addEventListener("pointerup",Re,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",he),document.removeEventListener("pointerup",Re,{capture:!0})}}},[w,F,ce]),f.useEffect(()=>{const Q=()=>F(!1);return window.addEventListener("blur",Q),window.addEventListener("resize",Q),()=>{window.removeEventListener("blur",Q),window.removeEventListener("resize",Q)}},[F]);const[Ce,q]=Co(Q=>{const he=E().filter(oe=>!oe.disabled),Re=he.find(oe=>oe.ref.current===document.activeElement),me=ko(he,Q,Re);me&&setTimeout(()=>me.ref.current.focus())}),te=f.useCallback((Q,he,Re)=>{const me=!B.current&&!Re;(h.value!==void 0&&h.value===he||me)&&(I(Q),me&&(B.current=!0))},[h.value]),ke=f.useCallback(()=>w==null?void 0:w.focus(),[w]),Te=f.useCallback((Q,he,Re)=>{const me=!B.current&&!Re;(h.value!==void 0&&h.value===he||me)&&M(Q)},[h.value]),Be=s==="popper"?ba:lo,_t=Be===ba?{side:l,sideOffset:c,align:d,alignOffset:u,arrowPadding:p,collisionBoundary:m,collisionPadding:b,sticky:N,hideWhenDetached:x,avoidCollisions:g}:{};return a.jsx(io,{scope:r,content:w,viewport:D,onViewportChange:A,itemRefCallback:te,selectedItem:X,onItemLeave:ke,itemTextRefCallback:Te,focusSelectedItem:T,selectedItemText:K,position:s,isPositioned:_,searchRef:Ce,children:a.jsx(Ni,{as:ad,allowPinchZoom:!0,children:a.jsx(Ci,{asChild:!0,trapped:h.open,onMountAutoFocus:Q=>{Q.preventDefault()},onUnmountAutoFocus:xe(n,Q=>{var he;(he=h.trigger)==null||he.focus({preventScroll:!0}),Q.preventDefault()}),children:a.jsx(ki,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:Q=>Q.preventDefault(),onDismiss:()=>h.onOpenChange(!1),children:a.jsx(Be,{role:"listbox",id:h.contentId,"data-state":h.open?"open":"closed",dir:h.dir,onContextMenu:Q=>Q.preventDefault(),...y,..._t,onPlaced:()=>V(!0),ref:k,style:{display:"flex",flexDirection:"column",outline:"none",...y.style},onKeyDown:xe(y.onKeyDown,Q=>{const he=Q.ctrlKey||Q.altKey||Q.metaKey;if(Q.key==="Tab"&&Q.preventDefault(),!he&&Q.key.length===1&&q(Q.key),["ArrowUp","ArrowDown","Home","End"].includes(Q.key)){let me=E().filter(oe=>!oe.disabled).map(oe=>oe.ref.current);if(["ArrowUp","End"].includes(Q.key)&&(me=me.slice().reverse()),["ArrowUp","ArrowDown"].includes(Q.key)){const oe=Q.target,pe=me.indexOf(oe);me=me.slice(pe+1)}setTimeout(()=>z(me)),Q.preventDefault()}})})})})})})});oo.displayName=sd;var nd="SelectItemAlignedPosition",lo=f.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:s,...n}=e,i=cr(br,r),o=dr(br,r),[l,c]=f.useState(null),[d,u]=f.useState(null),p=Ve(t,k=>u(k)),m=Gs(r),b=f.useRef(!1),N=f.useRef(!0),{viewport:x,selectedItem:g,selectedItemText:y,focusSelectedItem:h}=o,w=f.useCallback(()=>{if(i.trigger&&i.valueNode&&l&&d&&x&&g&&y){const k=i.trigger.getBoundingClientRect(),X=d.getBoundingClientRect(),I=i.valueNode.getBoundingClientRect(),K=y.getBoundingClientRect();if(i.dir!=="rtl"){const oe=K.left-X.left,pe=I.left-oe,J=k.left-pe,ct=k.width+J,Wt=Math.max(ct,X.width),$t=window.innerWidth-Nt,fr=wa(pe,[Nt,Math.max(Nt,$t-Wt)]);l.style.minWidth=ct+"px",l.style.left=fr+"px"}else{const oe=X.right-K.right,pe=window.innerWidth-I.right-oe,J=window.innerWidth-k.right-pe,ct=k.width+J,Wt=Math.max(ct,X.width),$t=window.innerWidth-Nt,fr=wa(pe,[Nt,Math.max(Nt,$t-Wt)]);l.style.minWidth=ct+"px",l.style.right=fr+"px"}const M=m(),E=window.innerHeight-Nt*2,_=x.scrollHeight,V=window.getComputedStyle(d),B=parseInt(V.borderTopWidth,10),z=parseInt(V.paddingTop,10),T=parseInt(V.borderBottomWidth,10),F=parseInt(V.paddingBottom,10),ce=B+z+_+F+T,Ce=Math.min(g.offsetHeight*5,ce),q=window.getComputedStyle(x),te=parseInt(q.paddingTop,10),ke=parseInt(q.paddingBottom,10),Te=k.top+k.height/2-Nt,Be=E-Te,_t=g.offsetHeight/2,Q=g.offsetTop+_t,he=B+z+Q,Re=ce-he;if(he<=Te){const oe=M.length>0&&g===M[M.length-1].ref.current;l.style.bottom="0px";const pe=d.clientHeight-x.offsetTop-x.offsetHeight,J=Math.max(Be,_t+(oe?ke:0)+pe+T),ct=he+J;l.style.height=ct+"px"}else{const oe=M.length>0&&g===M[0].ref.current;l.style.top="0px";const J=Math.max(Te,B+x.offsetTop+(oe?te:0)+_t)+Re;l.style.height=J+"px",x.scrollTop=he-Te+x.offsetTop}l.style.margin=`${Nt}px 0`,l.style.minHeight=Ce+"px",l.style.maxHeight=E+"px",s==null||s(),requestAnimationFrame(()=>b.current=!0)}},[m,i.trigger,i.valueNode,l,d,x,g,y,i.dir,s]);Ht(()=>w(),[w]);const[j,D]=f.useState();Ht(()=>{d&&D(window.getComputedStyle(d).zIndex)},[d]);const A=f.useCallback(k=>{k&&N.current===!0&&(w(),h==null||h(),N.current=!1)},[w,h]);return a.jsx(od,{scope:r,contentWrapper:l,shouldExpandOnScrollRef:b,onScrollButtonChange:A,children:a.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:j},children:a.jsx(Oe.div,{...n,ref:p,style:{boxSizing:"border-box",maxHeight:"100%",...n.style}})})})});lo.displayName=nd;var id="SelectPopperPosition",ba=f.forwardRef((e,t)=>{const{__scopeSelect:r,align:s="start",collisionPadding:n=Nt,...i}=e,o=Ks(r);return a.jsx(Di,{...o,...i,ref:t,align:s,collisionPadding:n,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});ba.displayName=id;var[od,qa]=Ur(br,{}),_a="SelectViewport",co=f.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:s,...n}=e,i=dr(_a,r),o=qa(_a,r),l=Ve(t,i.onViewportChange),c=f.useRef(0);return a.jsxs(a.Fragment,{children:[a.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),a.jsx(Xs.Slot,{scope:r,children:a.jsx(Oe.div,{"data-radix-select-viewport":"",role:"presentation",...n,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...n.style},onScroll:xe(n.onScroll,d=>{const u=d.currentTarget,{contentWrapper:p,shouldExpandOnScrollRef:m}=o;if(m!=null&&m.current&&p){const b=Math.abs(c.current-u.scrollTop);if(b>0){const N=window.innerHeight-Nt*2,x=parseFloat(p.style.minHeight),g=parseFloat(p.style.height),y=Math.max(x,g);if(y<N){const h=y+b,w=Math.min(N,h),j=h-w;p.style.height=w+"px",p.style.bottom==="0px"&&(u.scrollTop=j>0?j:0,p.style.justifyContent="flex-end")}}}c.current=u.scrollTop})})})]})});co.displayName=_a;var uo="SelectGroup",[ld,cd]=Ur(uo),fo=f.forwardRef((e,t)=>{const{__scopeSelect:r,...s}=e,n=Ys();return a.jsx(ld,{scope:r,id:n,children:a.jsx(Oe.div,{role:"group","aria-labelledby":n,...s,ref:t})})});fo.displayName=uo;var ho="SelectLabel",mo=f.forwardRef((e,t)=>{const{__scopeSelect:r,...s}=e,n=cd(ho,r);return a.jsx(Oe.div,{id:n.id,...s,ref:t})});mo.displayName=ho;var Ms="SelectItem",[dd,po]=Ur(Ms),go=f.forwardRef((e,t)=>{const{__scopeSelect:r,value:s,disabled:n=!1,textValue:i,...o}=e,l=cr(Ms,r),c=dr(Ms,r),d=l.value===s,[u,p]=f.useState(i??""),[m,b]=f.useState(!1),N=Ve(t,h=>{var w;return(w=c.itemRefCallback)==null?void 0:w.call(c,h,s,n)}),x=Ys(),g=f.useRef("touch"),y=()=>{n||(l.onValueChange(s),l.onOpenChange(!1))};if(s==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return a.jsx(dd,{scope:r,value:s,disabled:n,textId:x,isSelected:d,onItemTextChange:f.useCallback(h=>{p(w=>w||((h==null?void 0:h.textContent)??"").trim())},[]),children:a.jsx(Xs.ItemSlot,{scope:r,value:s,disabled:n,textValue:u,children:a.jsx(Oe.div,{role:"option","aria-labelledby":x,"data-highlighted":m?"":void 0,"aria-selected":d&&m,"data-state":d?"checked":"unchecked","aria-disabled":n||void 0,"data-disabled":n?"":void 0,tabIndex:n?void 0:-1,...o,ref:N,onFocus:xe(o.onFocus,()=>b(!0)),onBlur:xe(o.onBlur,()=>b(!1)),onClick:xe(o.onClick,()=>{g.current!=="mouse"&&y()}),onPointerUp:xe(o.onPointerUp,()=>{g.current==="mouse"&&y()}),onPointerDown:xe(o.onPointerDown,h=>{g.current=h.pointerType}),onPointerMove:xe(o.onPointerMove,h=>{var w;g.current=h.pointerType,n?(w=c.onItemLeave)==null||w.call(c):g.current==="mouse"&&h.currentTarget.focus({preventScroll:!0})}),onPointerLeave:xe(o.onPointerLeave,h=>{var w;h.currentTarget===document.activeElement&&((w=c.onItemLeave)==null||w.call(c))}),onKeyDown:xe(o.onKeyDown,h=>{var j;((j=c.searchRef)==null?void 0:j.current)!==""&&h.key===" "||(Gc.includes(h.key)&&y(),h.key===" "&&h.preventDefault())})})})})});go.displayName=Ms;var Xr="SelectItemText",vo=f.forwardRef((e,t)=>{const{__scopeSelect:r,className:s,style:n,...i}=e,o=cr(Xr,r),l=dr(Xr,r),c=po(Xr,r),d=ed(Xr,r),[u,p]=f.useState(null),m=Ve(t,y=>p(y),c.onItemTextChange,y=>{var h;return(h=l.itemTextRefCallback)==null?void 0:h.call(l,y,c.value,c.disabled)}),b=u==null?void 0:u.textContent,N=f.useMemo(()=>a.jsx("option",{value:c.value,disabled:c.disabled,children:b},c.value),[c.disabled,c.value,b]),{onNativeOptionAdd:x,onNativeOptionRemove:g}=d;return Ht(()=>(x(N),()=>g(N)),[x,g,N]),a.jsxs(a.Fragment,{children:[a.jsx(Oe.span,{id:c.textId,...i,ref:m}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?bi.createPortal(i.children,o.valueNode):null]})});vo.displayName=Xr;var xo="SelectItemIndicator",yo=f.forwardRef((e,t)=>{const{__scopeSelect:r,...s}=e;return po(xo,r).isSelected?a.jsx(Oe.span,{"aria-hidden":!0,...s,ref:t}):null});yo.displayName=xo;var ja="SelectScrollUpButton",wo=f.forwardRef((e,t)=>{const r=dr(ja,e.__scopeSelect),s=qa(ja,e.__scopeSelect),[n,i]=f.useState(!1),o=Ve(t,s.onScrollButtonChange);return Ht(()=>{if(r.viewport&&r.isPositioned){let l=function(){const d=c.scrollTop>0;i(d)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),n?a.jsx(_o,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});wo.displayName=ja;var Na="SelectScrollDownButton",bo=f.forwardRef((e,t)=>{const r=dr(Na,e.__scopeSelect),s=qa(Na,e.__scopeSelect),[n,i]=f.useState(!1),o=Ve(t,s.onScrollButtonChange);return Ht(()=>{if(r.viewport&&r.isPositioned){let l=function(){const d=c.scrollHeight-c.clientHeight,u=Math.ceil(c.scrollTop)<d;i(u)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),n?a.jsx(_o,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});bo.displayName=Na;var _o=f.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:s,...n}=e,i=dr("SelectScrollButton",r),o=f.useRef(null),l=Gs(r),c=f.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return f.useEffect(()=>()=>c(),[c]),Ht(()=>{var u;const d=l().find(p=>p.ref.current===document.activeElement);(u=d==null?void 0:d.ref.current)==null||u.scrollIntoView({block:"nearest"})},[l]),a.jsx(Oe.div,{"aria-hidden":!0,...n,ref:t,style:{flexShrink:0,...n.style},onPointerDown:xe(n.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(s,50))}),onPointerMove:xe(n.onPointerMove,()=>{var d;(d=i.onItemLeave)==null||d.call(i),o.current===null&&(o.current=window.setInterval(s,50))}),onPointerLeave:xe(n.onPointerLeave,()=>{c()})})}),ud="SelectSeparator",jo=f.forwardRef((e,t)=>{const{__scopeSelect:r,...s}=e;return a.jsx(Oe.div,{"aria-hidden":!0,...s,ref:t})});jo.displayName=ud;var Sa="SelectArrow",fd=f.forwardRef((e,t)=>{const{__scopeSelect:r,...s}=e,n=Ks(r),i=cr(Sa,r),o=dr(Sa,r);return i.open&&o.position==="popper"?a.jsx(Ei,{...n,...s,ref:t}):null});fd.displayName=Sa;var hd="SelectBubbleInput",No=f.forwardRef(({__scopeSelect:e,value:t,...r},s)=>{const n=f.useRef(null),i=Ve(s,n),o=Ki(t);return f.useEffect(()=>{const l=n.current;if(!l)return;const c=window.HTMLSelectElement.prototype,u=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==t&&u){const p=new Event("change",{bubbles:!0});u.call(l,t),l.dispatchEvent(p)}},[o,t]),a.jsx(Oe.select,{...r,style:{...oc,...r.style},ref:i,defaultValue:t})});No.displayName=hd;function So(e){return e===""||e===void 0}function Co(e){const t=tr(e),r=f.useRef(""),s=f.useRef(0),n=f.useCallback(o=>{const l=r.current+o;t(l),function c(d){r.current=d,window.clearTimeout(s.current),d!==""&&(s.current=window.setTimeout(()=>c(""),1e3))}(l)},[t]),i=f.useCallback(()=>{r.current="",window.clearTimeout(s.current)},[]);return f.useEffect(()=>()=>window.clearTimeout(s.current),[]),[r,n,i]}function ko(e,t,r){const n=t.length>1&&Array.from(t).every(d=>d===t[0])?t[0]:t,i=r?e.indexOf(r):-1;let o=md(e,Math.max(i,0));n.length===1&&(o=o.filter(d=>d!==r));const c=o.find(d=>d.textValue.toLowerCase().startsWith(n.toLowerCase()));return c!==r?c:void 0}function md(e,t){return e.map((r,s)=>e[(t+s)%e.length])}var pd=Qi,Do=eo,gd=ro,vd=so,xd=ao,Eo=no,yd=co,wd=fo,To=mo,Po=go,bd=vo,_d=yo,Mo=wo,Oo=bo,Ro=jo;const Dr=pd,Sn=wd,Er=gd,vr=f.forwardRef(({className:e,children:t,...r},s)=>a.jsxs(Do,{ref:s,className:ye("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...r,children:[t,a.jsx(vd,{asChild:!0,children:a.jsx(Mi,{className:"h-4 w-4 opacity-50"})})]}));vr.displayName=Do.displayName;const Ao=f.forwardRef(({className:e,...t},r)=>a.jsx(Mo,{ref:r,className:ye("flex cursor-default items-center justify-center py-1",e),...t,children:a.jsx(Ec,{className:"h-4 w-4"})}));Ao.displayName=Mo.displayName;const Fo=f.forwardRef(({className:e,...t},r)=>a.jsx(Oo,{ref:r,className:ye("flex cursor-default items-center justify-center py-1",e),...t,children:a.jsx(Mi,{className:"h-4 w-4"})}));Fo.displayName=Oo.displayName;const xr=f.forwardRef(({className:e,children:t,position:r="popper",...s},n)=>a.jsx(xd,{children:a.jsxs(Eo,{ref:n,className:ye("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...s,children:[a.jsx(Ao,{}),a.jsx(yd,{className:ye("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),a.jsx(Fo,{})]})}));xr.displayName=Eo.displayName;const jd=f.forwardRef(({className:e,...t},r)=>a.jsx(To,{ref:r,className:ye("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));jd.displayName=To.displayName;const Pt=f.forwardRef(({className:e,children:t,...r},s)=>((!r.value||r.value==="")&&(console.warn("SelectItem must have a non-empty value prop"),r={...r,value:"placeholder-value"}),a.jsxs(Po,{ref:s,className:ye("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[a.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx(_d,{children:a.jsx(lc,{className:"h-4 w-4"})})}),a.jsx(bd,{children:t})]})));Pt.displayName=Po.displayName;const Nd=f.forwardRef(({className:e,...t},r)=>a.jsx(Ro,{ref:r,className:ye("-mx-1 my-1 h-px bg-muted",e),...t}));Nd.displayName=Ro.displayName;const Cn=[{value:"general",label:"General"},{value:"police_bharti",label:"Police Bharti"},{value:"combined_exam",label:"Combined Exam"},{value:"current_affairs",label:"Current Affairs"},{value:"aptitude",label:"Aptitude"},{value:"interview",label:"Interview"}],kn=({isOpen:e,onClose:t,onSuccess:r,videoToEdit:s})=>{const[n,i]=f.useState({title:"",description:"",video_url:"",thumbnail_url:"",category:"general",folder_id:"",is_premium:!1}),[o,l]=f.useState(!1),[c,d]=f.useState(null),[u,p]=f.useState([]),{toast:m}=qt();f.useEffect(()=>{e&&b()},[e]);const b=async()=>{try{const{data:h,error:w}=await se.from("training_video_folders").select("*").order("name");if(w)throw w;p(h||[])}catch(h){console.error("Error fetching folders:",h)}};f.useEffect(()=>{var h;if(s){const w=((h=s.category)==null?void 0:h.toLowerCase())||"general",j=Cn.some(D=>D.value===w)?w:"general";i({title:s.title||"",description:s.description||"",video_url:s.video_url||"",thumbnail_url:s.thumbnail_url||"",category:j,folder_id:s.folder_id||"",is_premium:s.is_premium||!1})}else i({title:"",description:"",video_url:"",thumbnail_url:"",category:"general",folder_id:"",is_premium:!1}),d(null)},[s,e]);const N=h=>{const{name:w,value:j,type:D}=h.target;i(A=>({...A,[w]:D==="checkbox"?h.target.checked:j}))},x=(h,w)=>{i(j=>({...j,[w]:h}))},g=h=>{h.target.files&&h.target.files[0]&&d(h.target.files[0])},y=async h=>{h.preventDefault(),l(!0);try{const{data:w}=await se.auth.getSession();if(!w.session)throw new Error("You must be logged in to upload videos");let j=n.thumbnail_url;if(c){console.log("Uploading thumbnail file...");const{data:A}=await se.storage.listBuckets();if(!A||!A.some(M=>M.name==="videos")){const{data:M,error:E}=await se.storage.createBucket("videos",{public:!0});if(E)throw console.error("Error creating videos bucket:",E),new Error(`Failed to create videos bucket: ${E.message}`)}const k=`thumbnails/${Date.now()}_${c.name.replace(/\s+/g,"_")}`,{data:X,error:I}=await se.storage.from("videos").upload(k,c);if(I)throw console.error("Storage upload error:",I),new Error(`Thumbnail upload failed: ${I.message}`);const{data:K}=se.storage.from("videos").getPublicUrl(k);j=K.publicUrl,console.log("Thumbnail uploaded successfully:",j)}const D={title:n.title,description:n.description,video_url:n.video_url,thumbnail_url:j,category:n.category,folder_id:n.folder_id||null,is_premium:n.is_premium};if(s){console.log("Updating existing video:",s.id);const{data:A,error:k}=await se.from("training_videos").update({...D,updated_at:new Date().toISOString()}).eq("id",s.id).select().single();if(k)throw console.error("Update error:",k),k;m({title:"Video updated",description:"The video has been successfully updated.",duration:3e3}),r(A)}else{console.log("Creating new video");const{data:A,error:k}=await se.from("training_videos").insert(D).select().single();if(k)throw console.error("Insert error:",k),k;m({title:"Video added",description:"The video has been successfully added.",duration:3e3}),r(A)}}catch(w){console.error("Video upload/edit error:",w),m({title:s?"Error updating video":"Error adding video",description:w.message,variant:"destructive",duration:3e3})}finally{l(!1)}};return a.jsx(Rt,{open:e,onOpenChange:t,children:a.jsxs(At,{className:"sm:max-w-md",children:[a.jsx(Ft,{children:a.jsx(It,{children:s?"Edit Video":"Add New Video"})}),a.jsxs("form",{onSubmit:y,className:"space-y-4 py-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Ne,{htmlFor:"title",children:"Video Title"}),a.jsx(ve,{id:"title",name:"title",value:n.title,onChange:N,required:!0})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Ne,{htmlFor:"description",children:"Description"}),a.jsx(os,{id:"description",name:"description",value:n.description||"",onChange:N,rows:3})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Ne,{htmlFor:"video_url",children:"Video URL (YouTube, Vimeo, etc.)"}),a.jsx(ve,{id:"video_url",name:"video_url",value:n.video_url,onChange:N,required:!0,placeholder:"https://www.youtube.com/embed/..."})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Ne,{htmlFor:"thumbnail",children:"Thumbnail Image"}),a.jsxs("div",{className:"flex items-center space-x-4",children:[(c||n.thumbnail_url)&&a.jsx("div",{className:"w-16 h-16 relative rounded overflow-hidden",children:a.jsx("img",{src:c?URL.createObjectURL(c):n.thumbnail_url||"",alt:"Thumbnail preview",className:"w-full h-full object-cover"})}),a.jsx("div",{className:"flex-1",children:a.jsx(ve,{id:"thumbnail",type:"file",onChange:g,accept:"image/*"})})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Ne,{htmlFor:"folder",children:"Folder"}),a.jsxs(Dr,{value:n.folder_id,onValueChange:h=>x(h,"folder_id"),children:[a.jsx(vr,{children:a.jsx(Er,{placeholder:"Select a folder (optional)"})}),a.jsx(xr,{children:a.jsxs(Sn,{children:[a.jsx(Pt,{value:"",children:"No Folder"}),u.map(h=>a.jsx(Pt,{value:h.id,children:h.name},h.id))]})})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Ne,{htmlFor:"category",children:"Category"}),a.jsxs(Dr,{value:n.category,onValueChange:h=>x(h,"category"),children:[a.jsx(vr,{children:a.jsx(Er,{placeholder:"Select a category"})}),a.jsx(xr,{children:a.jsx(Sn,{children:Cn.map(h=>a.jsx(Pt,{value:h.value,children:h.label},h.value))})})]})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(ve,{id:"is_premium",name:"is_premium",type:"checkbox",checked:n.is_premium,onChange:N,className:"w-4 h-4"}),a.jsx(Ne,{htmlFor:"is_premium",children:"Premium Video (Paid Access Only)"})]}),a.jsxs(nr,{className:"pt-4",children:[a.jsx(Y,{type:"button",variant:"outline",onClick:t,children:"Cancel"}),a.jsx(Y,{type:"submit",disabled:o,className:"bg-academy-primary hover:bg-academy-primary/90",children:o?s?"Updating...":"Adding...":s?"Update Video":"Add Video"})]})]})]})})},Sd=()=>{const[e,t]=f.useState([]),[r,s]=f.useState(!0),[n,i]=f.useState(!1),[o,l]=f.useState(null),[c,d]=f.useState({name:"",description:"",is_premium:!1}),[u,p]=f.useState(!1),{toast:m}=qt();f.useEffect(()=>{b()},[]);const b=async()=>{try{s(!0);const{data:w,error:j}=await se.from("training_video_folders").select("*").order("name");if(j)throw j;t(w||[])}catch(w){console.error("Error fetching folders:",w),m({title:"Error fetching folders",description:w.message,variant:"destructive"})}finally{s(!1)}},N=w=>{w?(l(w),d({name:w.name,description:w.description||"",is_premium:w.is_premium})):(l(null),d({name:"",description:"",is_premium:!1})),i(!0)},x=()=>{i(!1),l(null),d({name:"",description:"",is_premium:!1})},g=w=>{const{name:j,value:D,type:A}=w.target;d(k=>({...k,[j]:A==="checkbox"?w.target.checked:D}))},y=async w=>{w.preventDefault(),p(!0);try{const{data:j}=await se.auth.getSession();if(!j.session)throw new Error("You must be logged in to manage folders");if(o){const{data:D,error:A}=await se.from("training_video_folders").update({name:c.name,description:c.description,is_premium:c.is_premium,updated_at:new Date().toISOString()}).eq("id",o.id).select().single();if(A)throw A;t(e.map(k=>k.id===o.id?D:k)),m({title:"Folder updated",description:"The folder has been successfully updated."})}else{const{data:D,error:A}=await se.from("training_video_folders").insert({name:c.name,description:c.description,is_premium:c.is_premium}).select().single();if(A)throw A;t([...e,D]),m({title:"Folder created",description:"The folder has been successfully created."})}x()}catch(j){console.error("Error saving folder:",j),m({title:o?"Error updating folder":"Error creating folder",description:j.message,variant:"destructive"})}finally{p(!1)}},h=async(w,j)=>{if(confirm(`Are you sure you want to delete the folder "${j}"? Videos in this folder will become unorganized.`))try{const{error:D}=await se.from("training_video_folders").delete().eq("id",w);if(D)throw D;t(e.filter(A=>A.id!==w)),m({title:"Folder deleted",description:"The folder has been successfully deleted."})}catch(D){console.error("Error deleting folder:",D),m({title:"Error deleting folder",description:D.message,variant:"destructive"})}};return r?a.jsx("div",{className:"text-center py-10",children:"Loading folders..."}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("h3",{className:"text-lg font-semibold text-academy-primary",children:"Video Folders"}),a.jsxs(Y,{onClick:()=>N(),className:"bg-academy-primary hover:bg-academy-primary/90",children:[a.jsx(Yt,{size:16,className:"mr-2"}),"New Folder"]})]}),e.length>0?a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:e.map(w=>a.jsxs(He,{className:"relative",children:[a.jsx(vt,{className:"pb-2",children:a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(yr,{size:20,className:"text-academy-primary"}),a.jsx(xt,{className:"text-base",children:w.name})]}),a.jsxs("div",{className:"flex space-x-1",children:[a.jsx(Y,{variant:"ghost",size:"sm",onClick:()=>N(w),children:a.jsx(Jr,{size:16})}),a.jsx(Y,{variant:"ghost",size:"sm",className:"text-red-500",onClick:()=>h(w.id,w.name),children:a.jsx(Vr,{size:16})})]})]})}),a.jsxs(Ye,{children:[w.description&&a.jsx("p",{className:"text-sm text-gray-600 mb-2",children:w.description}),a.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500",children:[a.jsx("span",{children:new Date(w.created_at).toLocaleDateString()}),w.is_premium&&a.jsx("span",{className:"bg-academy-red text-white px-2 py-1 rounded-full",children:"Premium"})]})]})]},w.id))}):a.jsx(He,{children:a.jsxs(Ye,{className:"text-center py-10",children:[a.jsx(yr,{size:64,className:"text-gray-400 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-medium mb-2",children:"No Folders Yet"}),a.jsx("p",{className:"text-gray-600 mb-6",children:"Create folders to organize your training videos by topic or category."}),a.jsxs(Y,{onClick:()=>N(),children:[a.jsx(Yt,{size:16,className:"mr-2"}),"Create First Folder"]})]})}),a.jsx(Rt,{open:n,onOpenChange:x,children:a.jsxs(At,{className:"sm:max-w-md",children:[a.jsx(Ft,{children:a.jsx(It,{children:o?"Edit Folder":"Create New Folder"})}),a.jsxs("form",{onSubmit:y,className:"space-y-4 py-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Ne,{htmlFor:"name",children:"Folder Name"}),a.jsx(ve,{id:"name",name:"name",value:c.name,onChange:g,required:!0,placeholder:"e.g., Police Bharti, Current Affairs"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Ne,{htmlFor:"description",children:"Description"}),a.jsx(os,{id:"description",name:"description",value:c.description,onChange:g,rows:3,placeholder:"Optional description for this folder"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(ve,{id:"is_premium",name:"is_premium",type:"checkbox",checked:c.is_premium,onChange:g,className:"w-4 h-4"}),a.jsx(Ne,{htmlFor:"is_premium",children:"Premium Folder (Paid Access Only)"})]}),a.jsxs(nr,{className:"pt-4",children:[a.jsx(Y,{type:"button",variant:"outline",onClick:x,children:"Cancel"}),a.jsx(Y,{type:"submit",disabled:u,className:"bg-academy-primary hover:bg-academy-primary/90",children:u?o?"Updating...":"Creating...":o?"Update Folder":"Create Folder"})]})]})]})})]})},Cd=e=>{const t=[/(?:youtube\.com\/watch\?v=|youtu\.be\/|youtube\.com\/embed\/)([^&\n?#]+)/,/youtube\.com\/shorts\/([^&\n?#]+)/];for(const r of t){const s=e.match(r);if(s)return s[1]}return null},kd=e=>`https://img.youtube.com/vi/${e}/maxresdefault.jpg`,Dn=e=>e.includes("youtube.com")||e.includes("youtu.be"),Dd=()=>{const{toast:e}=qt(),[t,r]=f.useState([]),[s,n]=f.useState([]),[i,o]=f.useState(!1),[l,c]=f.useState(null),[d,u]=f.useState(!0);f.useEffect(()=>{p()},[]);const p=async()=>{var g,y;try{console.log("Fetching videos and folders..."),u(!0);const[h,w]=await Promise.all([se.from("training_videos").select("*").order("created_at",{ascending:!1}),se.from("training_video_folders").select("*").order("name")]);if(h.error)throw console.error("Error fetching videos:",h.error),h.error;if(w.error)throw console.error("Error fetching folders:",w.error),w.error;console.log("Data fetched successfully:",{videos:((g=h.data)==null?void 0:g.length)||0,folders:((y=w.data)==null?void 0:y.length)||0}),r(h.data||[]),n(w.data||[])}catch(h){console.error("Error in fetchData:",h),e({title:"Error fetching data",description:h.message,variant:"destructive"})}finally{u(!1)}},m=async g=>{if(confirm("Are you sure you want to delete this video?"))try{const{error:y}=await se.from("training_videos").delete().eq("id",g);if(y)throw y;r(t.filter(h=>h.id!==g)),e({title:"Video deleted",description:"The video has been successfully deleted."})}catch(y){e({title:"Error deleting video",description:y.message,variant:"destructive"})}},b=({video:g})=>{const y=Dn(g.video_url),h=y?Cd(g.video_url):null,w=h?kd(h):g.thumbnail_url;return a.jsxs("div",{className:"relative aspect-video rounded-lg overflow-hidden bg-gray-100",children:[w?a.jsx("img",{src:w,alt:g.title,className:"w-full h-full object-cover",crossOrigin:"anonymous",onError:j=>{console.error("Failed to load video thumbnail:",w);const D=j.target;h?D.src=`https://img.youtube.com/vi/${h}/hqdefault.jpg`:D.src="/placeholder.svg"}}):a.jsx("div",{className:"w-full h-full flex items-center justify-center bg-gray-200",children:y?a.jsx(ws,{size:32,className:"text-red-500"}):a.jsx(Es,{size:32,className:"text-gray-400"})}),a.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:a.jsx("div",{className:"p-2 rounded-full bg-black bg-opacity-50",children:y?a.jsx(ws,{size:20,className:"text-red-500",fill:"currentColor"}):a.jsx(Es,{size:20,className:"text-white",fill:"currentColor"})})}),y&&a.jsx("div",{className:"absolute top-2 right-2",children:a.jsx("div",{className:"bg-red-600 text-white text-xs px-2 py-1 rounded",children:"YouTube"})})]})},N=({video:g})=>{const y=Dn(g.video_url),h=s.find(w=>w.id===g.folder_id);return a.jsxs(He,{className:"overflow-hidden h-full",children:[a.jsx(b,{video:g}),a.jsxs(Ye,{className:"p-4 flex flex-col h-full",children:[a.jsxs("div",{className:"flex justify-between items-start mb-2",children:[a.jsxs("h3",{className:"font-semibold text-base flex items-center gap-2 line-clamp-2 leading-tight min-h-[3rem]",title:g.title,children:[a.jsx("span",{className:"truncate",children:g.title}),y&&a.jsx(ws,{size:16,className:"text-red-500 flex-shrink-0"})]}),a.jsxs("div",{className:"flex space-x-1 flex-shrink-0 ml-2",children:[a.jsx(Y,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",onClick:()=>c(g),children:a.jsx(Jr,{size:14})}),a.jsx(Y,{variant:"ghost",size:"sm",className:"text-red-500 h-8 w-8 p-0",onClick:()=>m(g.id),children:a.jsx(Vr,{size:14})})]})]}),g.description&&a.jsx("p",{className:"text-gray-600 text-sm mt-2 line-clamp-3 leading-tight flex-grow",title:g.description,children:g.description}),a.jsxs("div",{className:"mt-3 flex flex-wrap gap-1",children:[h&&a.jsxs("span",{className:"text-xs bg-blue-100 text-blue-700 px-2 py-1 rounded-full flex items-center gap-1",children:[a.jsx(yr,{size:10}),a.jsx("span",{className:"truncate max-w-[80px]",title:h.name,children:h.name})]}),g.category&&a.jsx("span",{className:"text-xs bg-gray-100 text-gray-700 px-2 py-1 rounded-full truncate max-w-[100px]",title:g.category,children:g.category}),g.is_premium&&a.jsx("span",{className:"text-xs bg-academy-red text-white px-2 py-1 rounded-full",children:"Premium"})]}),a.jsxs("div",{className:"mt-4 flex justify-between items-center",children:[a.jsx("span",{className:"text-xs text-gray-500 truncate",children:new Date(g.created_at).toLocaleDateString()}),a.jsx(Y,{variant:"outline",size:"sm",className:"text-xs h-8",asChild:!0,children:a.jsxs("a",{href:g.video_url,target:"_blank",rel:"noopener noreferrer",children:[a.jsx(Pc,{size:12,className:"mr-1"}),y?"YouTube":"View"]})})]})]})]})},x=()=>{const g=t.filter(y=>!y.folder_id);return a.jsxs("div",{className:"space-y-8",children:[g.length>0&&a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-medium mb-4 text-gray-700",children:"Unorganized Videos"}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:g.map(y=>a.jsx(N,{video:y},y.id))})]}),s.map(y=>{const h=t.filter(w=>w.folder_id===y.id);return h.length===0?null:a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[a.jsx(yr,{size:20,className:"text-academy-primary"}),a.jsx("h3",{className:"text-lg font-medium text-academy-primary",children:y.name}),y.is_premium&&a.jsx("span",{className:"text-xs bg-academy-red text-white px-2 py-1 rounded-full",children:"Premium"}),a.jsxs("span",{className:"text-sm text-gray-500",children:["(",h.length," videos)"]})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:h.map(w=>a.jsx(N,{video:w},w.id))})]},y.id)})]})};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("h2",{className:"text-xl font-semibold text-academy-primary",children:"Training Videos Management"}),a.jsxs(Y,{className:"bg-academy-primary hover:bg-academy-primary/90",onClick:()=>o(!0),children:[a.jsx(Yt,{size:16,className:"mr-2"}),"Add New Video"]})]}),a.jsxs(ns,{defaultValue:"videos",className:"w-full",children:[a.jsxs(is,{className:"grid w-full grid-cols-2",children:[a.jsx(et,{value:"videos",children:"Videos"}),a.jsx(et,{value:"folders",children:"Folders"})]}),a.jsxs(tt,{value:"videos",className:"space-y-6",children:[d?a.jsx("div",{className:"text-center py-10",children:a.jsx("p",{children:"Loading videos..."})}):t.length>0?a.jsx(x,{}):a.jsx("div",{className:"bg-white p-6 rounded-lg shadow-md text-center",children:a.jsxs("div",{className:"flex flex-col items-center py-10",children:[a.jsx(ws,{size:64,className:"text-red-500 mb-4"}),a.jsx("h3",{className:"text-lg font-medium mb-2",children:"No Videos Yet"}),a.jsx("p",{className:"text-gray-600 mb-6 max-w-md",children:'Start uploading training videos or adding YouTube links for your students by clicking the "Add New Video" button.'})]})}),a.jsx(He,{children:a.jsxs(Ye,{className:"p-6",children:[a.jsx("h3",{className:"text-lg font-medium mb-4",children:"Video Management Tips"}),a.jsxs("ul",{className:"list-disc pl-5 space-y-2 text-gray-700",children:[a.jsx("li",{children:"YouTube videos and shorts are automatically detected and will show proper thumbnails."}),a.jsx("li",{children:"For YouTube videos, paste the full URL (youtube.com/watch?v=... or youtu.be/...)."}),a.jsx("li",{children:"YouTube Shorts URLs (youtube.com/shorts/...) are also supported."}),a.jsx("li",{children:"Organize videos into folders for better student navigation."}),a.jsx("li",{children:"Add clear titles and descriptions to help students find content."}),a.jsx("li",{children:"Use categories to further organize your content within folders."})]})]})})]}),a.jsx(tt,{value:"folders",children:a.jsx(Sd,{})})]}),a.jsx(kn,{isOpen:i,onClose:()=>o(!1),onSuccess:g=>{r([g,...t]),o(!1)}}),l&&a.jsx(kn,{isOpen:!!l,onClose:()=>c(null),onSuccess:g=>{r(t.map(y=>y.id===g.id?g:y)),c(null)},videoToEdit:l})]})},Ed=()=>{const[e,t]=f.useState([]),[r,s]=f.useState(!0),[n,i]=f.useState(!1),[o,l]=f.useState(!1),[c,d]=f.useState(null),[u,p]=f.useState({id:"",title:"",description:"",date:"",location:"",time:"",price:0,class_capacity:10,is_active:!0,class_level:"Beginner",class_language:"English",class_category:"General"}),{toast:m}=qt();f.useEffect(()=>{b()},[]);const b=async()=>{s(!0);try{const{data:j,error:D}=await se.from("classes").select("*").order("created_at",{ascending:!1});if(D)throw D;if(j){const A=j.map(k=>({id:k.id,title:k.class_title,description:k.class_description||"",date:k.class_date,location:k.class_location||"",time:k.class_time,price:k.class_price||0,class_capacity:k.class_capacity||10,is_active:k.is_active!==!1,class_level:k.class_level||"Beginner",class_language:k.class_language||"English",class_category:k.class_category||"General"}));t(A)}}catch(j){console.error("Error fetching events:",j),m({variant:"destructive",title:"Error loading events",description:"There was a problem loading events. Please try again."})}finally{s(!1)}},N=j=>{d(j),p({...j}),l(!0)},x=j=>{d(j),i(!0)},g=async()=>{if(c){s(!0);try{const{error:j}=await se.from("classes").delete().eq("id",c.id);if(j)throw j;t(e.filter(D=>D.id!==c.id)),m({title:"Event deleted successfully",description:`${c.title} has been removed`})}catch(j){console.error("Error deleting event:",j),m({variant:"destructive",title:"Error deleting event",description:"There was a problem deleting the event. Please try again."})}finally{s(!1),i(!1),d(null)}}},y=j=>{const{name:D,value:A}=j.target;p(k=>({...k,[D]:D==="price"||D==="class_capacity"?parseFloat(A):A}))},h=async j=>{j.preventDefault(),s(!0);try{const D={class_title:u.title,class_description:u.description,class_date:u.date,class_location:u.location,class_time:u.time,class_price:u.price,class_capacity:u.class_capacity,is_active:u.is_active,class_level:u.class_level,class_language:u.class_language,class_category:u.class_category,class_duration:"2 hours",class_instructor:"Staff Instructor"};if(c){const{error:A}=await se.from("classes").update(D).eq("id",c.id);if(A)throw A;t(e.map(k=>k.id===c.id?{...u}:k)),m({title:"Event updated successfully",description:`${u.title} has been updated`})}else{const{data:A,error:k}=await se.from("classes").insert([D]).select();if(k)throw k;if(A&&A[0]){const X={id:A[0].id,title:A[0].class_title,description:A[0].class_description||"",date:A[0].class_date,location:A[0].class_location||"",time:A[0].class_time,price:A[0].class_price||0,class_capacity:A[0].class_capacity||10,is_active:A[0].is_active!==!1,class_level:A[0].class_level||"Beginner",class_language:A[0].class_language||"English",class_category:A[0].class_category||"General"};t([X,...e]),m({title:"Event created successfully",description:`${u.title} has been created`})}}}catch(D){console.error("Error saving event:",D),m({variant:"destructive",title:"Error saving event",description:"There was a problem saving the event. Please try again."})}finally{s(!1),l(!1),d(null),p({id:"",title:"",description:"",date:"",location:"",time:"",price:0,class_capacity:10,is_active:!0,class_level:"Beginner",class_language:"English",class_category:"General"})}},w=()=>{d(null),p({id:"",title:"",description:"",date:"",location:"",time:"",price:0,class_capacity:10,is_active:!0,class_level:"Beginner",class_language:"English",class_category:"General"}),l(!0)};return a.jsxs("div",{children:[a.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 mb-4",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-lg sm:text-xl font-semibold",children:"Events Management"}),a.jsx("p",{className:"text-xs sm:text-sm text-gray-500 mt-1",children:"Manage upcoming events and special training programs"})]}),a.jsxs(Y,{onClick:w,size:"sm",className:"whitespace-nowrap",children:[a.jsx(Yt,{size:16,className:"mr-1"}),"Add New Event"]})]}),r&&!n&&!o?a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4",children:[...Array(2)].map((j,D)=>a.jsxs("div",{className:"border rounded-lg p-4",children:[a.jsx(rt,{className:"h-6 w-3/4 mb-2"}),a.jsx(rt,{className:"h-4 w-full mb-2"}),a.jsx(rt,{className:"h-4 w-full mb-2"}),a.jsx(rt,{className:"h-4 w-1/2"})]},D))}):e.length===0?a.jsxs(ls,{variant:"default",className:"bg-blue-50 border-blue-200",children:[a.jsx(Ba,{className:"h-4 w-4 text-blue-500"}),a.jsx(cs,{children:'No events found. Click "Add New Event" to create one.'})]}):a.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 mt-4",children:e.map(j=>a.jsxs(He,{className:"overflow-hidden",children:[a.jsx(vt,{className:"bg-gray-50 py-3 px-4",children:a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsx(xt,{className:"text-base",children:j.title}),a.jsxs("div",{className:"flex gap-1 ml-2",children:[a.jsx(Y,{variant:"ghost",size:"sm",className:"h-7 w-7 p-0",onClick:()=>N(j),children:a.jsx(Jr,{size:14})}),a.jsx(Y,{variant:"ghost",size:"sm",className:"h-7 w-7 p-0 text-red-500",onClick:()=>x(j),children:a.jsx(Vr,{size:14})})]})]})}),a.jsxs(Ye,{className:"p-4 space-y-2",children:[a.jsx("p",{className:"text-sm text-gray-600",children:j.description}),a.jsxs("div",{className:"flex items-center text-xs text-gray-500",children:[a.jsx(Ds,{size:14,className:"mr-1"}),a.jsx("span",{children:j.date})]}),a.jsxs("div",{className:"flex justify-between items-center mt-2",children:[a.jsxs("span",{className:"text-sm font-semibold",children:["₹",j.price.toLocaleString()]}),a.jsx("span",{className:"text-xs text-gray-500",children:j.location})]})]})]},j.id))}),a.jsx(Rt,{open:n,onOpenChange:i,children:a.jsxs(At,{className:"max-w-md",children:[a.jsxs(Ft,{children:[a.jsx(It,{children:"Confirm Delete"}),a.jsxs(Ti,{children:['Are you sure you want to delete "',c==null?void 0:c.title,'"? This action cannot be undone.']})]}),a.jsxs(nr,{className:"gap-2 sm:gap-0",children:[a.jsx(Y,{variant:"outline",onClick:()=>i(!1),disabled:r,children:"Cancel"}),a.jsx(Y,{variant:"destructive",onClick:g,disabled:r,children:r?"Deleting...":"Delete"})]})]})}),a.jsx(Rt,{open:o,onOpenChange:l,children:a.jsxs(At,{className:"max-w-md max-h-[90vh] flex flex-col",children:[a.jsx(Ft,{children:a.jsx(It,{children:c?"Edit Event":"Create New Event"})}),a.jsx(ft,{className:"flex-1 pr-4",children:a.jsxs("form",{onSubmit:h,className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-1",children:"Event Title"}),a.jsx("input",{name:"title",value:u.title,onChange:y,className:"w-full px-3 py-2 border border-gray-300 rounded-md",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-1",children:"Description"}),a.jsx("textarea",{name:"description",value:u.description,onChange:y,rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md",required:!0})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-1",children:"Date (YYYY-MM-DD)"}),a.jsx("input",{name:"date",type:"date",value:u.date,onChange:y,className:"w-full px-3 py-2 border border-gray-300 rounded-md",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-1",children:"Time"}),a.jsx("input",{name:"time",value:u.time,onChange:y,className:"w-full px-3 py-2 border border-gray-300 rounded-md",required:!0})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-1",children:"Category"}),a.jsx("input",{name:"class_category",value:u.class_category,onChange:y,className:"w-full px-3 py-2 border border-gray-300 rounded-md",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-1",children:"Capacity"}),a.jsx("input",{type:"number",name:"class_capacity",value:u.class_capacity,onChange:y,className:"w-full px-3 py-2 border border-gray-300 rounded-md",required:!0})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-1",children:"Location"}),a.jsx("input",{name:"location",value:u.location,onChange:y,className:"w-full px-3 py-2 border border-gray-300 rounded-md",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-1",children:"Price (₹)"}),a.jsx("input",{type:"number",name:"price",value:u.price,onChange:y,className:"w-full px-3 py-2 border border-gray-300 rounded-md",required:!0})]}),a.jsx("div",{className:"pt-4",children:a.jsxs(nr,{children:[a.jsx(Y,{variant:"outline",type:"button",onClick:()=>l(!1),disabled:r,children:"Cancel"}),a.jsx(Y,{type:"submit",disabled:r,children:r?"Saving...":c?"Update":"Create"})]})})]})})]})})]})},En=10*1024*1024,_s="/placeholder-image.jpg",Td=()=>{const[e,t]=f.useState(""),[r,s]=f.useState(!1),[n,i]=f.useState(!1),[o,l]=f.useState(!1),[c,d]=f.useState(null),[u,p]=f.useState("Android App"),[m,b]=f.useState(!1),[N,x]=f.useState(null),[g,y]=f.useState([]),{toast:h}=qt(),w=["Campus","Facilities","Classes","Students","Events","Faculty","Successful Candidates","Profiles","Logos","Home","Android App","App Banners","App Icons","Profile Pictures","UI Elements"],[j,D]=f.useState({title:"",category:"Android App",file:null,previewUrl:null});f.useEffect(()=>{A()},[]);const A=async()=>{try{b(!0),x(null);const{data:_,error:V}=await se.from("academy_images").select("*").order("created_at",{ascending:!1});V&&console.warn("Database error:",V);let B=[];_&&!V&&(B=_.map(z=>({id:z.id,title:z.title||"Untitled",url:z.url,category:z.category||"General",storage_path:z.storage_path,fileName:z.filename||"",bucket:"images",uploadDate:new Date(z.created_at).toISOString().split("T")[0],inDatabase:!0})));try{const{data:z,error:T}=await se.storage.listBuckets();if(T)console.warn("Error listing buckets:",T);else{const F=(z==null?void 0:z.find(q=>q.name==="images"))||(z&&z.length>0?z[0]:{name:"images"}),{data:ce,error:Ce}=await se.storage.from(F.name).list("",{sortBy:{column:"name",order:"asc"}});if(Ce)console.warn("Storage error:",Ce);else if(ce){const q=ce.filter(te=>te&&!te.name.endsWith("/")&&/\.(jpg|jpeg|png|gif|svg|webp)$/i.test(te.name));for(const te of q){if(B.some(Te=>Te.storage_path===te.name||Te.fileName===te.name))continue;const{data:ke}=se.storage.from(F.name).getPublicUrl(te.name);ke&&ke.publicUrl&&B.push({id:`storage-${te.id||te.name}`,title:te.name.replace(/\.[^/.]+$/,"").replace(/_/g," "),url:ke.publicUrl,category:"Android App",fileName:te.name,storage_path:te.name,bucket:F.name,uploadDate:new Date(te.created_at||Date.now()).toISOString().split("T")[0],inDatabase:!1})}}}}catch(z){console.error("Error accessing storage:",z)}y(B)}catch(_){console.error("Error in fetchImages:",_),x(_.message||"Failed to load images"),h({title:"Error loading images",description:"There was an error loading images. Please try again.",variant:"destructive"})}finally{b(!1)}},k=_=>{if(_.target.files&&_.target.files[0]){const V=_.target.files[0];if(V.size>En){h({title:"File too large",description:`The file size exceeds the maximum limit of ${En/(1024*1024)}MB`,variant:"destructive"});return}D({...j,file:V,previewUrl:URL.createObjectURL(V)})}},X=async()=>{if(!j.title||!j.category||!j.file){h({title:"Missing information",description:"Please fill all fields and select a file",variant:"destructive"});return}try{b(!0);const _=Date.now(),V=j.title.replace(/\s+/g,"_"),B=j.file.name.split(".").pop(),z=`${_}_${V}.${B}`;let T="images";try{const{data:te,error:ke}=await se.storage.listBuckets();!ke&&te&&te.length>0&&(T=(te.find(Be=>Be.name==="images")||te[0]).name)}catch(te){console.warn("Error listing buckets:",te)}const{data:F,error:ce}=await se.storage.from(T).upload(z,j.file,{cacheControl:"3600",upsert:!1});if(ce)throw ce;const{data:Ce}=se.storage.from(T).getPublicUrl(z);if(!Ce||!Ce.publicUrl)throw new Error("Failed to get public URL for the uploaded image");const{error:q}=await se.from("academy_images").insert({title:j.title,category:j.category,url:Ce.publicUrl,filename:z,storage_path:z});if(q)throw q;h({title:"Image uploaded",description:"The image has been successfully uploaded"}),M(),A()}catch(_){h({title:"Upload failed",description:_.message||"There was an error uploading the image. Please try again.",variant:"destructive"})}finally{b(!1)}},I=async()=>{if(c)try{if(b(!0),c.storage_path)try{await se.storage.from(c.bucket||"images").remove([c.storage_path])}catch(_){console.warn("Error deleting from storage:",_)}if(c.inDatabase)try{await se.from("academy_images").delete().eq("id",c.id)}catch(_){throw console.warn("Error deleting from database:",_),_}y(g.filter(_=>_.id!==c.id)),h({title:"Image deleted",description:"The image has been successfully removed"}),l(!1),d(null)}catch(_){h({title:"Delete failed",description:_.message||"There was an error deleting the image.",variant:"destructive"})}finally{b(!1)}},K=async()=>{if(c)try{if(b(!0),c.inDatabase)await se.from("academy_images").update({title:c.title,category:c.category}).eq("id",c.id);else{const{data:_}=se.storage.from(c.bucket||"images").getPublicUrl(c.storage_path);if(!_||!_.publicUrl)throw new Error("Failed to get public URL for the image");await se.from("academy_images").insert({title:c.title,category:c.category,url:_.publicUrl,filename:c.fileName,storage_path:c.storage_path})}y(g.map(_=>_.id===c.id?{...c,inDatabase:!0}:_)),i(!1),d(null),h({title:"Image updated",description:"The image details have been updated successfully"})}catch(_){h({title:"Update failed",description:_.message||"There was an error updating the image.",variant:"destructive"})}finally{b(!1)}},M=()=>{j.previewUrl&&URL.revokeObjectURL(j.previewUrl),D({title:"",category:"Android App",file:null,previewUrl:null}),s(!1)},E=g.filter(_=>(_.title.toLowerCase().includes(e.toLowerCase())||_.category.toLowerCase().includes(e.toLowerCase()))&&(u?_.category===u:!0));return a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"mb-6",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h2",{className:"text-xl font-semibold text-academy-primary",children:"Android App Images"}),a.jsxs(Y,{onClick:()=>s(!0),className:"bg-academy-primary hover:bg-academy-primary/90",children:[a.jsx(Yt,{size:16,className:"mr-2"}),"Upload Image"]})]}),a.jsx("div",{className:"bg-white p-4 rounded-lg shadow-sm mb-4",children:a.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[a.jsxs("div",{className:"relative flex-grow",children:[a.jsx(Pi,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:16}),a.jsx(ve,{className:"pl-10",placeholder:"Search images...",value:e,onChange:_=>t(_.target.value)})]}),a.jsxs(Dr,{value:u,onValueChange:p,children:[a.jsx(vr,{className:"w-full sm:w-40",children:a.jsx(Er,{placeholder:"Filter by category"})}),a.jsxs(xr,{children:[a.jsx(Pt,{value:"",children:"All Categories"}),w.map(_=>a.jsx(Pt,{value:_,children:_},_))]})]})]})}),N&&a.jsx(ls,{variant:"destructive",className:"mb-4",children:a.jsx(cs,{children:N})}),a.jsx(He,{children:a.jsx(Ye,{className:"p-0",children:a.jsxs(ns,{defaultValue:"grid",className:"p-4",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsxs(is,{children:[a.jsx(et,{value:"grid",children:"Grid View"}),a.jsx(et,{value:"list",children:"List View"})]}),a.jsxs("span",{className:"text-sm text-gray-500",children:[E.length," images found"]})]}),a.jsx(tt,{value:"grid",className:"mt-0",children:m?a.jsx("div",{className:"text-center py-8",children:"Loading images..."}):E.length===0?a.jsx("div",{className:"text-center py-8",children:"No images found"}):a.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-4",children:E.map(_=>a.jsxs("div",{className:"rounded-lg overflow-hidden border border-gray-200",children:[a.jsx("div",{className:"h-40",children:a.jsx("img",{src:_.url,alt:_.title,className:"w-full h-full object-cover",onError:V=>{V.currentTarget.src=_s}})}),a.jsxs("div",{className:"p-3",children:[a.jsx("h3",{className:"text-sm font-medium truncate",title:_.title,children:_.title}),a.jsxs("div",{className:"flex justify-between items-center mt-2",children:[a.jsx(jn,{variant:"secondary",children:_.category}),a.jsxs("div",{className:"flex space-x-1",children:[a.jsx(Y,{size:"icon",variant:"ghost",className:"h-7 w-7",onClick:()=>{d(_),i(!0)},children:a.jsx(Jr,{className:"h-4 w-4"})}),a.jsx(Y,{size:"icon",variant:"ghost",className:"h-7 w-7 text-red-500",onClick:()=>{d(_),l(!0)},children:a.jsx(_n,{className:"h-4 w-4"})})]})]})]})]},_.id))})}),a.jsx(tt,{value:"list",className:"mt-0",children:m?a.jsx("div",{className:"text-center py-8",children:"Loading images..."}):E.length===0?a.jsx("div",{className:"text-center py-8",children:"No images found"}):a.jsx("div",{className:"overflow-x-auto",children:a.jsxs(Ua,{children:[a.jsx(Wa,{children:a.jsxs(sr,{children:[a.jsx(Le,{className:"w-12",children:"Preview"}),a.jsx(Le,{children:"Title"}),a.jsx(Le,{children:"Category"}),a.jsx(Le,{children:"Upload Date"}),a.jsx(Le,{className:"text-right",children:"Actions"})]})}),a.jsx($a,{children:E.map(_=>a.jsxs(sr,{children:[a.jsx(Me,{children:a.jsx("div",{className:"w-12 h-12 overflow-hidden rounded",children:a.jsx("img",{src:_.url,alt:_.title,className:"w-full h-full object-cover",onError:V=>{V.currentTarget.src=_s}})})}),a.jsx(Me,{className:"font-medium",children:_.title}),a.jsx(Me,{children:a.jsx(jn,{variant:"secondary",children:_.category})}),a.jsx(Me,{children:_.uploadDate}),a.jsxs(Me,{className:"text-right",children:[a.jsxs(Y,{size:"sm",variant:"ghost",onClick:()=>{d(_),i(!0)},children:[a.jsx(Jr,{className:"h-4 w-4 mr-1"})," Edit"]}),a.jsxs(Y,{size:"sm",variant:"ghost",className:"text-red-500",onClick:()=>{d(_),l(!0)},children:[a.jsx(_n,{className:"h-4 w-4 mr-1"})," Delete"]})]})]},_.id))})]})})})]})})})]}),a.jsx(Rt,{open:r,onOpenChange:_=>!_&&M(),children:a.jsxs(At,{className:"sm:max-w-md",children:[a.jsx(Ft,{children:a.jsx(It,{children:"Upload New Image"})}),a.jsxs("div",{className:"grid gap-4 py-4",children:[a.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[a.jsx(Ne,{htmlFor:"title",className:"text-right",children:"Title"}),a.jsx(ve,{id:"title",value:j.title,onChange:_=>D({...j,title:_.target.value}),className:"col-span-3"})]}),a.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[a.jsx(Ne,{htmlFor:"category",className:"text-right",children:"Category"}),a.jsxs(Dr,{value:j.category,onValueChange:_=>D({...j,category:_}),children:[a.jsx(vr,{className:"col-span-3",children:a.jsx(Er,{placeholder:"Select a category"})}),a.jsx(xr,{children:w.map(_=>a.jsx(Pt,{value:_,children:_},_))})]})]}),a.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[a.jsx(Ne,{htmlFor:"file",className:"text-right",children:"Image"}),a.jsx(ve,{id:"file",type:"file",accept:"image/*",onChange:k,className:"col-span-3"})]}),j.previewUrl&&a.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[a.jsx("div",{className:"text-right",children:a.jsx(Ne,{children:"Preview"})}),a.jsx("div",{className:"col-span-3",children:a.jsx("img",{src:j.previewUrl,alt:"Preview",className:"max-h-48 w-auto object-contain"})})]})]}),a.jsxs(nr,{children:[a.jsx(Y,{variant:"outline",onClick:M,disabled:m,children:"Cancel"}),a.jsx(Y,{onClick:X,disabled:m,className:"bg-academy-primary",children:m?"Uploading...":"Upload"})]})]})}),a.jsx(Rt,{open:n,onOpenChange:i,children:a.jsxs(At,{className:"sm:max-w-md",children:[a.jsx(Ft,{children:a.jsx(It,{children:"Edit Image"})}),c&&a.jsxs("div",{className:"grid gap-4 py-4",children:[a.jsx("div",{className:"mx-auto mb-4",children:a.jsx("img",{src:c.url,alt:c.title,className:"max-w-full max-h-32 object-contain",onError:_=>{_.currentTarget.src=_s}})}),a.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[a.jsx(Ne,{htmlFor:"edit-title",className:"text-right",children:"Title"}),a.jsx(ve,{id:"edit-title",value:c.title,onChange:_=>d({...c,title:_.target.value}),className:"col-span-3"})]}),a.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[a.jsx(Ne,{htmlFor:"edit-category",className:"text-right",children:"Category"}),a.jsxs(Dr,{value:c.category,onValueChange:_=>d({...c,category:_}),children:[a.jsx(vr,{className:"col-span-3",children:a.jsx(Er,{placeholder:"Select a category"})}),a.jsx(xr,{children:w.map(_=>a.jsx(Pt,{value:_,children:_},_))})]})]})]}),a.jsxs(nr,{children:[a.jsx(Y,{variant:"outline",onClick:()=>i(!1),disabled:m,children:"Cancel"}),a.jsx(Y,{onClick:K,disabled:m,className:"bg-academy-primary",children:m?"Saving...":"Save Changes"})]})]})}),a.jsx(Rt,{open:o,onOpenChange:l,children:a.jsxs(At,{className:"sm:max-w-md",children:[a.jsx(Ft,{children:a.jsx(It,{children:"Delete Image"})}),a.jsxs("div",{className:"py-4",children:[a.jsx("p",{className:"mb-4",children:"Are you sure you want to delete this image?"}),c&&a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("img",{src:c.url,alt:c.title,className:"w-16 h-16 object-cover rounded",onError:_=>{_.currentTarget.src=_s}}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:c.title}),a.jsx("p",{className:"text-sm text-gray-500",children:c.category})]})]})]}),a.jsxs(nr,{children:[a.jsx(Y,{variant:"outline",onClick:()=>l(!1),disabled:m,children:"Cancel"}),a.jsx(Y,{variant:"destructive",onClick:I,disabled:m,children:m?"Deleting...":"Delete"})]})]})})]})};function de(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function mt(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}function Qe(e,t){const r=de(e);return isNaN(t)?mt(e,NaN):(t&&r.setDate(r.getDate()+t),r)}function kt(e,t){const r=de(e);if(isNaN(t))return mt(e,NaN);if(!t)return r;const s=r.getDate(),n=mt(e,r.getTime());n.setMonth(r.getMonth()+t+1,0);const i=n.getDate();return s>=i?n:(r.setFullYear(n.getFullYear(),n.getMonth(),s),r)}const Xa=6048e5,Pd=864e5;let Md={};function ds(){return Md}function Vt(e,t){var l,c,d,u;const r=ds(),s=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((u=(d=r.locale)==null?void 0:d.options)==null?void 0:u.weekStartsOn)??0,n=de(e),i=n.getDay(),o=(i<s?7:0)+i-s;return n.setDate(n.getDate()-o),n.setHours(0,0,0,0),n}function _r(e){return Vt(e,{weekStartsOn:1})}function Io(e){const t=de(e),r=t.getFullYear(),s=mt(e,0);s.setFullYear(r+1,0,4),s.setHours(0,0,0,0);const n=_r(s),i=mt(e,0);i.setFullYear(r,0,4),i.setHours(0,0,0,0);const o=_r(i);return t.getTime()>=n.getTime()?r+1:t.getTime()>=o.getTime()?r:r-1}function Pr(e){const t=de(e);return t.setHours(0,0,0,0),t}function Os(e){const t=de(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function Mt(e,t){const r=Pr(e),s=Pr(t),n=+r-Os(r),i=+s-Os(s);return Math.round((n-i)/Pd)}function Od(e){const t=Io(e),r=mt(e,0);return r.setFullYear(t,0,4),r.setHours(0,0,0,0),_r(r)}function Ca(e,t){const r=t*7;return Qe(e,r)}function Rd(e,t){return kt(e,t*12)}function Ad(e){let t;return e.forEach(function(r){const s=de(r);(t===void 0||t<s||isNaN(Number(s)))&&(t=s)}),t||new Date(NaN)}function Fd(e){let t;return e.forEach(r=>{const s=de(r);(!t||t>s||isNaN(+s))&&(t=s)}),t||new Date(NaN)}function ot(e,t){const r=Pr(e),s=Pr(t);return+r==+s}function Ga(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function Id(e){if(!Ga(e)&&typeof e!="number")return!1;const t=de(e);return!isNaN(Number(t))}function es(e,t){const r=de(e),s=de(t),n=r.getFullYear()-s.getFullYear(),i=r.getMonth()-s.getMonth();return n*12+i}function Ld(e,t,r){const s=Vt(e,r),n=Vt(t,r),i=+s-Os(s),o=+n-Os(n);return Math.round((i-o)/Xa)}function Ka(e){const t=de(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(23,59,59,999),t}function lt(e){const t=de(e);return t.setDate(1),t.setHours(0,0,0,0),t}function Lo(e){const t=de(e),r=mt(e,0);return r.setFullYear(t.getFullYear(),0,1),r.setHours(0,0,0,0),r}function Qa(e,t){var l,c,d,u;const r=ds(),s=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((u=(d=r.locale)==null?void 0:d.options)==null?void 0:u.weekStartsOn)??0,n=de(e),i=n.getDay(),o=(i<s?-7:0)+6-(i-s);return n.setDate(n.getDate()+o),n.setHours(23,59,59,999),n}function Vo(e){return Qa(e,{weekStartsOn:1})}const Vd={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Ud=(e,t,r)=>{let s;const n=Vd[e];return typeof n=="string"?s=n:t===1?s=n.one:s=n.other.replace("{{count}}",t.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+s:s+" ago":s};function ia(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const Wd={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},$d={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Bd={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},zd={date:ia({formats:Wd,defaultWidth:"full"}),time:ia({formats:$d,defaultWidth:"full"}),dateTime:ia({formats:Bd,defaultWidth:"full"})},Hd={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Yd=(e,t,r,s)=>Hd[e];function Br(e){return(t,r)=>{const s=r!=null&&r.context?String(r.context):"standalone";let n;if(s==="formatting"&&e.formattingValues){const o=e.defaultFormattingWidth||e.defaultWidth,l=r!=null&&r.width?String(r.width):o;n=e.formattingValues[l]||e.formattingValues[o]}else{const o=e.defaultWidth,l=r!=null&&r.width?String(r.width):e.defaultWidth;n=e.values[l]||e.values[o]}const i=e.argumentCallback?e.argumentCallback(t):t;return n[i]}}const Zd={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},qd={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Xd={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Gd={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Kd={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Qd={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Jd=(e,t)=>{const r=Number(e),s=r%100;if(s>20||s<10)switch(s%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},eu={ordinalNumber:Jd,era:Br({values:Zd,defaultWidth:"wide"}),quarter:Br({values:qd,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Br({values:Xd,defaultWidth:"wide"}),day:Br({values:Gd,defaultWidth:"wide"}),dayPeriod:Br({values:Kd,defaultWidth:"wide",formattingValues:Qd,defaultFormattingWidth:"wide"})};function zr(e){return(t,r={})=>{const s=r.width,n=s&&e.matchPatterns[s]||e.matchPatterns[e.defaultMatchWidth],i=t.match(n);if(!i)return null;const o=i[0],l=s&&e.parsePatterns[s]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?ru(l,p=>p.test(o)):tu(l,p=>p.test(o));let d;d=e.valueCallback?e.valueCallback(c):c,d=r.valueCallback?r.valueCallback(d):d;const u=t.slice(o.length);return{value:d,rest:u}}}function tu(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function ru(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function su(e){return(t,r={})=>{const s=t.match(e.matchPattern);if(!s)return null;const n=s[0],i=t.match(e.parsePattern);if(!i)return null;let o=e.valueCallback?e.valueCallback(i[0]):i[0];o=r.valueCallback?r.valueCallback(o):o;const l=t.slice(n.length);return{value:o,rest:l}}}const au=/^(\d+)(th|st|nd|rd)?/i,nu=/\d+/i,iu={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},ou={any:[/^b/i,/^(a|c)/i]},lu={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},cu={any:[/1/i,/2/i,/3/i,/4/i]},du={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},uu={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},fu={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},hu={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},mu={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},pu={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},gu={ordinalNumber:su({matchPattern:au,parsePattern:nu,valueCallback:e=>parseInt(e,10)}),era:zr({matchPatterns:iu,defaultMatchWidth:"wide",parsePatterns:ou,defaultParseWidth:"any"}),quarter:zr({matchPatterns:lu,defaultMatchWidth:"wide",parsePatterns:cu,defaultParseWidth:"any",valueCallback:e=>e+1}),month:zr({matchPatterns:du,defaultMatchWidth:"wide",parsePatterns:uu,defaultParseWidth:"any"}),day:zr({matchPatterns:fu,defaultMatchWidth:"wide",parsePatterns:hu,defaultParseWidth:"any"}),dayPeriod:zr({matchPatterns:mu,defaultMatchWidth:"any",parsePatterns:pu,defaultParseWidth:"any"})},Uo={code:"en-US",formatDistance:Ud,formatLong:zd,formatRelative:Yd,localize:eu,match:gu,options:{weekStartsOn:0,firstWeekContainsDate:1}};function vu(e){const t=de(e);return Mt(t,Lo(t))+1}function Wo(e){const t=de(e),r=+_r(t)-+Od(t);return Math.round(r/Xa)+1}function $o(e,t){var u,p,m,b;const r=de(e),s=r.getFullYear(),n=ds(),i=(t==null?void 0:t.firstWeekContainsDate)??((p=(u=t==null?void 0:t.locale)==null?void 0:u.options)==null?void 0:p.firstWeekContainsDate)??n.firstWeekContainsDate??((b=(m=n.locale)==null?void 0:m.options)==null?void 0:b.firstWeekContainsDate)??1,o=mt(e,0);o.setFullYear(s+1,0,i),o.setHours(0,0,0,0);const l=Vt(o,t),c=mt(e,0);c.setFullYear(s,0,i),c.setHours(0,0,0,0);const d=Vt(c,t);return r.getTime()>=l.getTime()?s+1:r.getTime()>=d.getTime()?s:s-1}function xu(e,t){var l,c,d,u;const r=ds(),s=(t==null?void 0:t.firstWeekContainsDate)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??r.firstWeekContainsDate??((u=(d=r.locale)==null?void 0:d.options)==null?void 0:u.firstWeekContainsDate)??1,n=$o(e,t),i=mt(e,0);return i.setFullYear(n,0,s),i.setHours(0,0,0,0),Vt(i,t)}function Bo(e,t){const r=de(e),s=+Vt(r,t)-+xu(r,t);return Math.round(s/Xa)+1}function we(e,t){const r=e<0?"-":"",s=Math.abs(e).toString().padStart(t,"0");return r+s}const Jt={y(e,t){const r=e.getFullYear(),s=r>0?r:1-r;return we(t==="yy"?s%100:s,t.length)},M(e,t){const r=e.getMonth();return t==="M"?String(r+1):we(r+1,2)},d(e,t){return we(e.getDate(),t.length)},a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(e,t){return we(e.getHours()%12||12,t.length)},H(e,t){return we(e.getHours(),t.length)},m(e,t){return we(e.getMinutes(),t.length)},s(e,t){return we(e.getSeconds(),t.length)},S(e,t){const r=t.length,s=e.getMilliseconds(),n=Math.trunc(s*Math.pow(10,r-3));return we(n,t.length)}},Sr={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Tn={G:function(e,t,r){const s=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(s,{width:"abbreviated"});case"GGGGG":return r.era(s,{width:"narrow"});case"GGGG":default:return r.era(s,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){const s=e.getFullYear(),n=s>0?s:1-s;return r.ordinalNumber(n,{unit:"year"})}return Jt.y(e,t)},Y:function(e,t,r,s){const n=$o(e,s),i=n>0?n:1-n;if(t==="YY"){const o=i%100;return we(o,2)}return t==="Yo"?r.ordinalNumber(i,{unit:"year"}):we(i,t.length)},R:function(e,t){const r=Io(e);return we(r,t.length)},u:function(e,t){const r=e.getFullYear();return we(r,t.length)},Q:function(e,t,r){const s=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(s);case"QQ":return we(s,2);case"Qo":return r.ordinalNumber(s,{unit:"quarter"});case"QQQ":return r.quarter(s,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(s,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(s,{width:"wide",context:"formatting"})}},q:function(e,t,r){const s=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(s);case"qq":return we(s,2);case"qo":return r.ordinalNumber(s,{unit:"quarter"});case"qqq":return r.quarter(s,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(s,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(s,{width:"wide",context:"standalone"})}},M:function(e,t,r){const s=e.getMonth();switch(t){case"M":case"MM":return Jt.M(e,t);case"Mo":return r.ordinalNumber(s+1,{unit:"month"});case"MMM":return r.month(s,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(s,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(s,{width:"wide",context:"formatting"})}},L:function(e,t,r){const s=e.getMonth();switch(t){case"L":return String(s+1);case"LL":return we(s+1,2);case"Lo":return r.ordinalNumber(s+1,{unit:"month"});case"LLL":return r.month(s,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(s,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(s,{width:"wide",context:"standalone"})}},w:function(e,t,r,s){const n=Bo(e,s);return t==="wo"?r.ordinalNumber(n,{unit:"week"}):we(n,t.length)},I:function(e,t,r){const s=Wo(e);return t==="Io"?r.ordinalNumber(s,{unit:"week"}):we(s,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):Jt.d(e,t)},D:function(e,t,r){const s=vu(e);return t==="Do"?r.ordinalNumber(s,{unit:"dayOfYear"}):we(s,t.length)},E:function(e,t,r){const s=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(s,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(s,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(s,{width:"short",context:"formatting"});case"EEEE":default:return r.day(s,{width:"wide",context:"formatting"})}},e:function(e,t,r,s){const n=e.getDay(),i=(n-s.weekStartsOn+8)%7||7;switch(t){case"e":return String(i);case"ee":return we(i,2);case"eo":return r.ordinalNumber(i,{unit:"day"});case"eee":return r.day(n,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(n,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(n,{width:"short",context:"formatting"});case"eeee":default:return r.day(n,{width:"wide",context:"formatting"})}},c:function(e,t,r,s){const n=e.getDay(),i=(n-s.weekStartsOn+8)%7||7;switch(t){case"c":return String(i);case"cc":return we(i,t.length);case"co":return r.ordinalNumber(i,{unit:"day"});case"ccc":return r.day(n,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(n,{width:"narrow",context:"standalone"});case"cccccc":return r.day(n,{width:"short",context:"standalone"});case"cccc":default:return r.day(n,{width:"wide",context:"standalone"})}},i:function(e,t,r){const s=e.getDay(),n=s===0?7:s;switch(t){case"i":return String(n);case"ii":return we(n,t.length);case"io":return r.ordinalNumber(n,{unit:"day"});case"iii":return r.day(s,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(s,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(s,{width:"short",context:"formatting"});case"iiii":default:return r.day(s,{width:"wide",context:"formatting"})}},a:function(e,t,r){const n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(n,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(n,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(n,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(n,{width:"wide",context:"formatting"})}},b:function(e,t,r){const s=e.getHours();let n;switch(s===12?n=Sr.noon:s===0?n=Sr.midnight:n=s/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(n,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(n,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(n,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(n,{width:"wide",context:"formatting"})}},B:function(e,t,r){const s=e.getHours();let n;switch(s>=17?n=Sr.evening:s>=12?n=Sr.afternoon:s>=4?n=Sr.morning:n=Sr.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(n,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(n,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(n,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){let s=e.getHours()%12;return s===0&&(s=12),r.ordinalNumber(s,{unit:"hour"})}return Jt.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):Jt.H(e,t)},K:function(e,t,r){const s=e.getHours()%12;return t==="Ko"?r.ordinalNumber(s,{unit:"hour"}):we(s,t.length)},k:function(e,t,r){let s=e.getHours();return s===0&&(s=24),t==="ko"?r.ordinalNumber(s,{unit:"hour"}):we(s,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):Jt.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):Jt.s(e,t)},S:function(e,t){return Jt.S(e,t)},X:function(e,t,r){const s=e.getTimezoneOffset();if(s===0)return"Z";switch(t){case"X":return Mn(s);case"XXXX":case"XX":return pr(s);case"XXXXX":case"XXX":default:return pr(s,":")}},x:function(e,t,r){const s=e.getTimezoneOffset();switch(t){case"x":return Mn(s);case"xxxx":case"xx":return pr(s);case"xxxxx":case"xxx":default:return pr(s,":")}},O:function(e,t,r){const s=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+Pn(s,":");case"OOOO":default:return"GMT"+pr(s,":")}},z:function(e,t,r){const s=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+Pn(s,":");case"zzzz":default:return"GMT"+pr(s,":")}},t:function(e,t,r){const s=Math.trunc(e.getTime()/1e3);return we(s,t.length)},T:function(e,t,r){const s=e.getTime();return we(s,t.length)}};function Pn(e,t=""){const r=e>0?"-":"+",s=Math.abs(e),n=Math.trunc(s/60),i=s%60;return i===0?r+String(n):r+String(n)+t+we(i,2)}function Mn(e,t){return e%60===0?(e>0?"-":"+")+we(Math.abs(e)/60,2):pr(e,t)}function pr(e,t=""){const r=e>0?"-":"+",s=Math.abs(e),n=we(Math.trunc(s/60),2),i=we(s%60,2);return r+n+t+i}const On=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},zo=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},yu=(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],s=r[1],n=r[2];if(!n)return On(e,t);let i;switch(s){case"P":i=t.dateTime({width:"short"});break;case"PP":i=t.dateTime({width:"medium"});break;case"PPP":i=t.dateTime({width:"long"});break;case"PPPP":default:i=t.dateTime({width:"full"});break}return i.replace("{{date}}",On(s,t)).replace("{{time}}",zo(n,t))},wu={p:zo,P:yu},bu=/^D+$/,_u=/^Y+$/,ju=["D","DD","YY","YYYY"];function Nu(e){return bu.test(e)}function Su(e){return _u.test(e)}function Cu(e,t,r){const s=ku(e,t,r);if(console.warn(s),ju.includes(e))throw new RangeError(s)}function ku(e,t,r){const s=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${s} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Du=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Eu=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Tu=/^'([^]*?)'?$/,Pu=/''/g,Mu=/[a-zA-Z]/;function Xt(e,t,r){var u,p,m,b,N,x,g,y;const s=ds(),n=(r==null?void 0:r.locale)??s.locale??Uo,i=(r==null?void 0:r.firstWeekContainsDate)??((p=(u=r==null?void 0:r.locale)==null?void 0:u.options)==null?void 0:p.firstWeekContainsDate)??s.firstWeekContainsDate??((b=(m=s.locale)==null?void 0:m.options)==null?void 0:b.firstWeekContainsDate)??1,o=(r==null?void 0:r.weekStartsOn)??((x=(N=r==null?void 0:r.locale)==null?void 0:N.options)==null?void 0:x.weekStartsOn)??s.weekStartsOn??((y=(g=s.locale)==null?void 0:g.options)==null?void 0:y.weekStartsOn)??0,l=de(e);if(!Id(l))throw new RangeError("Invalid time value");let c=t.match(Eu).map(h=>{const w=h[0];if(w==="p"||w==="P"){const j=wu[w];return j(h,n.formatLong)}return h}).join("").match(Du).map(h=>{if(h==="''")return{isToken:!1,value:"'"};const w=h[0];if(w==="'")return{isToken:!1,value:Ou(h)};if(Tn[w])return{isToken:!0,value:h};if(w.match(Mu))throw new RangeError("Format string contains an unescaped latin alphabet character `"+w+"`");return{isToken:!1,value:h}});n.localize.preprocessor&&(c=n.localize.preprocessor(l,c));const d={firstWeekContainsDate:i,weekStartsOn:o,locale:n};return c.map(h=>{if(!h.isToken)return h.value;const w=h.value;(!(r!=null&&r.useAdditionalWeekYearTokens)&&Su(w)||!(r!=null&&r.useAdditionalDayOfYearTokens)&&Nu(w))&&Cu(w,t,String(e));const j=Tn[w[0]];return j(l,w,n.localize,d)}).join("")}function Ou(e){const t=e.match(Tu);return t?t[1].replace(Pu,"'"):e}function Ru(e){const t=de(e),r=t.getFullYear(),s=t.getMonth(),n=mt(e,0);return n.setFullYear(r,s+1,0),n.setHours(0,0,0,0),n.getDate()}function Au(e){return Math.trunc(+de(e)/1e3)}function Fu(e){const t=de(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(0,0,0,0),t}function Iu(e,t){return Ld(Fu(e),lt(e),t)+1}function ka(e,t){const r=de(e),s=de(t);return r.getTime()>s.getTime()}function Ho(e,t){const r=de(e),s=de(t);return+r<+s}function Ja(e,t){const r=de(e),s=de(t);return r.getFullYear()===s.getFullYear()&&r.getMonth()===s.getMonth()}function Lu(e,t){const r=de(e),s=de(t);return r.getFullYear()===s.getFullYear()}function oa(e,t){return Qe(e,-t)}function la(e,t){const r=de(e),s=r.getFullYear(),n=r.getDate(),i=mt(e,0);i.setFullYear(s,t,15),i.setHours(0,0,0,0);const o=Ru(i);return r.setMonth(t,Math.min(n,o)),r}function Rn(e,t){const r=de(e);return isNaN(+r)?mt(e,NaN):(r.setFullYear(t),r)}const Vu=({})=>{const[e,t]=f.useState([]),[r,s]=f.useState(!0),[n,i]=f.useState(null),[o,l]=f.useState(null),[c,d]=f.useState(""),{toast:u}=qt();f.useEffect(()=>{p()},[]);const p=async()=>{try{s(!0),i(null),l(null);const x=await se.from("user_roles").select("count"),{data:g,error:y}=await se.from("class_registrations").select("*").order("created_at",{ascending:!1});if(y)throw y;console.log("Registrations fetched:",g),t(g||[])}catch(x){console.error("Error fetching class registrations:",x),i("Failed to load class registrations"),l(x.message||"Unknown error"),u({title:"Error",description:"Failed to load class registrations",variant:"destructive"})}finally{s(!1)}},m=async x=>{try{const{error:g}=await se.from("class_registrations").delete().eq("id",x);if(g)throw g;t(e.filter(y=>y.id!==x)),u({title:"Success",description:"Registration deleted successfully"})}catch(g){console.error("Error deleting registration:",g),u({title:"Error",description:"Failed to delete registration",variant:"destructive"})}},b=e.filter(x=>x.student_name.toLowerCase().includes(c.toLowerCase())||x.student_email.toLowerCase().includes(c.toLowerCase())||x.class_title.toLowerCase().includes(c.toLowerCase())),N=x=>{try{return Xt(new Date(x),"PPP")}catch{return x}};return a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[a.jsx("h2",{className:"text-xl font-semibold",children:"Class Registrations"}),a.jsxs("div",{className:"flex items-center gap-2 w-full sm:w-auto",children:[a.jsxs("div",{className:"relative w-full sm:w-64",children:[a.jsx(Pi,{className:"absolute left-2 top-2.5 h-4 w-4 text-muted-foreground"}),a.jsx(ve,{placeholder:"Search registrations...",value:c,onChange:x=>d(x.target.value),className:"pl-8"})]}),a.jsx(Y,{variant:"outline",size:"icon",onClick:()=>p(),disabled:r,children:a.jsx(Sc,{className:`h-4 w-4 ${r?"animate-spin":""}`})})]})]}),n&&a.jsxs(ls,{variant:"destructive",children:[a.jsx(Ba,{className:"h-4 w-4"}),a.jsx(Gi,{children:"Error loading registrations"}),a.jsxs(cs,{children:[n,o&&a.jsx("div",{className:"mt-2 p-2 bg-red-50 rounded text-xs font-mono overflow-x-auto",children:o})]})]}),r?a.jsx("div",{className:"space-y-2",children:Array(3).fill(0).map((x,g)=>a.jsx("div",{className:"flex gap-4",children:a.jsx(rt,{className:"h-12 w-full"})},g))}):b.length===0?a.jsx("div",{className:"text-center py-8 border rounded-md bg-muted/10",children:a.jsx("p",{className:"text-muted-foreground",children:c?"No registrations found matching your search":"No class registrations yet"})}):a.jsx("div",{className:"border rounded-md overflow-hidden",children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs(Ua,{children:[a.jsx(Wa,{children:a.jsxs(sr,{children:[a.jsx(Le,{className:"whitespace-nowrap",children:"Student Name"}),a.jsx(Le,{className:"whitespace-nowrap",children:"Email"}),a.jsx(Le,{className:"whitespace-nowrap",children:"Phone"}),a.jsx(Le,{className:"whitespace-nowrap",children:"Class"}),a.jsx(Le,{className:"whitespace-nowrap",children:"Class Date"}),a.jsx(Le,{className:"whitespace-nowrap",children:"Registration Date"}),a.jsx(Le,{className:"text-right whitespace-nowrap",children:"Actions"})]})}),a.jsx($a,{children:b.map(x=>a.jsxs(sr,{children:[a.jsx(Me,{className:"font-medium whitespace-nowrap",children:x.student_name}),a.jsx(Me,{className:"whitespace-nowrap",children:x.student_email}),a.jsx(Me,{className:"whitespace-nowrap",children:x.student_phone}),a.jsx(Me,{className:"whitespace-nowrap",children:x.class_title}),a.jsx(Me,{className:"whitespace-nowrap",children:N(x.class_date)}),a.jsx(Me,{className:"whitespace-nowrap",children:N(x.created_at)}),a.jsx(Me,{className:"text-right whitespace-nowrap",children:a.jsx(Y,{variant:"outline",size:"icon",onClick:()=>m(x.id),children:a.jsx(Vr,{className:"h-4 w-4 text-red-500"})})})]},x.id))})]})})})]})},ts={spinner:Cc,calendar:Ds,add:Yt,dotsHorizontal:Tc},Uu=e=>new Date(e).toLocaleDateString(),Wu=({loading:e,currentClasses:t,openDrawerForEdit:r,openDialog:s})=>a.jsx("div",{className:"overflow-x-auto",children:a.jsxs(Ua,{children:[a.jsx(Wa,{children:a.jsxs(sr,{children:[a.jsx(Le,{className:"w-[200px]",children:"Title"}),a.jsx(Le,{children:"Category"}),a.jsx(Le,{children:"Level"}),a.jsx(Le,{children:"Language"}),a.jsx(Le,{children:"Instructor"}),a.jsx(Le,{children:"Location"}),a.jsx(Le,{children:"Date"}),a.jsx(Le,{className:"text-right",children:"Actions"})]})}),a.jsxs($a,{children:[e&&a.jsx(sr,{children:a.jsx(Me,{colSpan:8,className:"text-center",children:a.jsxs("div",{className:"flex items-center justify-center",children:[a.jsx(ts.spinner,{className:"mr-2 h-4 w-4 animate-spin"}),"Loading classes..."]})})}),!e&&t.length===0&&a.jsx(sr,{children:a.jsx(Me,{colSpan:8,className:"text-center",children:"No classes found."})}),!e&&t.map(n=>a.jsxs(sr,{children:[a.jsx(Me,{className:"font-medium",children:n.class_title}),a.jsx(Me,{children:n.class_category}),a.jsx(Me,{children:n.class_level}),a.jsx(Me,{children:n.class_language}),a.jsx(Me,{children:n.class_instructor}),a.jsx(Me,{children:n.class_location}),a.jsx(Me,{children:Uu(n.class_date)}),a.jsx(Me,{className:"text-right",children:a.jsxs(cc,{children:[a.jsx(dc,{asChild:!0,children:a.jsxs(Y,{variant:"ghost",className:"h-8 w-8 p-0",children:[a.jsx("span",{className:"sr-only",children:"Open menu"}),a.jsx(ts.dotsHorizontal,{className:"h-4 w-4"})]})}),a.jsxs(uc,{align:"end",children:[a.jsx(xn,{onClick:()=>r(n),children:"Edit"}),a.jsx(xn,{onClick:()=>s(n),children:"Delete"})]})]})})]},n.id))]})]})}),$u=({isOpen:e,onOpenChange:t,selectedClass:r,onDelete:s,onCancel:n})=>a.jsx(Rt,{open:e,onOpenChange:t,children:a.jsxs(At,{className:"sm:max-w-[425px]",children:[a.jsxs(Ft,{children:[a.jsx(It,{children:"Are you sure?"}),a.jsx(Ti,{children:"This action cannot be undone. Are you sure you want to delete this class?"})]}),a.jsx("div",{className:"grid gap-4 py-4",children:a.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[a.jsx(Ne,{htmlFor:"name",className:"text-right",children:"Class Title"}),a.jsx(ve,{type:"text",id:"name",value:(r==null?void 0:r.class_title)||"",className:"col-span-3",disabled:!0})]})}),a.jsxs(nr,{children:[a.jsx(Y,{type:"button",variant:"secondary",onClick:n,children:"Cancel"}),a.jsx(Y,{type:"submit",onClick:s,children:"Delete"})]})]})});function Bu(e){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",t.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}const Yo=P.createContext({drawerRef:{current:null},overlayRef:{current:null},onPress:()=>{},onRelease:()=>{},onDrag:()=>{},onNestedDrag:()=>{},onNestedOpenChange:()=>{},onNestedRelease:()=>{},openProp:void 0,dismissible:!1,isOpen:!1,isDragging:!1,keyboardIsOpen:{current:!1},snapPointsOffset:null,snapPoints:null,handleOnly:!1,modal:!1,shouldFade:!1,activeSnapPoint:null,onOpenChange:()=>{},setActiveSnapPoint:()=>{},closeDrawer:()=>{},direction:"bottom",shouldScaleBackground:!1,setBackgroundColorOnScale:!0,noBodyStyles:!1,container:null,autoFocus:!1}),us=()=>{const e=P.useContext(Yo);if(!e)throw new Error("useDrawerContext must be used within a Drawer.Root");return e};Bu(`[data-vaul-drawer]{touch-action:none;will-change:transform;transition:transform .5s cubic-bezier(.32, .72, 0, 1);animation-duration:.5s;animation-timing-function:cubic-bezier(0.32,0.72,0,1)}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=bottom][data-state=open]{animation-name:slideFromBottom}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=bottom][data-state=closed]{animation-name:slideToBottom}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=top][data-state=open]{animation-name:slideFromTop}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=top][data-state=closed]{animation-name:slideToTop}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=left][data-state=open]{animation-name:slideFromLeft}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=left][data-state=closed]{animation-name:slideToLeft}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=right][data-state=open]{animation-name:slideFromRight}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=right][data-state=closed]{animation-name:slideToRight}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=bottom]{transform:translate3d(0,100%,0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=top]{transform:translate3d(0,-100%,0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=left]{transform:translate3d(-100%,0,0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=right]{transform:translate3d(100%,0,0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=top]{transform:translate3d(0,var(--snap-point-height,0),0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=bottom]{transform:translate3d(0,var(--snap-point-height,0),0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=left]{transform:translate3d(var(--snap-point-height,0),0,0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=right]{transform:translate3d(var(--snap-point-height,0),0,0)}[data-vaul-overlay][data-vaul-snap-points=false]{animation-duration:.5s;animation-timing-function:cubic-bezier(0.32,0.72,0,1)}[data-vaul-overlay][data-vaul-snap-points=false][data-state=open]{animation-name:fadeIn}[data-vaul-overlay][data-state=closed]{animation-name:fadeOut}[data-vaul-overlay][data-vaul-snap-points=true]{opacity:0;transition:opacity .5s cubic-bezier(.32, .72, 0, 1)}[data-vaul-overlay][data-vaul-snap-points=true]{opacity:1}[data-vaul-drawer]:not([data-vaul-custom-container=true])::after{content:'';position:absolute;background:inherit;background-color:inherit}[data-vaul-drawer][data-vaul-drawer-direction=top]::after{top:initial;bottom:100%;left:0;right:0;height:200%}[data-vaul-drawer][data-vaul-drawer-direction=bottom]::after{top:100%;bottom:initial;left:0;right:0;height:200%}[data-vaul-drawer][data-vaul-drawer-direction=left]::after{left:initial;right:100%;top:0;bottom:0;width:200%}[data-vaul-drawer][data-vaul-drawer-direction=right]::after{left:100%;right:initial;top:0;bottom:0;width:200%}[data-vaul-overlay][data-vaul-snap-points=true]:not([data-vaul-snap-points-overlay=true]):not(
[data-state=closed]
){opacity:0}[data-vaul-overlay][data-vaul-snap-points-overlay=true]{opacity:1}[data-vaul-handle]{display:block;position:relative;opacity:.7;background:#e2e2e4;margin-left:auto;margin-right:auto;height:5px;width:32px;border-radius:1rem;touch-action:pan-y}[data-vaul-handle]:active,[data-vaul-handle]:hover{opacity:1}[data-vaul-handle-hitarea]{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);width:max(100%,2.75rem);height:max(100%,2.75rem);touch-action:inherit}@media (hover:hover) and (pointer:fine){[data-vaul-drawer]{user-select:none}}@media (pointer:fine){[data-vaul-handle-hitarea]:{width:100%;height:100%}}@keyframes fadeIn{from{opacity:0}to{opacity:1}}@keyframes fadeOut{to{opacity:0}}@keyframes slideFromBottom{from{transform:translate3d(0,100%,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToBottom{to{transform:translate3d(0,100%,0)}}@keyframes slideFromTop{from{transform:translate3d(0,-100%,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToTop{to{transform:translate3d(0,-100%,0)}}@keyframes slideFromLeft{from{transform:translate3d(-100%,0,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToLeft{to{transform:translate3d(-100%,0,0)}}@keyframes slideFromRight{from{transform:translate3d(100%,0,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToRight{to{transform:translate3d(100%,0,0)}}`);const zu=24,Hu=typeof window<"u"?f.useLayoutEffect:f.useEffect;function An(...e){return(...t)=>{for(let r of e)typeof r=="function"&&r(...t)}}function Yu(){return en(/^Mac/)}function Zu(){return en(/^iPhone/)}function Fn(){return/^((?!chrome|android).)*safari/i.test(navigator.userAgent)}function qu(){return en(/^iPad/)||Yu()&&navigator.maxTouchPoints>1}function Zo(){return Zu()||qu()}function en(e){return typeof window<"u"&&window.navigator!=null?e.test(window.navigator.platform):void 0}const ca=typeof document<"u"&&window.visualViewport;function In(e){let t=window.getComputedStyle(e);return/(auto|scroll)/.test(t.overflow+t.overflowX+t.overflowY)}function qo(e){for(In(e)&&(e=e.parentElement);e&&!In(e);)e=e.parentElement;return e||document.scrollingElement||document.documentElement}const Xu=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);let js=0,da;function Gu(e={}){let{isDisabled:t}=e;Hu(()=>{if(!t)return js++,js===1&&Zo()&&(da=Ku()),()=>{js--,js===0&&(da==null||da())}},[t])}function Ku(){let e,t=0,r=p=>{e=qo(p.target),!(e===document.documentElement&&e===document.body)&&(t=p.changedTouches[0].pageY)},s=p=>{if(!e||e===document.documentElement||e===document.body){p.preventDefault();return}let m=p.changedTouches[0].pageY,b=e.scrollTop,N=e.scrollHeight-e.clientHeight;N!==0&&((b<=0&&m>t||b>=N&&m<t)&&p.preventDefault(),t=m)},n=p=>{let m=p.target;Da(m)&&m!==document.activeElement&&(p.preventDefault(),m.style.transform="translateY(-2000px)",m.focus(),requestAnimationFrame(()=>{m.style.transform=""}))},i=p=>{let m=p.target;Da(m)&&(m.style.transform="translateY(-2000px)",requestAnimationFrame(()=>{m.style.transform="",ca&&(ca.height<window.innerHeight?requestAnimationFrame(()=>{Ln(m)}):ca.addEventListener("resize",()=>Ln(m),{once:!0}))}))},o=()=>{window.scrollTo(0,0)},l=window.pageXOffset,c=window.pageYOffset,d=An(Qu(document.documentElement,"paddingRight",`${window.innerWidth-document.documentElement.clientWidth}px`));window.scrollTo(0,0);let u=An(Hr(document,"touchstart",r,{passive:!1,capture:!0}),Hr(document,"touchmove",s,{passive:!1,capture:!0}),Hr(document,"touchend",n,{passive:!1,capture:!0}),Hr(document,"focus",i,!0),Hr(window,"scroll",o));return()=>{d(),u(),window.scrollTo(l,c)}}function Qu(e,t,r){let s=e.style[t];return e.style[t]=r,()=>{e.style[t]=s}}function Hr(e,t,r,s){return e.addEventListener(t,r,s),()=>{e.removeEventListener(t,r,s)}}function Ln(e){let t=document.scrollingElement||document.documentElement;for(;e&&e!==t;){let r=qo(e);if(r!==document.documentElement&&r!==document.body&&r!==e){let s=r.getBoundingClientRect().top,n=e.getBoundingClientRect().top,i=e.getBoundingClientRect().bottom;const o=r.getBoundingClientRect().bottom+zu;i>o&&(r.scrollTop+=n-s)}e=r.parentElement}}function Da(e){return e instanceof HTMLInputElement&&!Xu.has(e.type)||e instanceof HTMLTextAreaElement||e instanceof HTMLElement&&e.isContentEditable}function Ju(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function ef(...e){return t=>e.forEach(r=>Ju(r,t))}function Xo(...e){return f.useCallback(ef(...e),e)}const Go=new WeakMap;function We(e,t,r=!1){if(!e||!(e instanceof HTMLElement))return;let s={};Object.entries(t).forEach(([n,i])=>{if(n.startsWith("--")){e.style.setProperty(n,i);return}s[n]=e.style[n],e.style[n]=i}),!r&&Go.set(e,s)}function tf(e,t){if(!e||!(e instanceof HTMLElement))return;let r=Go.get(e);r&&(e.style[t]=r[t])}const $e=e=>{switch(e){case"top":case"bottom":return!0;case"left":case"right":return!1;default:return e}};function Ns(e,t){if(!e)return null;const r=window.getComputedStyle(e),s=r.transform||r.webkitTransform||r.mozTransform;let n=s.match(/^matrix3d\((.+)\)$/);return n?parseFloat(n[1].split(", ")[$e(t)?13:12]):(n=s.match(/^matrix\((.+)\)$/),n?parseFloat(n[1].split(", ")[$e(t)?5:4]):null)}function rf(e){return 8*(Math.log(e+1)-2)}function ua(e,t){if(!e)return()=>{};const r=e.style.cssText;return Object.assign(e.style,t),()=>{e.style.cssText=r}}function sf(...e){return(...t)=>{for(const r of e)typeof r=="function"&&r(...t)}}const Pe={DURATION:.5,EASE:[.32,.72,0,1]},Ko=.4,af=.25,nf=100,Qo=8,mr=16,Ea=26,fa="vaul-dragging";function Jo(e){const t=P.useRef(e);return P.useEffect(()=>{t.current=e}),P.useMemo(()=>(...r)=>t.current==null?void 0:t.current.call(t,...r),[])}function of({defaultProp:e,onChange:t}){const r=P.useState(e),[s]=r,n=P.useRef(s),i=Jo(t);return P.useEffect(()=>{n.current!==s&&(i(s),n.current=s)},[s,n,i]),r}function el({prop:e,defaultProp:t,onChange:r=()=>{}}){const[s,n]=of({defaultProp:t,onChange:r}),i=e!==void 0,o=i?e:s,l=Jo(r),c=P.useCallback(d=>{if(i){const p=typeof d=="function"?d(e):d;p!==e&&l(p)}else n(d)},[i,e,n,l]);return[o,c]}function lf({activeSnapPointProp:e,setActiveSnapPointProp:t,snapPoints:r,drawerRef:s,overlayRef:n,fadeFromIndex:i,onSnapPointChange:o,direction:l="bottom",container:c,snapToSequentialPoint:d}){const[u,p]=el({prop:e,defaultProp:r==null?void 0:r[0],onChange:t}),[m,b]=P.useState(typeof window<"u"?{innerWidth:window.innerWidth,innerHeight:window.innerHeight}:void 0);P.useEffect(()=>{function k(){b({innerWidth:window.innerWidth,innerHeight:window.innerHeight})}return window.addEventListener("resize",k),()=>window.removeEventListener("resize",k)},[]);const N=P.useMemo(()=>u===(r==null?void 0:r[r.length-1])||null,[r,u]),x=P.useMemo(()=>r==null?void 0:r.findIndex(k=>k===u),[r,u]),g=r&&r.length>0&&(i||i===0)&&!Number.isNaN(i)&&r[i]===u||!r,y=P.useMemo(()=>{const k=c?{width:c.getBoundingClientRect().width,height:c.getBoundingClientRect().height}:typeof window<"u"?{width:window.innerWidth,height:window.innerHeight}:{width:0,height:0};var X;return(X=r==null?void 0:r.map(I=>{const K=typeof I=="string";let M=0;if(K&&(M=parseInt(I,10)),$e(l)){const _=K?M:m?I*k.height:0;return m?l==="bottom"?k.height-_:-k.height+_:_}const E=K?M:m?I*k.width:0;return m?l==="right"?k.width-E:-k.width+E:E}))!=null?X:[]},[r,m,c]),h=P.useMemo(()=>x!==null?y==null?void 0:y[x]:null,[y,x]),w=P.useCallback(k=>{var X;const I=(X=y==null?void 0:y.findIndex(K=>K===k))!=null?X:null;o(I),We(s.current,{transition:`transform ${Pe.DURATION}s cubic-bezier(${Pe.EASE.join(",")})`,transform:$e(l)?`translate3d(0, ${k}px, 0)`:`translate3d(${k}px, 0, 0)`}),y&&I!==y.length-1&&I!==i&&I<i?We(n.current,{transition:`opacity ${Pe.DURATION}s cubic-bezier(${Pe.EASE.join(",")})`,opacity:"0"}):We(n.current,{transition:`opacity ${Pe.DURATION}s cubic-bezier(${Pe.EASE.join(",")})`,opacity:"1"}),p(r==null?void 0:r[Math.max(I,0)])},[s.current,r,y,i,n,p]);P.useEffect(()=>{if(u||e){var k;const X=(k=r==null?void 0:r.findIndex(I=>I===e||I===u))!=null?k:-1;y&&X!==-1&&typeof y[X]=="number"&&w(y[X])}},[u,e,r,y,w]);function j({draggedDistance:k,closeDrawer:X,velocity:I,dismissible:K}){if(i===void 0)return;const M=l==="bottom"||l==="right"?(h??0)-k:(h??0)+k,E=x===i-1,_=x===0,V=k>0;if(E&&We(n.current,{transition:`opacity ${Pe.DURATION}s cubic-bezier(${Pe.EASE.join(",")})`}),!d&&I>2&&!V){K?X():w(y[0]);return}if(!d&&I>2&&V&&y&&r){w(y[r.length-1]);return}const B=y==null?void 0:y.reduce((T,F)=>typeof T!="number"||typeof F!="number"?T:Math.abs(F-M)<Math.abs(T-M)?F:T),z=$e(l)?window.innerHeight:window.innerWidth;if(I>Ko&&Math.abs(k)<z*.4){const T=V?1:-1;if(T>0&&N){w(y[r.length-1]);return}if(_&&T<0&&K&&X(),x===null)return;w(y[x+T]);return}w(B)}function D({draggedDistance:k}){if(h===null)return;const X=l==="bottom"||l==="right"?h-k:h+k;(l==="bottom"||l==="right")&&X<y[y.length-1]||(l==="top"||l==="left")&&X>y[y.length-1]||We(s.current,{transform:$e(l)?`translate3d(0, ${X}px, 0)`:`translate3d(${X}px, 0, 0)`})}function A(k,X){if(!r||typeof x!="number"||!y||i===void 0)return null;const I=x===i-1;if(x>=i&&X)return 0;if(I&&!X)return 1;if(!g&&!I)return null;const M=I?x+1:x-1,E=I?y[M]-y[M-1]:y[M+1]-y[M],_=k/Math.abs(E);return I?1-_:_}return{isLastSnapPoint:N,activeSnapPoint:u,shouldFade:g,getPercentageDragged:A,setActiveSnapPoint:p,activeSnapPointIndex:x,onRelease:j,onDrag:D,snapPointsOffset:y}}const cf=()=>()=>{};function df(){const{direction:e,isOpen:t,shouldScaleBackground:r,setBackgroundColorOnScale:s,noBodyStyles:n}=us(),i=P.useRef(null),o=f.useMemo(()=>document.body.style.backgroundColor,[]);function l(){return(window.innerWidth-Ea)/window.innerWidth}P.useEffect(()=>{if(t&&r){i.current&&clearTimeout(i.current);const c=document.querySelector("[data-vaul-drawer-wrapper]")||document.querySelector("[vaul-drawer-wrapper]");if(!c)return;sf(s&&!n?ua(document.body,{background:"black"}):cf,ua(c,{transformOrigin:$e(e)?"top":"left",transitionProperty:"transform, border-radius",transitionDuration:`${Pe.DURATION}s`,transitionTimingFunction:`cubic-bezier(${Pe.EASE.join(",")})`}));const d=ua(c,{borderRadius:`${Qo}px`,overflow:"hidden",...$e(e)?{transform:`scale(${l()}) translate3d(0, calc(env(safe-area-inset-top) + 14px), 0)`}:{transform:`scale(${l()}) translate3d(calc(env(safe-area-inset-top) + 14px), 0, 0)`}});return()=>{d(),i.current=window.setTimeout(()=>{o?document.body.style.background=o:document.body.style.removeProperty("background")},Pe.DURATION*1e3)}}},[t,r,o])}let Yr=null;function uf({isOpen:e,modal:t,nested:r,hasBeenOpened:s,preventScrollRestoration:n,noBodyStyles:i}){const[o,l]=P.useState(()=>typeof window<"u"?window.location.href:""),c=P.useRef(0),d=P.useCallback(()=>{if(Fn()&&Yr===null&&e&&!i){Yr={position:document.body.style.position,top:document.body.style.top,left:document.body.style.left,height:document.body.style.height,right:"unset"};const{scrollX:p,innerHeight:m}=window;document.body.style.setProperty("position","fixed","important"),Object.assign(document.body.style,{top:`${-c.current}px`,left:`${-p}px`,right:"0px",height:"auto"}),window.setTimeout(()=>window.requestAnimationFrame(()=>{const b=m-window.innerHeight;b&&c.current>=m&&(document.body.style.top=`${-(c.current+b)}px`)}),300)}},[e]),u=P.useCallback(()=>{if(Fn()&&Yr!==null&&!i){const p=-parseInt(document.body.style.top,10),m=-parseInt(document.body.style.left,10);Object.assign(document.body.style,Yr),window.requestAnimationFrame(()=>{if(n&&o!==window.location.href){l(window.location.href);return}window.scrollTo(m,p)}),Yr=null}},[o]);return P.useEffect(()=>{function p(){c.current=window.scrollY}return p(),window.addEventListener("scroll",p),()=>{window.removeEventListener("scroll",p)}},[]),P.useEffect(()=>{r||!s||(e?(!window.matchMedia("(display-mode: standalone)").matches&&d(),t||window.setTimeout(()=>{u()},500)):u())},[e,s,o,t,r,d,u]),{restorePositionSetting:u}}function ff({open:e,onOpenChange:t,children:r,onDrag:s,onRelease:n,snapPoints:i,shouldScaleBackground:o=!1,setBackgroundColorOnScale:l=!0,closeThreshold:c=af,scrollLockTimeout:d=nf,dismissible:u=!0,handleOnly:p=!1,fadeFromIndex:m=i&&i.length-1,activeSnapPoint:b,setActiveSnapPoint:N,fixed:x,modal:g=!0,onClose:y,nested:h,noBodyStyles:w,direction:j="bottom",defaultOpen:D=!1,disablePreventScroll:A=!0,snapToSequentialPoint:k=!1,preventScrollRestoration:X=!1,repositionInputs:I=!0,onAnimationEnd:K,container:M,autoFocus:E=!1}){var _,V;const[B=!1,z]=el({defaultProp:D,prop:e,onChange:ee=>{t==null||t(ee),!ee&&!h&&G(),setTimeout(()=>{K==null||K(ee)},Pe.DURATION*1e3),ee&&!g&&typeof window<"u"&&window.requestAnimationFrame(()=>{document.body.style.pointerEvents="auto"}),ee||(document.body.style.pointerEvents="auto")}}),[T,F]=P.useState(!1),[ce,Ce]=P.useState(!1),[q,te]=P.useState(!1),ke=P.useRef(null),Te=P.useRef(null),Be=P.useRef(null),_t=P.useRef(null),Q=P.useRef(null),he=P.useRef(!1),Re=P.useRef(null),me=P.useRef(0),oe=P.useRef(!1),pe=P.useRef(0),J=P.useRef(null),ct=P.useRef(((_=J.current)==null?void 0:_.getBoundingClientRect().height)||0),Wt=P.useRef(((V=J.current)==null?void 0:V.getBoundingClientRect().width)||0),$t=P.useRef(0),fr=P.useCallback(ee=>{i&&ee===C.length-1&&(Te.current=new Date)},[]),{activeSnapPoint:gn,activeSnapPointIndex:Kt,setActiveSnapPoint:v,onRelease:S,snapPointsOffset:C,onDrag:W,shouldFade:L,getPercentageDragged:R}=lf({snapPoints:i,activeSnapPointProp:b,setActiveSnapPointProp:N,drawerRef:J,fadeFromIndex:m,overlayRef:ke,onSnapPointChange:fr,direction:j,container:M,snapToSequentialPoint:k});Gu({isDisabled:!B||ce||!g||q||!T||!I||!A});const{restorePositionSetting:G}=uf({isOpen:B,modal:g,nested:h,hasBeenOpened:T,preventScrollRestoration:X,noBodyStyles:w});function le(){return(window.innerWidth-Ea)/window.innerWidth}function be(ee){var _e,De;!u&&!i||J.current&&!J.current.contains(ee.target)||(ct.current=((_e=J.current)==null?void 0:_e.getBoundingClientRect().height)||0,Wt.current=((De=J.current)==null?void 0:De.getBoundingClientRect().width)||0,Ce(!0),Be.current=new Date,Zo()&&window.addEventListener("touchend",()=>he.current=!1,{once:!0}),ee.target.setPointerCapture(ee.pointerId),me.current=$e(j)?ee.pageY:ee.pageX)}function Ze(ee,_e){var De,Ee;let je=ee;const gt=(De=window.getSelection())==null?void 0:De.toString(),qe=J.current?Ns(J.current,j):null,dt=new Date;if(je.hasAttribute("data-vaul-no-drag")||je.closest("[data-vaul-no-drag]"))return!1;if(j==="right"||j==="left")return!0;if(Te.current&&dt.getTime()-Te.current.getTime()<500)return!1;if(qe!==null&&(j==="bottom"?qe>0:qe<0))return!0;if(gt&&gt.length>0)return!1;if(dt.getTime()-((Ee=Q.current)==null?void 0:Ee.getTime())<d&&qe===0||_e)return Q.current=dt,!1;for(;je;){if(je.scrollHeight>je.clientHeight){if(je.scrollTop!==0)return Q.current=new Date,!1;if(je.getAttribute("role")==="dialog")return!0}je=je.parentNode}return!0}function Nr(ee){if(J.current&&ce){const _e=j==="bottom"||j==="right"?1:-1,De=(me.current-($e(j)?ee.pageY:ee.pageX))*_e,Ee=De>0,je=i&&!u&&!Ee;if(je&&Kt===0)return;const gt=Math.abs(De),qe=document.querySelector("[data-vaul-drawer-wrapper]"),dt=j==="bottom"||j==="top"?ct.current:Wt.current;let jt=gt/dt;const hr=R(gt,Ee);if(hr!==null&&(jt=hr),je&&jt>=1||!he.current&&!Ze(ee.target,Ee))return;if(J.current.classList.add(fa),he.current=!0,We(J.current,{transition:"none"}),We(ke.current,{transition:"none"}),i&&W({draggedDistance:De}),Ee&&!i){const Et=rf(De),ys=Math.min(Et*-1,0)*_e;We(J.current,{transform:$e(j)?`translate3d(0, ${ys}px, 0)`:`translate3d(${ys}px, 0, 0)`});return}const Qt=1-jt;if((L||m&&Kt===m-1)&&(s==null||s(ee,jt),We(ke.current,{opacity:`${Qt}`,transition:"none"},!0)),qe&&ke.current&&o){const Et=Math.min(le()+jt*(1-le()),1),ys=8-jt*8,vn=Math.max(0,14-jt*14);We(qe,{borderRadius:`${ys}px`,transform:$e(j)?`scale(${Et}) translate3d(0, ${vn}px, 0)`:`scale(${Et}) translate3d(${vn}px, 0, 0)`,transition:"none"},!0)}if(!i){const Et=gt*_e;We(J.current,{transform:$e(j)?`translate3d(0, ${Et}px, 0)`:`translate3d(${Et}px, 0, 0)`})}}}P.useEffect(()=>{var ee;function _e(){if(!J.current||!I)return;const De=document.activeElement;if(Da(De)||oe.current){var Ee;const je=((Ee=window.visualViewport)==null?void 0:Ee.height)||0,gt=window.innerHeight;let qe=gt-je;const dt=J.current.getBoundingClientRect().height||0,jt=dt>gt*.8;$t.current||($t.current=dt);const hr=J.current.getBoundingClientRect().top;if(Math.abs(pe.current-qe)>60&&(oe.current=!oe.current),i&&i.length>0&&C&&Kt){const Qt=C[Kt]||0;qe+=Qt}if(pe.current=qe,dt>je||oe.current){const Qt=J.current.getBoundingClientRect().height;let Et=Qt;Qt>je&&(Et=je-(jt?hr:Ea)),x?J.current.style.height=`${Qt-Math.max(qe,0)}px`:J.current.style.height=`${Math.max(Et,je-hr)}px`}else J.current.style.height=`${$t.current}px`;i&&i.length>0&&!oe.current?J.current.style.bottom="0px":J.current.style.bottom=`${Math.max(qe,0)}px`}}return(ee=window.visualViewport)==null||ee.addEventListener("resize",_e),()=>{var De;return(De=window.visualViewport)==null?void 0:De.removeEventListener("resize",_e)}},[Kt,i,C]);function st(ee){Wr(),y==null||y(),ee||z(!1),setTimeout(()=>{i&&v(i[0])},Pe.DURATION*1e3)}function vs(){if(!J.current)return;const ee=document.querySelector("[data-vaul-drawer-wrapper]"),_e=Ns(J.current,j);We(J.current,{transform:"translate3d(0, 0, 0)",transition:`transform ${Pe.DURATION}s cubic-bezier(${Pe.EASE.join(",")})`}),We(ke.current,{transition:`opacity ${Pe.DURATION}s cubic-bezier(${Pe.EASE.join(",")})`,opacity:"1"}),o&&_e&&_e>0&&B&&We(ee,{borderRadius:`${Qo}px`,overflow:"hidden",...$e(j)?{transform:`scale(${le()}) translate3d(0, calc(env(safe-area-inset-top) + 14px), 0)`,transformOrigin:"top"}:{transform:`scale(${le()}) translate3d(calc(env(safe-area-inset-top) + 14px), 0, 0)`,transformOrigin:"left"},transitionProperty:"transform, border-radius",transitionDuration:`${Pe.DURATION}s`,transitionTimingFunction:`cubic-bezier(${Pe.EASE.join(",")})`},!0)}function Wr(){!ce||!J.current||(J.current.classList.remove(fa),he.current=!1,Ce(!1),_t.current=new Date)}function $r(ee){if(!ce||!J.current)return;J.current.classList.remove(fa),he.current=!1,Ce(!1),_t.current=new Date;const _e=Ns(J.current,j);if(!Ze(ee.target,!1)||!_e||Number.isNaN(_e)||Be.current===null)return;const De=_t.current.getTime()-Be.current.getTime(),Ee=me.current-($e(j)?ee.pageY:ee.pageX),je=Math.abs(Ee)/De;if(je>.05&&(te(!0),setTimeout(()=>{te(!1)},200)),i){S({draggedDistance:Ee*(j==="bottom"||j==="right"?1:-1),closeDrawer:st,velocity:je,dismissible:u}),n==null||n(ee,!0);return}if(j==="bottom"||j==="right"?Ee>0:Ee<0){vs(),n==null||n(ee,!0);return}if(je>Ko){st(),n==null||n(ee,!1);return}var gt;const qe=Math.min((gt=J.current.getBoundingClientRect().height)!=null?gt:0,window.innerHeight);var dt;const jt=Math.min((dt=J.current.getBoundingClientRect().width)!=null?dt:0,window.innerWidth),hr=j==="left"||j==="right";if(Math.abs(_e)>=(hr?jt:qe)*c){st(),n==null||n(ee,!1);return}n==null||n(ee,!0),vs()}P.useEffect(()=>(B&&(We(document.documentElement,{scrollBehavior:"auto"}),Te.current=new Date),()=>{tf(document.documentElement,"scrollBehavior")}),[B]);function aa(ee){const _e=ee?(window.innerWidth-mr)/window.innerWidth:1,De=ee?-mr:0;Re.current&&window.clearTimeout(Re.current),We(J.current,{transition:`transform ${Pe.DURATION}s cubic-bezier(${Pe.EASE.join(",")})`,transform:`scale(${_e}) translate3d(0, ${De}px, 0)`}),!ee&&J.current&&(Re.current=setTimeout(()=>{const Ee=Ns(J.current,j);We(J.current,{transition:"none",transform:$e(j)?`translate3d(0, ${Ee}px, 0)`:`translate3d(${Ee}px, 0, 0)`})},500))}function xs(ee,_e){if(_e<0)return;const De=(window.innerWidth-mr)/window.innerWidth,Ee=De+_e*(1-De),je=-mr+_e*mr;We(J.current,{transform:$e(j)?`scale(${Ee}) translate3d(0, ${je}px, 0)`:`scale(${Ee}) translate3d(${je}px, 0, 0)`,transition:"none"})}function na(ee,_e){const De=$e(j)?window.innerHeight:window.innerWidth,Ee=_e?(De-mr)/De:1,je=_e?-mr:0;_e&&We(J.current,{transition:`transform ${Pe.DURATION}s cubic-bezier(${Pe.EASE.join(",")})`,transform:$e(j)?`scale(${Ee}) translate3d(0, ${je}px, 0)`:`scale(${Ee}) translate3d(${je}px, 0, 0)`})}return P.createElement(mc,{defaultOpen:D,onOpenChange:ee=>{!u&&!ee||(ee?F(!0):st(!0),z(ee))},open:B},P.createElement(Yo.Provider,{value:{activeSnapPoint:gn,snapPoints:i,setActiveSnapPoint:v,drawerRef:J,overlayRef:ke,onOpenChange:t,onPress:be,onRelease:$r,onDrag:Nr,dismissible:u,handleOnly:p,isOpen:B,isDragging:ce,shouldFade:L,closeDrawer:st,onNestedDrag:xs,onNestedOpenChange:aa,onNestedRelease:na,keyboardIsOpen:oe,modal:g,snapPointsOffset:C,direction:j,shouldScaleBackground:o,setBackgroundColorOnScale:l,noBodyStyles:w,container:M,autoFocus:E}},r))}const tl=P.forwardRef(function({...e},t){const{overlayRef:r,snapPoints:s,onRelease:n,shouldFade:i,isOpen:o,modal:l}=us(),c=Xo(t,r),d=s&&s.length>0;return l?P.createElement(vc,{onMouseUp:n,ref:c,"data-vaul-overlay":"","data-vaul-snap-points":o&&d?"true":"false","data-vaul-snap-points-overlay":o&&i?"true":"false",...e}):(typeof window<"u"&&window.requestAnimationFrame(()=>{document.body.style.pointerEvents="auto"}),null)});tl.displayName="Drawer.Overlay";const rl=P.forwardRef(function({onPointerDownOutside:e,style:t,onOpenAutoFocus:r,...s},n){const{drawerRef:i,onPress:o,onRelease:l,onDrag:c,keyboardIsOpen:d,snapPointsOffset:u,modal:p,isOpen:m,direction:b,snapPoints:N,container:x,handleOnly:g,autoFocus:y}=us(),[h,w]=P.useState(!1),j=Xo(n,i),D=P.useRef(null),A=P.useRef(null),k=P.useRef(!1),X=N&&N.length>0;df();const I=(M,E,_=0)=>{if(k.current)return!0;const V=Math.abs(M.y),B=Math.abs(M.x),z=B>V,T=["bottom","right"].includes(E)?1:-1;if(E==="left"||E==="right"){if(!(M.x*T<0)&&B>=0&&B<=_)return z}else if(!(M.y*T<0)&&V>=0&&V<=_)return!z;return k.current=!0,!0};P.useEffect(()=>{X&&window.requestAnimationFrame(()=>{w(!0)})},[]);function K(M){D.current=null,k.current=!1,l(M)}return P.createElement(gc,{"data-vaul-drawer-direction":b,"data-vaul-drawer":"","data-vaul-delayed-snap-points":h?"true":"false","data-vaul-snap-points":m&&X?"true":"false","data-vaul-custom-container":x?"true":"false",...s,ref:j,style:u&&u.length>0?{"--snap-point-height":`${u[0]}px`,...t}:t,onPointerDown:M=>{g||(s.onPointerDown==null||s.onPointerDown.call(s,M),D.current={x:M.pageX,y:M.pageY},o(M))},onOpenAutoFocus:M=>{r==null||r(M),y||M.preventDefault()},onPointerDownOutside:M=>{if(e==null||e(M),!p||M.defaultPrevented){M.preventDefault();return}d.current&&(d.current=!1)},onFocusOutside:M=>{if(!p){M.preventDefault();return}},onPointerMove:M=>{if(A.current=M,g||(s.onPointerMove==null||s.onPointerMove.call(s,M),!D.current))return;const E=M.pageY-D.current.y,_=M.pageX-D.current.x,V=M.pointerType==="touch"?10:2;I({x:_,y:E},b,V)?c(M):(Math.abs(_)>V||Math.abs(E)>V)&&(D.current=null)},onPointerUp:M=>{s.onPointerUp==null||s.onPointerUp.call(s,M),D.current=null,k.current=!1,l(M)},onPointerOut:M=>{s.onPointerOut==null||s.onPointerOut.call(s,M),K(A.current)},onContextMenu:M=>{s.onContextMenu==null||s.onContextMenu.call(s,M),K(A.current)}})});rl.displayName="Drawer.Content";const hf=250,mf=120,pf=P.forwardRef(function({preventCycle:e=!1,children:t,...r},s){const{closeDrawer:n,isDragging:i,snapPoints:o,activeSnapPoint:l,setActiveSnapPoint:c,dismissible:d,handleOnly:u,isOpen:p,onPress:m,onDrag:b}=us(),N=P.useRef(null),x=P.useRef(!1);function g(){if(x.current){w();return}window.setTimeout(()=>{y()},mf)}function y(){if(i||e||x.current){w();return}if(w(),(!o||o.length===0)&&d){n();return}if(l===o[o.length-1]&&d){n();return}const D=o.findIndex(k=>k===l);if(D===-1)return;const A=o[D+1];c(A)}function h(){N.current=window.setTimeout(()=>{x.current=!0},hf)}function w(){window.clearTimeout(N.current),x.current=!1}return P.createElement("div",{onClick:g,onPointerCancel:w,onPointerDown:j=>{u&&m(j),h()},onPointerMove:j=>{u&&b(j)},ref:s,"data-vaul-drawer-visible":p?"true":"false","data-vaul-handle":"","aria-hidden":"true",...r},P.createElement("span",{"data-vaul-handle-hitarea":"","aria-hidden":"true"},t))});pf.displayName="Drawer.Handle";function gf(e){const t=us(),{container:r=t.container,...s}=e;return P.createElement(pc,{container:r,...s})}const Gt={Root:ff,Content:rl,Overlay:tl,Portal:gf,Title:fc,Description:hc},sl=({shouldScaleBackground:e=!0,...t})=>a.jsx(Gt.Root,{shouldScaleBackground:e,...t});sl.displayName="Drawer";const vf=Gt.Portal,al=f.forwardRef(({className:e,...t},r)=>a.jsx(Gt.Overlay,{ref:r,className:ye("fixed inset-0 z-50 bg-black/80",e),...t}));al.displayName=Gt.Overlay.displayName;const nl=f.forwardRef(({className:e,children:t,...r},s)=>a.jsxs(vf,{children:[a.jsx(al,{}),a.jsxs(Gt.Content,{ref:s,className:ye("fixed inset-x-0 bottom-0 z-50 mt-24 flex h-auto flex-col rounded-t-[10px] border bg-background",e),...r,children:[a.jsx("div",{className:"mx-auto mt-4 h-2 w-[100px] rounded-full bg-muted"}),t]})]}));nl.displayName="DrawerContent";const il=({className:e,...t})=>a.jsx("div",{className:ye("grid gap-1.5 p-4 text-center sm:text-left",e),...t});il.displayName="DrawerHeader";const ol=({className:e,...t})=>a.jsx("div",{className:ye("mt-auto flex flex-col gap-2 p-4",e),...t});ol.displayName="DrawerFooter";const ll=f.forwardRef(({className:e,...t},r)=>a.jsx(Gt.Title,{ref:r,className:ye("text-lg font-semibold leading-none tracking-tight",e),...t}));ll.displayName=Gt.Title.displayName;const cl=f.forwardRef(({className:e,...t},r)=>a.jsx(Gt.Description,{ref:r,className:ye("text-sm text-muted-foreground",e),...t}));cl.displayName=Gt.Description.displayName;var fs=e=>e.type==="checkbox",gr=e=>e instanceof Date,Je=e=>e==null;const dl=e=>typeof e=="object";var Fe=e=>!Je(e)&&!Array.isArray(e)&&dl(e)&&!gr(e),ul=e=>Fe(e)&&e.target?fs(e.target)?e.target.checked:e.target.value:e,xf=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,fl=(e,t)=>e.has(xf(t)),yf=e=>{const t=e.constructor&&e.constructor.prototype;return Fe(t)&&t.hasOwnProperty("isPrototypeOf")},tn=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function ze(e){let t;const r=Array.isArray(e),s=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)t=new Date(e);else if(e instanceof Set)t=new Set(e);else if(!(tn&&(e instanceof Blob||s))&&(r||Fe(e)))if(t=r?[]:{},!r&&!yf(e))t=e;else for(const n in e)e.hasOwnProperty(n)&&(t[n]=ze(e[n]));else return e;return t}var Qs=e=>Array.isArray(e)?e.filter(Boolean):[],Ae=e=>e===void 0,U=(e,t,r)=>{if(!t||!Fe(e))return r;const s=Qs(t.split(/[,[\].]+?/)).reduce((n,i)=>Je(n)?n:n[i],e);return Ae(s)||s===e?Ae(e[t])?r:e[t]:s},ht=e=>typeof e=="boolean",rn=e=>/^\w*$/.test(e),hl=e=>Qs(e.replace(/["|']|\]/g,"").split(/\.|\[/)),ge=(e,t,r)=>{let s=-1;const n=rn(t)?[t]:hl(t),i=n.length,o=i-1;for(;++s<i;){const l=n[s];let c=r;if(s!==o){const d=e[l];c=Fe(d)||Array.isArray(d)?d:isNaN(+n[s+1])?{}:[]}if(l==="__proto__"||l==="constructor"||l==="prototype")return;e[l]=c,e=e[l]}};const Rs={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},St={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Bt={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},ml=P.createContext(null),Js=()=>P.useContext(ml),wf=e=>{const{children:t,...r}=e;return P.createElement(ml.Provider,{value:r},t)};var pl=(e,t,r,s=!0)=>{const n={defaultValues:t._defaultValues};for(const i in e)Object.defineProperty(n,i,{get:()=>{const o=i;return t._proxyFormState[o]!==St.all&&(t._proxyFormState[o]=!s||St.all),r&&(r[o]=!0),e[o]}});return n};const sn=typeof window<"u"?f.useLayoutEffect:f.useEffect;function bf(e){const t=Js(),{control:r=t.control,disabled:s,name:n,exact:i}=e||{},[o,l]=P.useState(r._formState),c=P.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1});return sn(()=>r._subscribe({name:n,formState:c.current,exact:i,callback:d=>{!s&&l({...r._formState,...d})}}),[n,s,i]),P.useEffect(()=>{c.current.isValid&&r._setValid(!0)},[r]),P.useMemo(()=>pl(o,r,c.current,!1),[o,r])}var Ot=e=>typeof e=="string",gl=(e,t,r,s,n)=>Ot(e)?(s&&t.watch.add(e),U(r,e,n)):Array.isArray(e)?e.map(i=>(s&&t.watch.add(i),U(r,i))):(s&&(t.watchAll=!0),r);function _f(e){const t=Js(),{control:r=t.control,name:s,defaultValue:n,disabled:i,exact:o}=e||{},l=P.useRef(n),[c,d]=P.useState(r._getWatch(s,l.current));return sn(()=>r._subscribe({name:s,formState:{values:!0},exact:o,callback:u=>!i&&d(gl(s,r._names,u.values||r._formValues,!1,l.current))}),[s,r,i,o]),P.useEffect(()=>r._removeUnmounted()),c}function jf(e){const t=Js(),{name:r,disabled:s,control:n=t.control,shouldUnregister:i}=e,o=fl(n._names.array,r),l=_f({control:n,name:r,defaultValue:U(n._formValues,r,U(n._defaultValues,r,e.defaultValue)),exact:!0}),c=bf({control:n,name:r,exact:!0}),d=P.useRef(e),u=P.useRef(n.register(r,{...e.rules,value:l,...ht(e.disabled)?{disabled:e.disabled}:{}})),p=P.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!U(c.errors,r)},isDirty:{enumerable:!0,get:()=>!!U(c.dirtyFields,r)},isTouched:{enumerable:!0,get:()=>!!U(c.touchedFields,r)},isValidating:{enumerable:!0,get:()=>!!U(c.validatingFields,r)},error:{enumerable:!0,get:()=>U(c.errors,r)}}),[c,r]),m=P.useCallback(g=>u.current.onChange({target:{value:ul(g),name:r},type:Rs.CHANGE}),[r]),b=P.useCallback(()=>u.current.onBlur({target:{value:U(n._formValues,r),name:r},type:Rs.BLUR}),[r,n._formValues]),N=P.useCallback(g=>{const y=U(n._fields,r);y&&g&&(y._f.ref={focus:()=>g.focus&&g.focus(),select:()=>g.select&&g.select(),setCustomValidity:h=>g.setCustomValidity(h),reportValidity:()=>g.reportValidity()})},[n._fields,r]),x=P.useMemo(()=>({name:r,value:l,...ht(s)||c.disabled?{disabled:c.disabled||s}:{},onChange:m,onBlur:b,ref:N}),[r,s,c.disabled,m,b,N,l]);return P.useEffect(()=>{const g=n._options.shouldUnregister||i;n.register(r,{...d.current.rules,...ht(d.current.disabled)?{disabled:d.current.disabled}:{}});const y=(h,w)=>{const j=U(n._fields,h);j&&j._f&&(j._f.mount=w)};if(y(r,!0),g){const h=ze(U(n._options.defaultValues,r));ge(n._defaultValues,r,h),Ae(U(n._formValues,r))&&ge(n._formValues,r,h)}return!o&&n.register(r),()=>{(o?g&&!n._state.action:g)?n.unregister(r):y(r,!1)}},[r,n,o,i]),P.useEffect(()=>{n._setDisabledField({disabled:s,name:r})},[s,r,n]),P.useMemo(()=>({field:x,formState:c,fieldState:p}),[x,c,p])}const Nf=e=>e.render(jf(e));var vl=(e,t,r,s,n)=>t?{...r[e],types:{...r[e]&&r[e].types?r[e].types:{},[s]:n||!0}}:{},Kr=e=>Array.isArray(e)?e:[e],Vn=()=>{let e=[];return{get observers(){return e},next:n=>{for(const i of e)i.next&&i.next(n)},subscribe:n=>(e.push(n),{unsubscribe:()=>{e=e.filter(i=>i!==n)}}),unsubscribe:()=>{e=[]}}},Ta=e=>Je(e)||!dl(e);function rr(e,t){if(Ta(e)||Ta(t))return e===t;if(gr(e)&&gr(t))return e.getTime()===t.getTime();const r=Object.keys(e),s=Object.keys(t);if(r.length!==s.length)return!1;for(const n of r){const i=e[n];if(!s.includes(n))return!1;if(n!=="ref"){const o=t[n];if(gr(i)&&gr(o)||Fe(i)&&Fe(o)||Array.isArray(i)&&Array.isArray(o)?!rr(i,o):i!==o)return!1}}return!0}var it=e=>Fe(e)&&!Object.keys(e).length,an=e=>e.type==="file",Ct=e=>typeof e=="function",As=e=>{if(!tn)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},xl=e=>e.type==="select-multiple",nn=e=>e.type==="radio",Sf=e=>nn(e)||fs(e),ha=e=>As(e)&&e.isConnected;function Cf(e,t){const r=t.slice(0,-1).length;let s=0;for(;s<r;)e=Ae(e)?s++:e[t[s++]];return e}function kf(e){for(const t in e)if(e.hasOwnProperty(t)&&!Ae(e[t]))return!1;return!0}function Ue(e,t){const r=Array.isArray(t)?t:rn(t)?[t]:hl(t),s=r.length===1?e:Cf(e,r),n=r.length-1,i=r[n];return s&&delete s[i],n!==0&&(Fe(s)&&it(s)||Array.isArray(s)&&kf(s))&&Ue(e,r.slice(0,-1)),e}var yl=e=>{for(const t in e)if(Ct(e[t]))return!0;return!1};function Fs(e,t={}){const r=Array.isArray(e);if(Fe(e)||r)for(const s in e)Array.isArray(e[s])||Fe(e[s])&&!yl(e[s])?(t[s]=Array.isArray(e[s])?[]:{},Fs(e[s],t[s])):Je(e[s])||(t[s]=!0);return t}function wl(e,t,r){const s=Array.isArray(e);if(Fe(e)||s)for(const n in e)Array.isArray(e[n])||Fe(e[n])&&!yl(e[n])?Ae(t)||Ta(r[n])?r[n]=Array.isArray(e[n])?Fs(e[n],[]):{...Fs(e[n])}:wl(e[n],Je(t)?{}:t[n],r[n]):r[n]=!rr(e[n],t[n]);return r}var Zr=(e,t)=>wl(e,t,Fs(t));const Un={value:!1,isValid:!1},Wn={value:!0,isValid:!0};var bl=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!Ae(e[0].attributes.value)?Ae(e[0].value)||e[0].value===""?Wn:{value:e[0].value,isValid:!0}:Wn:Un}return Un},_l=(e,{valueAsNumber:t,valueAsDate:r,setValueAs:s})=>Ae(e)?e:t?e===""?NaN:e&&+e:r&&Ot(e)?new Date(e):s?s(e):e;const $n={isValid:!1,value:null};var jl=e=>Array.isArray(e)?e.reduce((t,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:t,$n):$n;function Bn(e){const t=e.ref;return an(t)?t.files:nn(t)?jl(e.refs).value:xl(t)?[...t.selectedOptions].map(({value:r})=>r):fs(t)?bl(e.refs).value:_l(Ae(t.value)?e.ref.value:t.value,e)}var Df=(e,t,r,s)=>{const n={};for(const i of e){const o=U(t,i);o&&ge(n,i,o._f)}return{criteriaMode:r,names:[...e],fields:n,shouldUseNativeValidation:s}},Is=e=>e instanceof RegExp,qr=e=>Ae(e)?e:Is(e)?e.source:Fe(e)?Is(e.value)?e.value.source:e.value:e,zn=e=>({isOnSubmit:!e||e===St.onSubmit,isOnBlur:e===St.onBlur,isOnChange:e===St.onChange,isOnAll:e===St.all,isOnTouch:e===St.onTouched});const Hn="AsyncFunction";var Ef=e=>!!e&&!!e.validate&&!!(Ct(e.validate)&&e.validate.constructor.name===Hn||Fe(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===Hn)),Tf=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),Yn=(e,t,r)=>!r&&(t.watchAll||t.watch.has(e)||[...t.watch].some(s=>e.startsWith(s)&&/^\.\w+/.test(e.slice(s.length))));const Qr=(e,t,r,s)=>{for(const n of r||Object.keys(e)){const i=U(e,n);if(i){const{_f:o,...l}=i;if(o){if(o.refs&&o.refs[0]&&t(o.refs[0],n)&&!s)return!0;if(o.ref&&t(o.ref,o.name)&&!s)return!0;if(Qr(l,t))break}else if(Fe(l)&&Qr(l,t))break}}};function Zn(e,t,r){const s=U(e,r);if(s||rn(r))return{error:s,name:r};const n=r.split(".");for(;n.length;){const i=n.join("."),o=U(t,i),l=U(e,i);if(o&&!Array.isArray(o)&&r!==i)return{name:r};if(l&&l.type)return{name:i,error:l};if(l&&l.root&&l.root.type)return{name:`${i}.root`,error:l.root};n.pop()}return{name:r}}var Pf=(e,t,r,s)=>{r(e);const{name:n,...i}=e;return it(i)||Object.keys(i).length>=Object.keys(t).length||Object.keys(i).find(o=>t[o]===(!s||St.all))},Mf=(e,t,r)=>!e||!t||e===t||Kr(e).some(s=>s&&(r?s===t:s.startsWith(t)||t.startsWith(s))),Of=(e,t,r,s,n)=>n.isOnAll?!1:!r&&n.isOnTouch?!(t||e):(r?s.isOnBlur:n.isOnBlur)?!e:(r?s.isOnChange:n.isOnChange)?e:!0,Rf=(e,t)=>!Qs(U(e,t)).length&&Ue(e,t),Af=(e,t,r)=>{const s=Kr(U(e,r));return ge(s,"root",t[r]),ge(e,r,s),e},Ss=e=>Ot(e);function qn(e,t,r="validate"){if(Ss(e)||Array.isArray(e)&&e.every(Ss)||ht(e)&&!e)return{type:r,message:Ss(e)?e:"",ref:t}}var Cr=e=>Fe(e)&&!Is(e)?e:{value:e,message:""},Xn=async(e,t,r,s,n,i)=>{const{ref:o,refs:l,required:c,maxLength:d,minLength:u,min:p,max:m,pattern:b,validate:N,name:x,valueAsNumber:g,mount:y}=e._f,h=U(r,x);if(!y||t.has(x))return{};const w=l?l[0]:o,j=E=>{n&&w.reportValidity&&(w.setCustomValidity(ht(E)?"":E||""),w.reportValidity())},D={},A=nn(o),k=fs(o),X=A||k,I=(g||an(o))&&Ae(o.value)&&Ae(h)||As(o)&&o.value===""||h===""||Array.isArray(h)&&!h.length,K=vl.bind(null,x,s,D),M=(E,_,V,B=Bt.maxLength,z=Bt.minLength)=>{const T=E?_:V;D[x]={type:E?B:z,message:T,ref:o,...K(E?B:z,T)}};if(i?!Array.isArray(h)||!h.length:c&&(!X&&(I||Je(h))||ht(h)&&!h||k&&!bl(l).isValid||A&&!jl(l).isValid)){const{value:E,message:_}=Ss(c)?{value:!!c,message:c}:Cr(c);if(E&&(D[x]={type:Bt.required,message:_,ref:w,...K(Bt.required,_)},!s))return j(_),D}if(!I&&(!Je(p)||!Je(m))){let E,_;const V=Cr(m),B=Cr(p);if(!Je(h)&&!isNaN(h)){const z=o.valueAsNumber||h&&+h;Je(V.value)||(E=z>V.value),Je(B.value)||(_=z<B.value)}else{const z=o.valueAsDate||new Date(h),T=Ce=>new Date(new Date().toDateString()+" "+Ce),F=o.type=="time",ce=o.type=="week";Ot(V.value)&&h&&(E=F?T(h)>T(V.value):ce?h>V.value:z>new Date(V.value)),Ot(B.value)&&h&&(_=F?T(h)<T(B.value):ce?h<B.value:z<new Date(B.value))}if((E||_)&&(M(!!E,V.message,B.message,Bt.max,Bt.min),!s))return j(D[x].message),D}if((d||u)&&!I&&(Ot(h)||i&&Array.isArray(h))){const E=Cr(d),_=Cr(u),V=!Je(E.value)&&h.length>+E.value,B=!Je(_.value)&&h.length<+_.value;if((V||B)&&(M(V,E.message,_.message),!s))return j(D[x].message),D}if(b&&!I&&Ot(h)){const{value:E,message:_}=Cr(b);if(Is(E)&&!h.match(E)&&(D[x]={type:Bt.pattern,message:_,ref:o,...K(Bt.pattern,_)},!s))return j(_),D}if(N){if(Ct(N)){const E=await N(h,r),_=qn(E,w);if(_&&(D[x]={..._,...K(Bt.validate,_.message)},!s))return j(_.message),D}else if(Fe(N)){let E={};for(const _ in N){if(!it(E)&&!s)break;const V=qn(await N[_](h,r),w,_);V&&(E={...V,...K(_,V.message)},j(V.message),s&&(D[x]=E))}if(!it(E)&&(D[x]={ref:w,...E},!s))return D}}return j(!0),D};const Ff={mode:St.onSubmit,reValidateMode:St.onChange,shouldFocusError:!0};function If(e={}){let t={...Ff,...e},r={submitCount:0,isDirty:!1,isReady:!1,isLoading:Ct(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1};const s={};let n=Fe(t.defaultValues)||Fe(t.values)?ze(t.defaultValues||t.values)||{}:{},i=t.shouldUnregister?{}:ze(n),o={action:!1,mount:!1,watch:!1},l={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},c,d=0;const u={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let p={...u};const m={array:Vn(),state:Vn()},b=t.criteriaMode===St.all,N=v=>S=>{clearTimeout(d),d=setTimeout(v,S)},x=async v=>{if(!t.disabled&&(u.isValid||p.isValid||v)){const S=t.resolver?it((await k()).errors):await I(s,!0);S!==r.isValid&&m.state.next({isValid:S})}},g=(v,S)=>{!t.disabled&&(u.isValidating||u.validatingFields||p.isValidating||p.validatingFields)&&((v||Array.from(l.mount)).forEach(C=>{C&&(S?ge(r.validatingFields,C,S):Ue(r.validatingFields,C))}),m.state.next({validatingFields:r.validatingFields,isValidating:!it(r.validatingFields)}))},y=(v,S=[],C,W,L=!0,R=!0)=>{if(W&&C&&!t.disabled){if(o.action=!0,R&&Array.isArray(U(s,v))){const G=C(U(s,v),W.argA,W.argB);L&&ge(s,v,G)}if(R&&Array.isArray(U(r.errors,v))){const G=C(U(r.errors,v),W.argA,W.argB);L&&ge(r.errors,v,G),Rf(r.errors,v)}if((u.touchedFields||p.touchedFields)&&R&&Array.isArray(U(r.touchedFields,v))){const G=C(U(r.touchedFields,v),W.argA,W.argB);L&&ge(r.touchedFields,v,G)}(u.dirtyFields||p.dirtyFields)&&(r.dirtyFields=Zr(n,i)),m.state.next({name:v,isDirty:M(v,S),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else ge(i,v,S)},h=(v,S)=>{ge(r.errors,v,S),m.state.next({errors:r.errors})},w=v=>{r.errors=v,m.state.next({errors:r.errors,isValid:!1})},j=(v,S,C,W)=>{const L=U(s,v);if(L){const R=U(i,v,Ae(C)?U(n,v):C);Ae(R)||W&&W.defaultChecked||S?ge(i,v,S?R:Bn(L._f)):V(v,R),o.mount&&x()}},D=(v,S,C,W,L)=>{let R=!1,G=!1;const le={name:v};if(!t.disabled){if(!C||W){(u.isDirty||p.isDirty)&&(G=r.isDirty,r.isDirty=le.isDirty=M(),R=G!==le.isDirty);const be=rr(U(n,v),S);G=!!U(r.dirtyFields,v),be?Ue(r.dirtyFields,v):ge(r.dirtyFields,v,!0),le.dirtyFields=r.dirtyFields,R=R||(u.dirtyFields||p.dirtyFields)&&G!==!be}if(C){const be=U(r.touchedFields,v);be||(ge(r.touchedFields,v,C),le.touchedFields=r.touchedFields,R=R||(u.touchedFields||p.touchedFields)&&be!==C)}R&&L&&m.state.next(le)}return R?le:{}},A=(v,S,C,W)=>{const L=U(r.errors,v),R=(u.isValid||p.isValid)&&ht(S)&&r.isValid!==S;if(t.delayError&&C?(c=N(()=>h(v,C)),c(t.delayError)):(clearTimeout(d),c=null,C?ge(r.errors,v,C):Ue(r.errors,v)),(C?!rr(L,C):L)||!it(W)||R){const G={...W,...R&&ht(S)?{isValid:S}:{},errors:r.errors,name:v};r={...r,...G},m.state.next(G)}},k=async v=>{g(v,!0);const S=await t.resolver(i,t.context,Df(v||l.mount,s,t.criteriaMode,t.shouldUseNativeValidation));return g(v),S},X=async v=>{const{errors:S}=await k(v);if(v)for(const C of v){const W=U(S,C);W?ge(r.errors,C,W):Ue(r.errors,C)}else r.errors=S;return S},I=async(v,S,C={valid:!0})=>{for(const W in v){const L=v[W];if(L){const{_f:R,...G}=L;if(R){const le=l.array.has(R.name),be=L._f&&Ef(L._f);be&&u.validatingFields&&g([W],!0);const Ze=await Xn(L,l.disabled,i,b,t.shouldUseNativeValidation&&!S,le);if(be&&u.validatingFields&&g([W]),Ze[R.name]&&(C.valid=!1,S))break;!S&&(U(Ze,R.name)?le?Af(r.errors,Ze,R.name):ge(r.errors,R.name,Ze[R.name]):Ue(r.errors,R.name))}!it(G)&&await I(G,S,C)}}return C.valid},K=()=>{for(const v of l.unMount){const S=U(s,v);S&&(S._f.refs?S._f.refs.every(C=>!ha(C)):!ha(S._f.ref))&&Q(v)}l.unMount=new Set},M=(v,S)=>!t.disabled&&(v&&S&&ge(i,v,S),!rr(Ce(),n)),E=(v,S,C)=>gl(v,l,{...o.mount?i:Ae(S)?n:Ot(v)?{[v]:S}:S},C,S),_=v=>Qs(U(o.mount?i:n,v,t.shouldUnregister?U(n,v,[]):[])),V=(v,S,C={})=>{const W=U(s,v);let L=S;if(W){const R=W._f;R&&(!R.disabled&&ge(i,v,_l(S,R)),L=As(R.ref)&&Je(S)?"":S,xl(R.ref)?[...R.ref.options].forEach(G=>G.selected=L.includes(G.value)):R.refs?fs(R.ref)?R.refs.forEach(G=>{(!G.defaultChecked||!G.disabled)&&(Array.isArray(L)?G.checked=!!L.find(le=>le===G.value):G.checked=L===G.value||!!L)}):R.refs.forEach(G=>G.checked=G.value===L):an(R.ref)?R.ref.value="":(R.ref.value=L,R.ref.type||m.state.next({name:v,values:ze(i)})))}(C.shouldDirty||C.shouldTouch)&&D(v,L,C.shouldTouch,C.shouldDirty,!0),C.shouldValidate&&ce(v)},B=(v,S,C)=>{for(const W in S){if(!S.hasOwnProperty(W))return;const L=S[W],R=v+"."+W,G=U(s,R);(l.array.has(v)||Fe(L)||G&&!G._f)&&!gr(L)?B(R,L,C):V(R,L,C)}},z=(v,S,C={})=>{const W=U(s,v),L=l.array.has(v),R=ze(S);ge(i,v,R),L?(m.array.next({name:v,values:ze(i)}),(u.isDirty||u.dirtyFields||p.isDirty||p.dirtyFields)&&C.shouldDirty&&m.state.next({name:v,dirtyFields:Zr(n,i),isDirty:M(v,R)})):W&&!W._f&&!Je(R)?B(v,R,C):V(v,R,C),Yn(v,l)&&m.state.next({...r}),m.state.next({name:o.mount?v:void 0,values:ze(i)})},T=async v=>{o.mount=!0;const S=v.target;let C=S.name,W=!0;const L=U(s,C),R=be=>{W=Number.isNaN(be)||gr(be)&&isNaN(be.getTime())||rr(be,U(i,C,be))},G=zn(t.mode),le=zn(t.reValidateMode);if(L){let be,Ze;const Nr=S.type?Bn(L._f):ul(v),st=v.type===Rs.BLUR||v.type===Rs.FOCUS_OUT,vs=!Tf(L._f)&&!t.resolver&&!U(r.errors,C)&&!L._f.deps||Of(st,U(r.touchedFields,C),r.isSubmitted,le,G),Wr=Yn(C,l,st);ge(i,C,Nr),st?(L._f.onBlur&&L._f.onBlur(v),c&&c(0)):L._f.onChange&&L._f.onChange(v);const $r=D(C,Nr,st),aa=!it($r)||Wr;if(!st&&m.state.next({name:C,type:v.type,values:ze(i)}),vs)return(u.isValid||p.isValid)&&(t.mode==="onBlur"?st&&x():st||x()),aa&&m.state.next({name:C,...Wr?{}:$r});if(!st&&Wr&&m.state.next({...r}),t.resolver){const{errors:xs}=await k([C]);if(R(Nr),W){const na=Zn(r.errors,s,C),ee=Zn(xs,s,na.name||C);be=ee.error,C=ee.name,Ze=it(xs)}}else g([C],!0),be=(await Xn(L,l.disabled,i,b,t.shouldUseNativeValidation))[C],g([C]),R(Nr),W&&(be?Ze=!1:(u.isValid||p.isValid)&&(Ze=await I(s,!0)));W&&(L._f.deps&&ce(L._f.deps),A(C,Ze,be,$r))}},F=(v,S)=>{if(U(r.errors,S)&&v.focus)return v.focus(),1},ce=async(v,S={})=>{let C,W;const L=Kr(v);if(t.resolver){const R=await X(Ae(v)?v:L);C=it(R),W=v?!L.some(G=>U(R,G)):C}else v?(W=(await Promise.all(L.map(async R=>{const G=U(s,R);return await I(G&&G._f?{[R]:G}:G)}))).every(Boolean),!(!W&&!r.isValid)&&x()):W=C=await I(s);return m.state.next({...!Ot(v)||(u.isValid||p.isValid)&&C!==r.isValid?{}:{name:v},...t.resolver||!v?{isValid:C}:{},errors:r.errors}),S.shouldFocus&&!W&&Qr(s,F,v?L:l.mount),W},Ce=v=>{const S={...o.mount?i:n};return Ae(v)?S:Ot(v)?U(S,v):v.map(C=>U(S,C))},q=(v,S)=>({invalid:!!U((S||r).errors,v),isDirty:!!U((S||r).dirtyFields,v),error:U((S||r).errors,v),isValidating:!!U(r.validatingFields,v),isTouched:!!U((S||r).touchedFields,v)}),te=v=>{v&&Kr(v).forEach(S=>Ue(r.errors,S)),m.state.next({errors:v?r.errors:{}})},ke=(v,S,C)=>{const W=(U(s,v,{_f:{}})._f||{}).ref,L=U(r.errors,v)||{},{ref:R,message:G,type:le,...be}=L;ge(r.errors,v,{...be,...S,ref:W}),m.state.next({name:v,errors:r.errors,isValid:!1}),C&&C.shouldFocus&&W&&W.focus&&W.focus()},Te=(v,S)=>Ct(v)?m.state.subscribe({next:C=>v(E(void 0,S),C)}):E(v,S,!0),Be=v=>m.state.subscribe({next:S=>{Mf(v.name,S.name,v.exact)&&Pf(S,v.formState||u,fr,v.reRenderRoot)&&v.callback({values:{...i},...r,...S})}}).unsubscribe,_t=v=>(o.mount=!0,p={...p,...v.formState},Be({...v,formState:p})),Q=(v,S={})=>{for(const C of v?Kr(v):l.mount)l.mount.delete(C),l.array.delete(C),S.keepValue||(Ue(s,C),Ue(i,C)),!S.keepError&&Ue(r.errors,C),!S.keepDirty&&Ue(r.dirtyFields,C),!S.keepTouched&&Ue(r.touchedFields,C),!S.keepIsValidating&&Ue(r.validatingFields,C),!t.shouldUnregister&&!S.keepDefaultValue&&Ue(n,C);m.state.next({values:ze(i)}),m.state.next({...r,...S.keepDirty?{isDirty:M()}:{}}),!S.keepIsValid&&x()},he=({disabled:v,name:S})=>{(ht(v)&&o.mount||v||l.disabled.has(S))&&(v?l.disabled.add(S):l.disabled.delete(S))},Re=(v,S={})=>{let C=U(s,v);const W=ht(S.disabled)||ht(t.disabled);return ge(s,v,{...C||{},_f:{...C&&C._f?C._f:{ref:{name:v}},name:v,mount:!0,...S}}),l.mount.add(v),C?he({disabled:ht(S.disabled)?S.disabled:t.disabled,name:v}):j(v,!0,S.value),{...W?{disabled:S.disabled||t.disabled}:{},...t.progressive?{required:!!S.required,min:qr(S.min),max:qr(S.max),minLength:qr(S.minLength),maxLength:qr(S.maxLength),pattern:qr(S.pattern)}:{},name:v,onChange:T,onBlur:T,ref:L=>{if(L){Re(v,S),C=U(s,v);const R=Ae(L.value)&&L.querySelectorAll&&L.querySelectorAll("input,select,textarea")[0]||L,G=Sf(R),le=C._f.refs||[];if(G?le.find(be=>be===R):R===C._f.ref)return;ge(s,v,{_f:{...C._f,...G?{refs:[...le.filter(ha),R,...Array.isArray(U(n,v))?[{}]:[]],ref:{type:R.type,name:v}}:{ref:R}}}),j(v,!1,void 0,R)}else C=U(s,v,{}),C._f&&(C._f.mount=!1),(t.shouldUnregister||S.shouldUnregister)&&!(fl(l.array,v)&&o.action)&&l.unMount.add(v)}}},me=()=>t.shouldFocusError&&Qr(s,F,l.mount),oe=v=>{ht(v)&&(m.state.next({disabled:v}),Qr(s,(S,C)=>{const W=U(s,C);W&&(S.disabled=W._f.disabled||v,Array.isArray(W._f.refs)&&W._f.refs.forEach(L=>{L.disabled=W._f.disabled||v}))},0,!1))},pe=(v,S)=>async C=>{let W;C&&(C.preventDefault&&C.preventDefault(),C.persist&&C.persist());let L=ze(i);if(m.state.next({isSubmitting:!0}),t.resolver){const{errors:R,values:G}=await k();r.errors=R,L=G}else await I(s);if(l.disabled.size)for(const R of l.disabled)ge(L,R,void 0);if(Ue(r.errors,"root"),it(r.errors)){m.state.next({errors:{}});try{await v(L,C)}catch(R){W=R}}else S&&await S({...r.errors},C),me(),setTimeout(me);if(m.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:it(r.errors)&&!W,submitCount:r.submitCount+1,errors:r.errors}),W)throw W},J=(v,S={})=>{U(s,v)&&(Ae(S.defaultValue)?z(v,ze(U(n,v))):(z(v,S.defaultValue),ge(n,v,ze(S.defaultValue))),S.keepTouched||Ue(r.touchedFields,v),S.keepDirty||(Ue(r.dirtyFields,v),r.isDirty=S.defaultValue?M(v,ze(U(n,v))):M()),S.keepError||(Ue(r.errors,v),u.isValid&&x()),m.state.next({...r}))},ct=(v,S={})=>{const C=v?ze(v):n,W=ze(C),L=it(v),R=L?n:W;if(S.keepDefaultValues||(n=C),!S.keepValues){if(S.keepDirtyValues){const G=new Set([...l.mount,...Object.keys(Zr(n,i))]);for(const le of Array.from(G))U(r.dirtyFields,le)?ge(R,le,U(i,le)):z(le,U(R,le))}else{if(tn&&Ae(v))for(const G of l.mount){const le=U(s,G);if(le&&le._f){const be=Array.isArray(le._f.refs)?le._f.refs[0]:le._f.ref;if(As(be)){const Ze=be.closest("form");if(Ze){Ze.reset();break}}}}for(const G of l.mount)z(G,U(R,G))}i=ze(R),m.array.next({values:{...R}}),m.state.next({values:{...R}})}l={mount:S.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!u.isValid||!!S.keepIsValid||!!S.keepDirtyValues,o.watch=!!t.shouldUnregister,m.state.next({submitCount:S.keepSubmitCount?r.submitCount:0,isDirty:L?!1:S.keepDirty?r.isDirty:!!(S.keepDefaultValues&&!rr(v,n)),isSubmitted:S.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:L?{}:S.keepDirtyValues?S.keepDefaultValues&&i?Zr(n,i):r.dirtyFields:S.keepDefaultValues&&v?Zr(n,v):S.keepDirty?r.dirtyFields:{},touchedFields:S.keepTouched?r.touchedFields:{},errors:S.keepErrors?r.errors:{},isSubmitSuccessful:S.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1})},Wt=(v,S)=>ct(Ct(v)?v(i):v,S),$t=(v,S={})=>{const C=U(s,v),W=C&&C._f;if(W){const L=W.refs?W.refs[0]:W.ref;L.focus&&(L.focus(),S.shouldSelect&&Ct(L.select)&&L.select())}},fr=v=>{r={...r,...v}},Kt={control:{register:Re,unregister:Q,getFieldState:q,handleSubmit:pe,setError:ke,_subscribe:Be,_runSchema:k,_focusError:me,_getWatch:E,_getDirty:M,_setValid:x,_setFieldArray:y,_setDisabledField:he,_setErrors:w,_getFieldArray:_,_reset:ct,_resetDefaultValues:()=>Ct(t.defaultValues)&&t.defaultValues().then(v=>{Wt(v,t.resetOptions),m.state.next({isLoading:!1})}),_removeUnmounted:K,_disableForm:oe,_subjects:m,_proxyFormState:u,get _fields(){return s},get _formValues(){return i},get _state(){return o},set _state(v){o=v},get _defaultValues(){return n},get _names(){return l},set _names(v){l=v},get _formState(){return r},get _options(){return t},set _options(v){t={...t,...v}}},subscribe:_t,trigger:ce,register:Re,handleSubmit:pe,watch:Te,setValue:z,getValues:Ce,reset:Wt,resetField:J,clearErrors:te,unregister:Q,setError:ke,setFocus:$t,getFieldState:q};return{...Kt,formControl:Kt}}function Lf(e={}){const t=P.useRef(void 0),r=P.useRef(void 0),[s,n]=P.useState({isDirty:!1,isValidating:!1,isLoading:Ct(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:Ct(e.defaultValues)?void 0:e.defaultValues});t.current||(t.current={...e.formControl?e.formControl:If(e),formState:s},e.formControl&&e.defaultValues&&!Ct(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions));const i=t.current.control;return i._options=e,sn(()=>{const o=i._subscribe({formState:i._proxyFormState,callback:()=>n({...i._formState}),reRenderRoot:!0});return n(l=>({...l,isReady:!0})),i._formState.isReady=!0,o},[i]),P.useEffect(()=>i._disableForm(e.disabled),[i,e.disabled]),P.useEffect(()=>{e.mode&&(i._options.mode=e.mode),e.reValidateMode&&(i._options.reValidateMode=e.reValidateMode)},[i,e.mode,e.reValidateMode]),P.useEffect(()=>{e.errors&&(i._setErrors(e.errors),i._focusError())},[i,e.errors]),P.useEffect(()=>{e.shouldUnregister&&i._subjects.state.next({values:i._getWatch()})},[i,e.shouldUnregister]),P.useEffect(()=>{if(i._proxyFormState.isDirty){const o=i._getDirty();o!==s.isDirty&&i._subjects.state.next({isDirty:o})}},[i,s.isDirty]),P.useEffect(()=>{e.values&&!rr(e.values,r.current)?(i._reset(e.values,i._options.resetOptions),r.current=e.values,n(o=>({...o}))):i._resetDefaultValues()},[i,e.values]),P.useEffect(()=>{i._state.mount||(i._setValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),t.current.formState=pl(s,i),t.current}const Gn=(e,t,r)=>{if(e&&"reportValidity"in e){const s=U(r,t);e.setCustomValidity(s&&s.message||""),e.reportValidity()}},Nl=(e,t)=>{for(const r in t.fields){const s=t.fields[r];s&&s.ref&&"reportValidity"in s.ref?Gn(s.ref,r,e):s.refs&&s.refs.forEach(n=>Gn(n,r,e))}},Vf=(e,t)=>{t.shouldUseNativeValidation&&Nl(e,t);const r={};for(const s in e){const n=U(t.fields,s),i=Object.assign(e[s]||{},{ref:n&&n.ref});if(Uf(t.names||Object.keys(e),s)){const o=Object.assign({},U(r,s));ge(o,"root",i),ge(r,s,o)}else ge(r,s,i)}return r},Uf=(e,t)=>e.some(r=>r.startsWith(t+"."));var Wf=function(e,t){for(var r={};e.length;){var s=e[0],n=s.code,i=s.message,o=s.path.join(".");if(!r[o])if("unionErrors"in s){var l=s.unionErrors[0].errors[0];r[o]={message:l.message,type:l.code}}else r[o]={message:i,type:n};if("unionErrors"in s&&s.unionErrors.forEach(function(u){return u.errors.forEach(function(p){return e.push(p)})}),t){var c=r[o].types,d=c&&c[s.code];r[o]=vl(o,t,r,n,d?[].concat(d,s.message):s.message)}e.shift()}return r},$f=function(e,t,r){return r===void 0&&(r={}),function(s,n,i){try{return Promise.resolve(function(o,l){try{var c=Promise.resolve(e[r.mode==="sync"?"parse":"parseAsync"](s,t)).then(function(d){return i.shouldUseNativeValidation&&Nl({},i),{errors:{},values:r.raw?s:d}})}catch(d){return l(d)}return c&&c.then?c.then(void 0,l):c}(0,function(o){if(function(l){return Array.isArray(l==null?void 0:l.errors)}(o))return{values:{},errors:Vf(Wf(o.errors,!i.shouldUseNativeValidation&&i.criteriaMode==="all"),i)};throw o}))}catch(o){return Promise.reject(o)}}},fe;(function(e){e.assertEqual=n=>{};function t(n){}e.assertIs=t;function r(n){throw new Error}e.assertNever=r,e.arrayToEnum=n=>{const i={};for(const o of n)i[o]=o;return i},e.getValidEnumValues=n=>{const i=e.objectKeys(n).filter(l=>typeof n[n[l]]!="number"),o={};for(const l of i)o[l]=n[l];return e.objectValues(o)},e.objectValues=n=>e.objectKeys(n).map(function(i){return n[i]}),e.objectKeys=typeof Object.keys=="function"?n=>Object.keys(n):n=>{const i=[];for(const o in n)Object.prototype.hasOwnProperty.call(n,o)&&i.push(o);return i},e.find=(n,i)=>{for(const o of n)if(i(o))return o},e.isInteger=typeof Number.isInteger=="function"?n=>Number.isInteger(n):n=>typeof n=="number"&&Number.isFinite(n)&&Math.floor(n)===n;function s(n,i=" | "){return n.map(o=>typeof o=="string"?`'${o}'`:o).join(i)}e.joinValues=s,e.jsonStringifyReplacer=(n,i)=>typeof i=="bigint"?i.toString():i})(fe||(fe={}));var Kn;(function(e){e.mergeShapes=(t,r)=>({...t,...r})})(Kn||(Kn={}));const H=fe.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),er=e=>{switch(typeof e){case"undefined":return H.undefined;case"string":return H.string;case"number":return Number.isNaN(e)?H.nan:H.number;case"boolean":return H.boolean;case"function":return H.function;case"bigint":return H.bigint;case"symbol":return H.symbol;case"object":return Array.isArray(e)?H.array:e===null?H.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?H.promise:typeof Map<"u"&&e instanceof Map?H.map:typeof Set<"u"&&e instanceof Set?H.set:typeof Date<"u"&&e instanceof Date?H.date:H.object;default:return H.unknown}},O=fe.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class Zt extends Error{get errors(){return this.issues}constructor(t){super(),this.issues=[],this.addIssue=s=>{this.issues=[...this.issues,s]},this.addIssues=(s=[])=>{this.issues=[...this.issues,...s]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=t}format(t){const r=t||function(i){return i.message},s={_errors:[]},n=i=>{for(const o of i.issues)if(o.code==="invalid_union")o.unionErrors.map(n);else if(o.code==="invalid_return_type")n(o.returnTypeError);else if(o.code==="invalid_arguments")n(o.argumentsError);else if(o.path.length===0)s._errors.push(r(o));else{let l=s,c=0;for(;c<o.path.length;){const d=o.path[c];c===o.path.length-1?(l[d]=l[d]||{_errors:[]},l[d]._errors.push(r(o))):l[d]=l[d]||{_errors:[]},l=l[d],c++}}};return n(this),s}static assert(t){if(!(t instanceof Zt))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,fe.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=r=>r.message){const r={},s=[];for(const n of this.issues)n.path.length>0?(r[n.path[0]]=r[n.path[0]]||[],r[n.path[0]].push(t(n))):s.push(t(n));return{formErrors:s,fieldErrors:r}}get formErrors(){return this.flatten()}}Zt.create=e=>new Zt(e);const Pa=(e,t)=>{let r;switch(e.code){case O.invalid_type:e.received===H.undefined?r="Required":r=`Expected ${e.expected}, received ${e.received}`;break;case O.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(e.expected,fe.jsonStringifyReplacer)}`;break;case O.unrecognized_keys:r=`Unrecognized key(s) in object: ${fe.joinValues(e.keys,", ")}`;break;case O.invalid_union:r="Invalid input";break;case O.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${fe.joinValues(e.options)}`;break;case O.invalid_enum_value:r=`Invalid enum value. Expected ${fe.joinValues(e.options)}, received '${e.received}'`;break;case O.invalid_arguments:r="Invalid function arguments";break;case O.invalid_return_type:r="Invalid function return type";break;case O.invalid_date:r="Invalid date";break;case O.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(r=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?r=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?r=`Invalid input: must end with "${e.validation.endsWith}"`:fe.assertNever(e.validation):e.validation!=="regex"?r=`Invalid ${e.validation}`:r="Invalid";break;case O.too_small:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:r="Invalid input";break;case O.too_big:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?r=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:r="Invalid input";break;case O.custom:r="Invalid input";break;case O.invalid_intersection_types:r="Intersection results could not be merged";break;case O.not_multiple_of:r=`Number must be a multiple of ${e.multipleOf}`;break;case O.not_finite:r="Number must be finite";break;default:r=t.defaultError,fe.assertNever(e)}return{message:r}};let Bf=Pa;function zf(){return Bf}const Hf=e=>{const{data:t,path:r,errorMaps:s,issueData:n}=e,i=[...r,...n.path||[]],o={...n,path:i};if(n.message!==void 0)return{...n,path:i,message:n.message};let l="";const c=s.filter(d=>!!d).slice().reverse();for(const d of c)l=d(o,{data:t,defaultError:l}).message;return{...n,path:i,message:l}};function $(e,t){const r=zf(),s=Hf({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,r,r===Pa?void 0:Pa].filter(n=>!!n)});e.common.issues.push(s)}class pt{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,r){const s=[];for(const n of r){if(n.status==="aborted")return ae;n.status==="dirty"&&t.dirty(),s.push(n.value)}return{status:t.value,value:s}}static async mergeObjectAsync(t,r){const s=[];for(const n of r){const i=await n.key,o=await n.value;s.push({key:i,value:o})}return pt.mergeObjectSync(t,s)}static mergeObjectSync(t,r){const s={};for(const n of r){const{key:i,value:o}=n;if(i.status==="aborted"||o.status==="aborted")return ae;i.status==="dirty"&&t.dirty(),o.status==="dirty"&&t.dirty(),i.value!=="__proto__"&&(typeof o.value<"u"||n.alwaysSet)&&(s[i.value]=o.value)}return{status:t.value,value:s}}}const ae=Object.freeze({status:"aborted"}),Gr=e=>({status:"dirty",value:e}),bt=e=>({status:"valid",value:e}),Qn=e=>e.status==="aborted",Jn=e=>e.status==="dirty",Mr=e=>e.status==="valid",Ls=e=>typeof Promise<"u"&&e instanceof Promise;var Z;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t==null?void 0:t.message})(Z||(Z={}));class or{constructor(t,r,s,n){this._cachedPath=[],this.parent=t,this.data=r,this._path=s,this._key=n}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const ei=(e,t)=>{if(Mr(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new Zt(e.common.issues);return this._error=r,this._error}}};function ie(e){if(!e)return{};const{errorMap:t,invalid_type_error:r,required_error:s,description:n}=e;if(t&&(r||s))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:n}:{errorMap:(o,l)=>{const{message:c}=e;return o.code==="invalid_enum_value"?{message:c??l.defaultError}:typeof l.data>"u"?{message:c??s??l.defaultError}:o.code!=="invalid_type"?{message:l.defaultError}:{message:c??r??l.defaultError}},description:n}}class ue{get description(){return this._def.description}_getType(t){return er(t.data)}_getOrReturnCtx(t,r){return r||{common:t.parent.common,data:t.data,parsedType:er(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new pt,ctx:{common:t.parent.common,data:t.data,parsedType:er(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const r=this._parse(t);if(Ls(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(t){const r=this._parse(t);return Promise.resolve(r)}parse(t,r){const s=this.safeParse(t,r);if(s.success)return s.data;throw s.error}safeParse(t,r){const s={common:{issues:[],async:(r==null?void 0:r.async)??!1,contextualErrorMap:r==null?void 0:r.errorMap},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:er(t)},n=this._parseSync({data:t,path:s.path,parent:s});return ei(s,n)}"~validate"(t){var s,n;const r={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:er(t)};if(!this["~standard"].async)try{const i=this._parseSync({data:t,path:[],parent:r});return Mr(i)?{value:i.value}:{issues:r.common.issues}}catch(i){(n=(s=i==null?void 0:i.message)==null?void 0:s.toLowerCase())!=null&&n.includes("encountered")&&(this["~standard"].async=!0),r.common={issues:[],async:!0}}return this._parseAsync({data:t,path:[],parent:r}).then(i=>Mr(i)?{value:i.value}:{issues:r.common.issues})}async parseAsync(t,r){const s=await this.safeParseAsync(t,r);if(s.success)return s.data;throw s.error}async safeParseAsync(t,r){const s={common:{issues:[],contextualErrorMap:r==null?void 0:r.errorMap,async:!0},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:er(t)},n=this._parse({data:t,path:s.path,parent:s}),i=await(Ls(n)?n:Promise.resolve(n));return ei(s,i)}refine(t,r){const s=n=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(n):r;return this._refinement((n,i)=>{const o=t(n),l=()=>i.addIssue({code:O.custom,...s(n)});return typeof Promise<"u"&&o instanceof Promise?o.then(c=>c?!0:(l(),!1)):o?!0:(l(),!1)})}refinement(t,r){return this._refinement((s,n)=>t(s)?!0:(n.addIssue(typeof r=="function"?r(s,n):r),!1))}_refinement(t){return new Ar({schema:this,typeName:ne.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:r=>this["~validate"](r)}}optional(){return ir.create(this,this._def)}nullable(){return Fr.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Lt.create(this)}promise(){return Ws.create(this,this._def)}or(t){return Vs.create([this,t],this._def)}and(t){return Us.create(this,t,this._def)}transform(t){return new Ar({...ie(this._def),schema:this,typeName:ne.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const r=typeof t=="function"?t:()=>t;return new Ra({...ie(this._def),innerType:this,defaultValue:r,typeName:ne.ZodDefault})}brand(){return new mh({typeName:ne.ZodBranded,type:this,...ie(this._def)})}catch(t){const r=typeof t=="function"?t:()=>t;return new Aa({...ie(this._def),innerType:this,catchValue:r,typeName:ne.ZodCatch})}describe(t){const r=this.constructor;return new r({...this._def,description:t})}pipe(t){return on.create(this,t)}readonly(){return Fa.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const Yf=/^c[^\s-]{8,}$/i,Zf=/^[0-9a-z]+$/,qf=/^[0-9A-HJKMNP-TV-Z]{26}$/i,Xf=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,Gf=/^[a-z0-9_-]{21}$/i,Kf=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,Qf=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,Jf=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,eh="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let ma;const th=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,rh=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,sh=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,ah=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,nh=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,ih=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,Sl="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",oh=new RegExp(`^${Sl}$`);function Cl(e){let t="[0-5]\\d";e.precision?t=`${t}\\.\\d{${e.precision}}`:e.precision==null&&(t=`${t}(\\.\\d+)?`);const r=e.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${t})${r}`}function lh(e){return new RegExp(`^${Cl(e)}$`)}function ch(e){let t=`${Sl}T${Cl(e)}`;const r=[];return r.push(e.local?"Z?":"Z"),e.offset&&r.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${r.join("|")})`,new RegExp(`^${t}$`)}function dh(e,t){return!!((t==="v4"||!t)&&th.test(e)||(t==="v6"||!t)&&sh.test(e))}function uh(e,t){if(!Kf.test(e))return!1;try{const[r]=e.split("."),s=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),n=JSON.parse(atob(s));return!(typeof n!="object"||n===null||"typ"in n&&(n==null?void 0:n.typ)!=="JWT"||!n.alg||t&&n.alg!==t)}catch{return!1}}function fh(e,t){return!!((t==="v4"||!t)&&rh.test(e)||(t==="v6"||!t)&&ah.test(e))}class ar extends ue{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==H.string){const i=this._getOrReturnCtx(t);return $(i,{code:O.invalid_type,expected:H.string,received:i.parsedType}),ae}const s=new pt;let n;for(const i of this._def.checks)if(i.kind==="min")t.data.length<i.value&&(n=this._getOrReturnCtx(t,n),$(n,{code:O.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),s.dirty());else if(i.kind==="max")t.data.length>i.value&&(n=this._getOrReturnCtx(t,n),$(n,{code:O.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),s.dirty());else if(i.kind==="length"){const o=t.data.length>i.value,l=t.data.length<i.value;(o||l)&&(n=this._getOrReturnCtx(t,n),o?$(n,{code:O.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):l&&$(n,{code:O.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),s.dirty())}else if(i.kind==="email")Jf.test(t.data)||(n=this._getOrReturnCtx(t,n),$(n,{validation:"email",code:O.invalid_string,message:i.message}),s.dirty());else if(i.kind==="emoji")ma||(ma=new RegExp(eh,"u")),ma.test(t.data)||(n=this._getOrReturnCtx(t,n),$(n,{validation:"emoji",code:O.invalid_string,message:i.message}),s.dirty());else if(i.kind==="uuid")Xf.test(t.data)||(n=this._getOrReturnCtx(t,n),$(n,{validation:"uuid",code:O.invalid_string,message:i.message}),s.dirty());else if(i.kind==="nanoid")Gf.test(t.data)||(n=this._getOrReturnCtx(t,n),$(n,{validation:"nanoid",code:O.invalid_string,message:i.message}),s.dirty());else if(i.kind==="cuid")Yf.test(t.data)||(n=this._getOrReturnCtx(t,n),$(n,{validation:"cuid",code:O.invalid_string,message:i.message}),s.dirty());else if(i.kind==="cuid2")Zf.test(t.data)||(n=this._getOrReturnCtx(t,n),$(n,{validation:"cuid2",code:O.invalid_string,message:i.message}),s.dirty());else if(i.kind==="ulid")qf.test(t.data)||(n=this._getOrReturnCtx(t,n),$(n,{validation:"ulid",code:O.invalid_string,message:i.message}),s.dirty());else if(i.kind==="url")try{new URL(t.data)}catch{n=this._getOrReturnCtx(t,n),$(n,{validation:"url",code:O.invalid_string,message:i.message}),s.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(t.data)||(n=this._getOrReturnCtx(t,n),$(n,{validation:"regex",code:O.invalid_string,message:i.message}),s.dirty())):i.kind==="trim"?t.data=t.data.trim():i.kind==="includes"?t.data.includes(i.value,i.position)||(n=this._getOrReturnCtx(t,n),$(n,{code:O.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),s.dirty()):i.kind==="toLowerCase"?t.data=t.data.toLowerCase():i.kind==="toUpperCase"?t.data=t.data.toUpperCase():i.kind==="startsWith"?t.data.startsWith(i.value)||(n=this._getOrReturnCtx(t,n),$(n,{code:O.invalid_string,validation:{startsWith:i.value},message:i.message}),s.dirty()):i.kind==="endsWith"?t.data.endsWith(i.value)||(n=this._getOrReturnCtx(t,n),$(n,{code:O.invalid_string,validation:{endsWith:i.value},message:i.message}),s.dirty()):i.kind==="datetime"?ch(i).test(t.data)||(n=this._getOrReturnCtx(t,n),$(n,{code:O.invalid_string,validation:"datetime",message:i.message}),s.dirty()):i.kind==="date"?oh.test(t.data)||(n=this._getOrReturnCtx(t,n),$(n,{code:O.invalid_string,validation:"date",message:i.message}),s.dirty()):i.kind==="time"?lh(i).test(t.data)||(n=this._getOrReturnCtx(t,n),$(n,{code:O.invalid_string,validation:"time",message:i.message}),s.dirty()):i.kind==="duration"?Qf.test(t.data)||(n=this._getOrReturnCtx(t,n),$(n,{validation:"duration",code:O.invalid_string,message:i.message}),s.dirty()):i.kind==="ip"?dh(t.data,i.version)||(n=this._getOrReturnCtx(t,n),$(n,{validation:"ip",code:O.invalid_string,message:i.message}),s.dirty()):i.kind==="jwt"?uh(t.data,i.alg)||(n=this._getOrReturnCtx(t,n),$(n,{validation:"jwt",code:O.invalid_string,message:i.message}),s.dirty()):i.kind==="cidr"?fh(t.data,i.version)||(n=this._getOrReturnCtx(t,n),$(n,{validation:"cidr",code:O.invalid_string,message:i.message}),s.dirty()):i.kind==="base64"?nh.test(t.data)||(n=this._getOrReturnCtx(t,n),$(n,{validation:"base64",code:O.invalid_string,message:i.message}),s.dirty()):i.kind==="base64url"?ih.test(t.data)||(n=this._getOrReturnCtx(t,n),$(n,{validation:"base64url",code:O.invalid_string,message:i.message}),s.dirty()):fe.assertNever(i);return{status:s.value,value:t.data}}_regex(t,r,s){return this.refinement(n=>t.test(n),{validation:r,code:O.invalid_string,...Z.errToObj(s)})}_addCheck(t){return new ar({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...Z.errToObj(t)})}url(t){return this._addCheck({kind:"url",...Z.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...Z.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...Z.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...Z.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...Z.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...Z.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...Z.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...Z.errToObj(t)})}base64url(t){return this._addCheck({kind:"base64url",...Z.errToObj(t)})}jwt(t){return this._addCheck({kind:"jwt",...Z.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...Z.errToObj(t)})}cidr(t){return this._addCheck({kind:"cidr",...Z.errToObj(t)})}datetime(t){return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,offset:(t==null?void 0:t.offset)??!1,local:(t==null?void 0:t.local)??!1,...Z.errToObj(t==null?void 0:t.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,...Z.errToObj(t==null?void 0:t.message)})}duration(t){return this._addCheck({kind:"duration",...Z.errToObj(t)})}regex(t,r){return this._addCheck({kind:"regex",regex:t,...Z.errToObj(r)})}includes(t,r){return this._addCheck({kind:"includes",value:t,position:r==null?void 0:r.position,...Z.errToObj(r==null?void 0:r.message)})}startsWith(t,r){return this._addCheck({kind:"startsWith",value:t,...Z.errToObj(r)})}endsWith(t,r){return this._addCheck({kind:"endsWith",value:t,...Z.errToObj(r)})}min(t,r){return this._addCheck({kind:"min",value:t,...Z.errToObj(r)})}max(t,r){return this._addCheck({kind:"max",value:t,...Z.errToObj(r)})}length(t,r){return this._addCheck({kind:"length",value:t,...Z.errToObj(r)})}nonempty(t){return this.min(1,Z.errToObj(t))}trim(){return new ar({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new ar({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new ar({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isCIDR(){return!!this._def.checks.find(t=>t.kind==="cidr")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get isBase64url(){return!!this._def.checks.find(t=>t.kind==="base64url")}get minLength(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxLength(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}ar.create=e=>new ar({checks:[],typeName:ne.ZodString,coerce:(e==null?void 0:e.coerce)??!1,...ie(e)});function hh(e,t){const r=(e.toString().split(".")[1]||"").length,s=(t.toString().split(".")[1]||"").length,n=r>s?r:s,i=Number.parseInt(e.toFixed(n).replace(".","")),o=Number.parseInt(t.toFixed(n).replace(".",""));return i%o/10**n}class Or extends ue{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==H.number){const i=this._getOrReturnCtx(t);return $(i,{code:O.invalid_type,expected:H.number,received:i.parsedType}),ae}let s;const n=new pt;for(const i of this._def.checks)i.kind==="int"?fe.isInteger(t.data)||(s=this._getOrReturnCtx(t,s),$(s,{code:O.invalid_type,expected:"integer",received:"float",message:i.message}),n.dirty()):i.kind==="min"?(i.inclusive?t.data<i.value:t.data<=i.value)&&(s=this._getOrReturnCtx(t,s),$(s,{code:O.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),n.dirty()):i.kind==="max"?(i.inclusive?t.data>i.value:t.data>=i.value)&&(s=this._getOrReturnCtx(t,s),$(s,{code:O.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),n.dirty()):i.kind==="multipleOf"?hh(t.data,i.value)!==0&&(s=this._getOrReturnCtx(t,s),$(s,{code:O.not_multiple_of,multipleOf:i.value,message:i.message}),n.dirty()):i.kind==="finite"?Number.isFinite(t.data)||(s=this._getOrReturnCtx(t,s),$(s,{code:O.not_finite,message:i.message}),n.dirty()):fe.assertNever(i);return{status:n.value,value:t.data}}gte(t,r){return this.setLimit("min",t,!0,Z.toString(r))}gt(t,r){return this.setLimit("min",t,!1,Z.toString(r))}lte(t,r){return this.setLimit("max",t,!0,Z.toString(r))}lt(t,r){return this.setLimit("max",t,!1,Z.toString(r))}setLimit(t,r,s,n){return new Or({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:s,message:Z.toString(n)}]})}_addCheck(t){return new Or({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:Z.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Z.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Z.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Z.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Z.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:Z.toString(r)})}finite(t){return this._addCheck({kind:"finite",message:Z.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Z.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Z.toString(t)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&fe.isInteger(t.value))}get isFinite(){let t=null,r=null;for(const s of this._def.checks){if(s.kind==="finite"||s.kind==="int"||s.kind==="multipleOf")return!0;s.kind==="min"?(r===null||s.value>r)&&(r=s.value):s.kind==="max"&&(t===null||s.value<t)&&(t=s.value)}return Number.isFinite(r)&&Number.isFinite(t)}}Or.create=e=>new Or({checks:[],typeName:ne.ZodNumber,coerce:(e==null?void 0:e.coerce)||!1,...ie(e)});class rs extends ue{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce)try{t.data=BigInt(t.data)}catch{return this._getInvalidInput(t)}if(this._getType(t)!==H.bigint)return this._getInvalidInput(t);let s;const n=new pt;for(const i of this._def.checks)i.kind==="min"?(i.inclusive?t.data<i.value:t.data<=i.value)&&(s=this._getOrReturnCtx(t,s),$(s,{code:O.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),n.dirty()):i.kind==="max"?(i.inclusive?t.data>i.value:t.data>=i.value)&&(s=this._getOrReturnCtx(t,s),$(s,{code:O.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),n.dirty()):i.kind==="multipleOf"?t.data%i.value!==BigInt(0)&&(s=this._getOrReturnCtx(t,s),$(s,{code:O.not_multiple_of,multipleOf:i.value,message:i.message}),n.dirty()):fe.assertNever(i);return{status:n.value,value:t.data}}_getInvalidInput(t){const r=this._getOrReturnCtx(t);return $(r,{code:O.invalid_type,expected:H.bigint,received:r.parsedType}),ae}gte(t,r){return this.setLimit("min",t,!0,Z.toString(r))}gt(t,r){return this.setLimit("min",t,!1,Z.toString(r))}lte(t,r){return this.setLimit("max",t,!0,Z.toString(r))}lt(t,r){return this.setLimit("max",t,!1,Z.toString(r))}setLimit(t,r,s,n){return new rs({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:s,message:Z.toString(n)}]})}_addCheck(t){return new rs({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Z.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Z.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Z.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Z.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:Z.toString(r)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}rs.create=e=>new rs({checks:[],typeName:ne.ZodBigInt,coerce:(e==null?void 0:e.coerce)??!1,...ie(e)});class Ma extends ue{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==H.boolean){const s=this._getOrReturnCtx(t);return $(s,{code:O.invalid_type,expected:H.boolean,received:s.parsedType}),ae}return bt(t.data)}}Ma.create=e=>new Ma({typeName:ne.ZodBoolean,coerce:(e==null?void 0:e.coerce)||!1,...ie(e)});class ss extends ue{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==H.date){const i=this._getOrReturnCtx(t);return $(i,{code:O.invalid_type,expected:H.date,received:i.parsedType}),ae}if(Number.isNaN(t.data.getTime())){const i=this._getOrReturnCtx(t);return $(i,{code:O.invalid_date}),ae}const s=new pt;let n;for(const i of this._def.checks)i.kind==="min"?t.data.getTime()<i.value&&(n=this._getOrReturnCtx(t,n),$(n,{code:O.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),s.dirty()):i.kind==="max"?t.data.getTime()>i.value&&(n=this._getOrReturnCtx(t,n),$(n,{code:O.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),s.dirty()):fe.assertNever(i);return{status:s.value,value:new Date(t.data.getTime())}}_addCheck(t){return new ss({...this._def,checks:[...this._def.checks,t]})}min(t,r){return this._addCheck({kind:"min",value:t.getTime(),message:Z.toString(r)})}max(t,r){return this._addCheck({kind:"max",value:t.getTime(),message:Z.toString(r)})}get minDate(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t!=null?new Date(t):null}}ss.create=e=>new ss({checks:[],coerce:(e==null?void 0:e.coerce)||!1,typeName:ne.ZodDate,...ie(e)});class ti extends ue{_parse(t){if(this._getType(t)!==H.symbol){const s=this._getOrReturnCtx(t);return $(s,{code:O.invalid_type,expected:H.symbol,received:s.parsedType}),ae}return bt(t.data)}}ti.create=e=>new ti({typeName:ne.ZodSymbol,...ie(e)});class ri extends ue{_parse(t){if(this._getType(t)!==H.undefined){const s=this._getOrReturnCtx(t);return $(s,{code:O.invalid_type,expected:H.undefined,received:s.parsedType}),ae}return bt(t.data)}}ri.create=e=>new ri({typeName:ne.ZodUndefined,...ie(e)});class si extends ue{_parse(t){if(this._getType(t)!==H.null){const s=this._getOrReturnCtx(t);return $(s,{code:O.invalid_type,expected:H.null,received:s.parsedType}),ae}return bt(t.data)}}si.create=e=>new si({typeName:ne.ZodNull,...ie(e)});class ai extends ue{constructor(){super(...arguments),this._any=!0}_parse(t){return bt(t.data)}}ai.create=e=>new ai({typeName:ne.ZodAny,...ie(e)});class ni extends ue{constructor(){super(...arguments),this._unknown=!0}_parse(t){return bt(t.data)}}ni.create=e=>new ni({typeName:ne.ZodUnknown,...ie(e)});class lr extends ue{_parse(t){const r=this._getOrReturnCtx(t);return $(r,{code:O.invalid_type,expected:H.never,received:r.parsedType}),ae}}lr.create=e=>new lr({typeName:ne.ZodNever,...ie(e)});class ii extends ue{_parse(t){if(this._getType(t)!==H.undefined){const s=this._getOrReturnCtx(t);return $(s,{code:O.invalid_type,expected:H.void,received:s.parsedType}),ae}return bt(t.data)}}ii.create=e=>new ii({typeName:ne.ZodVoid,...ie(e)});class Lt extends ue{_parse(t){const{ctx:r,status:s}=this._processInputParams(t),n=this._def;if(r.parsedType!==H.array)return $(r,{code:O.invalid_type,expected:H.array,received:r.parsedType}),ae;if(n.exactLength!==null){const o=r.data.length>n.exactLength.value,l=r.data.length<n.exactLength.value;(o||l)&&($(r,{code:o?O.too_big:O.too_small,minimum:l?n.exactLength.value:void 0,maximum:o?n.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:n.exactLength.message}),s.dirty())}if(n.minLength!==null&&r.data.length<n.minLength.value&&($(r,{code:O.too_small,minimum:n.minLength.value,type:"array",inclusive:!0,exact:!1,message:n.minLength.message}),s.dirty()),n.maxLength!==null&&r.data.length>n.maxLength.value&&($(r,{code:O.too_big,maximum:n.maxLength.value,type:"array",inclusive:!0,exact:!1,message:n.maxLength.message}),s.dirty()),r.common.async)return Promise.all([...r.data].map((o,l)=>n.type._parseAsync(new or(r,o,r.path,l)))).then(o=>pt.mergeArray(s,o));const i=[...r.data].map((o,l)=>n.type._parseSync(new or(r,o,r.path,l)));return pt.mergeArray(s,i)}get element(){return this._def.type}min(t,r){return new Lt({...this._def,minLength:{value:t,message:Z.toString(r)}})}max(t,r){return new Lt({...this._def,maxLength:{value:t,message:Z.toString(r)}})}length(t,r){return new Lt({...this._def,exactLength:{value:t,message:Z.toString(r)}})}nonempty(t){return this.min(1,t)}}Lt.create=(e,t)=>new Lt({type:e,minLength:null,maxLength:null,exactLength:null,typeName:ne.ZodArray,...ie(t)});function kr(e){if(e instanceof Ie){const t={};for(const r in e.shape){const s=e.shape[r];t[r]=ir.create(kr(s))}return new Ie({...e._def,shape:()=>t})}else return e instanceof Lt?new Lt({...e._def,type:kr(e.element)}):e instanceof ir?ir.create(kr(e.unwrap())):e instanceof Fr?Fr.create(kr(e.unwrap())):e instanceof jr?jr.create(e.items.map(t=>kr(t))):e}class Ie extends ue{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),r=fe.objectKeys(t);return this._cached={shape:t,keys:r},this._cached}_parse(t){if(this._getType(t)!==H.object){const d=this._getOrReturnCtx(t);return $(d,{code:O.invalid_type,expected:H.object,received:d.parsedType}),ae}const{status:s,ctx:n}=this._processInputParams(t),{shape:i,keys:o}=this._getCached(),l=[];if(!(this._def.catchall instanceof lr&&this._def.unknownKeys==="strip"))for(const d in n.data)o.includes(d)||l.push(d);const c=[];for(const d of o){const u=i[d],p=n.data[d];c.push({key:{status:"valid",value:d},value:u._parse(new or(n,p,n.path,d)),alwaysSet:d in n.data})}if(this._def.catchall instanceof lr){const d=this._def.unknownKeys;if(d==="passthrough")for(const u of l)c.push({key:{status:"valid",value:u},value:{status:"valid",value:n.data[u]}});else if(d==="strict")l.length>0&&($(n,{code:O.unrecognized_keys,keys:l}),s.dirty());else if(d!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const d=this._def.catchall;for(const u of l){const p=n.data[u];c.push({key:{status:"valid",value:u},value:d._parse(new or(n,p,n.path,u)),alwaysSet:u in n.data})}}return n.common.async?Promise.resolve().then(async()=>{const d=[];for(const u of c){const p=await u.key,m=await u.value;d.push({key:p,value:m,alwaysSet:u.alwaysSet})}return d}).then(d=>pt.mergeObjectSync(s,d)):pt.mergeObjectSync(s,c)}get shape(){return this._def.shape()}strict(t){return Z.errToObj,new Ie({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(r,s)=>{var i,o;const n=((o=(i=this._def).errorMap)==null?void 0:o.call(i,r,s).message)??s.defaultError;return r.code==="unrecognized_keys"?{message:Z.errToObj(t).message??n}:{message:n}}}:{}})}strip(){return new Ie({...this._def,unknownKeys:"strip"})}passthrough(){return new Ie({...this._def,unknownKeys:"passthrough"})}extend(t){return new Ie({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new Ie({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:ne.ZodObject})}setKey(t,r){return this.augment({[t]:r})}catchall(t){return new Ie({...this._def,catchall:t})}pick(t){const r={};for(const s of fe.objectKeys(t))t[s]&&this.shape[s]&&(r[s]=this.shape[s]);return new Ie({...this._def,shape:()=>r})}omit(t){const r={};for(const s of fe.objectKeys(this.shape))t[s]||(r[s]=this.shape[s]);return new Ie({...this._def,shape:()=>r})}deepPartial(){return kr(this)}partial(t){const r={};for(const s of fe.objectKeys(this.shape)){const n=this.shape[s];t&&!t[s]?r[s]=n:r[s]=n.optional()}return new Ie({...this._def,shape:()=>r})}required(t){const r={};for(const s of fe.objectKeys(this.shape))if(t&&!t[s])r[s]=this.shape[s];else{let i=this.shape[s];for(;i instanceof ir;)i=i._def.innerType;r[s]=i}return new Ie({...this._def,shape:()=>r})}keyof(){return kl(fe.objectKeys(this.shape))}}Ie.create=(e,t)=>new Ie({shape:()=>e,unknownKeys:"strip",catchall:lr.create(),typeName:ne.ZodObject,...ie(t)});Ie.strictCreate=(e,t)=>new Ie({shape:()=>e,unknownKeys:"strict",catchall:lr.create(),typeName:ne.ZodObject,...ie(t)});Ie.lazycreate=(e,t)=>new Ie({shape:e,unknownKeys:"strip",catchall:lr.create(),typeName:ne.ZodObject,...ie(t)});class Vs extends ue{_parse(t){const{ctx:r}=this._processInputParams(t),s=this._def.options;function n(i){for(const l of i)if(l.result.status==="valid")return l.result;for(const l of i)if(l.result.status==="dirty")return r.common.issues.push(...l.ctx.common.issues),l.result;const o=i.map(l=>new Zt(l.ctx.common.issues));return $(r,{code:O.invalid_union,unionErrors:o}),ae}if(r.common.async)return Promise.all(s.map(async i=>{const o={...r,common:{...r.common,issues:[]},parent:null};return{result:await i._parseAsync({data:r.data,path:r.path,parent:o}),ctx:o}})).then(n);{let i;const o=[];for(const c of s){const d={...r,common:{...r.common,issues:[]},parent:null},u=c._parseSync({data:r.data,path:r.path,parent:d});if(u.status==="valid")return u;u.status==="dirty"&&!i&&(i={result:u,ctx:d}),d.common.issues.length&&o.push(d.common.issues)}if(i)return r.common.issues.push(...i.ctx.common.issues),i.result;const l=o.map(c=>new Zt(c));return $(r,{code:O.invalid_union,unionErrors:l}),ae}}get options(){return this._def.options}}Vs.create=(e,t)=>new Vs({options:e,typeName:ne.ZodUnion,...ie(t)});function Oa(e,t){const r=er(e),s=er(t);if(e===t)return{valid:!0,data:e};if(r===H.object&&s===H.object){const n=fe.objectKeys(t),i=fe.objectKeys(e).filter(l=>n.indexOf(l)!==-1),o={...e,...t};for(const l of i){const c=Oa(e[l],t[l]);if(!c.valid)return{valid:!1};o[l]=c.data}return{valid:!0,data:o}}else if(r===H.array&&s===H.array){if(e.length!==t.length)return{valid:!1};const n=[];for(let i=0;i<e.length;i++){const o=e[i],l=t[i],c=Oa(o,l);if(!c.valid)return{valid:!1};n.push(c.data)}return{valid:!0,data:n}}else return r===H.date&&s===H.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class Us extends ue{_parse(t){const{status:r,ctx:s}=this._processInputParams(t),n=(i,o)=>{if(Qn(i)||Qn(o))return ae;const l=Oa(i.value,o.value);return l.valid?((Jn(i)||Jn(o))&&r.dirty(),{status:r.value,value:l.data}):($(s,{code:O.invalid_intersection_types}),ae)};return s.common.async?Promise.all([this._def.left._parseAsync({data:s.data,path:s.path,parent:s}),this._def.right._parseAsync({data:s.data,path:s.path,parent:s})]).then(([i,o])=>n(i,o)):n(this._def.left._parseSync({data:s.data,path:s.path,parent:s}),this._def.right._parseSync({data:s.data,path:s.path,parent:s}))}}Us.create=(e,t,r)=>new Us({left:e,right:t,typeName:ne.ZodIntersection,...ie(r)});class jr extends ue{_parse(t){const{status:r,ctx:s}=this._processInputParams(t);if(s.parsedType!==H.array)return $(s,{code:O.invalid_type,expected:H.array,received:s.parsedType}),ae;if(s.data.length<this._def.items.length)return $(s,{code:O.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),ae;!this._def.rest&&s.data.length>this._def.items.length&&($(s,{code:O.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const i=[...s.data].map((o,l)=>{const c=this._def.items[l]||this._def.rest;return c?c._parse(new or(s,o,s.path,l)):null}).filter(o=>!!o);return s.common.async?Promise.all(i).then(o=>pt.mergeArray(r,o)):pt.mergeArray(r,i)}get items(){return this._def.items}rest(t){return new jr({...this._def,rest:t})}}jr.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new jr({items:e,typeName:ne.ZodTuple,rest:null,...ie(t)})};class oi extends ue{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:r,ctx:s}=this._processInputParams(t);if(s.parsedType!==H.map)return $(s,{code:O.invalid_type,expected:H.map,received:s.parsedType}),ae;const n=this._def.keyType,i=this._def.valueType,o=[...s.data.entries()].map(([l,c],d)=>({key:n._parse(new or(s,l,s.path,[d,"key"])),value:i._parse(new or(s,c,s.path,[d,"value"]))}));if(s.common.async){const l=new Map;return Promise.resolve().then(async()=>{for(const c of o){const d=await c.key,u=await c.value;if(d.status==="aborted"||u.status==="aborted")return ae;(d.status==="dirty"||u.status==="dirty")&&r.dirty(),l.set(d.value,u.value)}return{status:r.value,value:l}})}else{const l=new Map;for(const c of o){const d=c.key,u=c.value;if(d.status==="aborted"||u.status==="aborted")return ae;(d.status==="dirty"||u.status==="dirty")&&r.dirty(),l.set(d.value,u.value)}return{status:r.value,value:l}}}}oi.create=(e,t,r)=>new oi({valueType:t,keyType:e,typeName:ne.ZodMap,...ie(r)});class as extends ue{_parse(t){const{status:r,ctx:s}=this._processInputParams(t);if(s.parsedType!==H.set)return $(s,{code:O.invalid_type,expected:H.set,received:s.parsedType}),ae;const n=this._def;n.minSize!==null&&s.data.size<n.minSize.value&&($(s,{code:O.too_small,minimum:n.minSize.value,type:"set",inclusive:!0,exact:!1,message:n.minSize.message}),r.dirty()),n.maxSize!==null&&s.data.size>n.maxSize.value&&($(s,{code:O.too_big,maximum:n.maxSize.value,type:"set",inclusive:!0,exact:!1,message:n.maxSize.message}),r.dirty());const i=this._def.valueType;function o(c){const d=new Set;for(const u of c){if(u.status==="aborted")return ae;u.status==="dirty"&&r.dirty(),d.add(u.value)}return{status:r.value,value:d}}const l=[...s.data.values()].map((c,d)=>i._parse(new or(s,c,s.path,d)));return s.common.async?Promise.all(l).then(c=>o(c)):o(l)}min(t,r){return new as({...this._def,minSize:{value:t,message:Z.toString(r)}})}max(t,r){return new as({...this._def,maxSize:{value:t,message:Z.toString(r)}})}size(t,r){return this.min(t,r).max(t,r)}nonempty(t){return this.min(1,t)}}as.create=(e,t)=>new as({valueType:e,minSize:null,maxSize:null,typeName:ne.ZodSet,...ie(t)});class li extends ue{get schema(){return this._def.getter()}_parse(t){const{ctx:r}=this._processInputParams(t);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}li.create=(e,t)=>new li({getter:e,typeName:ne.ZodLazy,...ie(t)});class ci extends ue{_parse(t){if(t.data!==this._def.value){const r=this._getOrReturnCtx(t);return $(r,{received:r.data,code:O.invalid_literal,expected:this._def.value}),ae}return{status:"valid",value:t.data}}get value(){return this._def.value}}ci.create=(e,t)=>new ci({value:e,typeName:ne.ZodLiteral,...ie(t)});function kl(e,t){return new Rr({values:e,typeName:ne.ZodEnum,...ie(t)})}class Rr extends ue{_parse(t){if(typeof t.data!="string"){const r=this._getOrReturnCtx(t),s=this._def.values;return $(r,{expected:fe.joinValues(s),received:r.parsedType,code:O.invalid_type}),ae}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(t.data)){const r=this._getOrReturnCtx(t),s=this._def.values;return $(r,{received:r.data,code:O.invalid_enum_value,options:s}),ae}return bt(t.data)}get options(){return this._def.values}get enum(){const t={};for(const r of this._def.values)t[r]=r;return t}get Values(){const t={};for(const r of this._def.values)t[r]=r;return t}get Enum(){const t={};for(const r of this._def.values)t[r]=r;return t}extract(t,r=this._def){return Rr.create(t,{...this._def,...r})}exclude(t,r=this._def){return Rr.create(this.options.filter(s=>!t.includes(s)),{...this._def,...r})}}Rr.create=kl;class di extends ue{_parse(t){const r=fe.getValidEnumValues(this._def.values),s=this._getOrReturnCtx(t);if(s.parsedType!==H.string&&s.parsedType!==H.number){const n=fe.objectValues(r);return $(s,{expected:fe.joinValues(n),received:s.parsedType,code:O.invalid_type}),ae}if(this._cache||(this._cache=new Set(fe.getValidEnumValues(this._def.values))),!this._cache.has(t.data)){const n=fe.objectValues(r);return $(s,{received:s.data,code:O.invalid_enum_value,options:n}),ae}return bt(t.data)}get enum(){return this._def.values}}di.create=(e,t)=>new di({values:e,typeName:ne.ZodNativeEnum,...ie(t)});class Ws extends ue{unwrap(){return this._def.type}_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==H.promise&&r.common.async===!1)return $(r,{code:O.invalid_type,expected:H.promise,received:r.parsedType}),ae;const s=r.parsedType===H.promise?r.data:Promise.resolve(r.data);return bt(s.then(n=>this._def.type.parseAsync(n,{path:r.path,errorMap:r.common.contextualErrorMap})))}}Ws.create=(e,t)=>new Ws({type:e,typeName:ne.ZodPromise,...ie(t)});class Ar extends ue{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===ne.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:r,ctx:s}=this._processInputParams(t),n=this._def.effect||null,i={addIssue:o=>{$(s,o),o.fatal?r.abort():r.dirty()},get path(){return s.path}};if(i.addIssue=i.addIssue.bind(i),n.type==="preprocess"){const o=n.transform(s.data,i);if(s.common.async)return Promise.resolve(o).then(async l=>{if(r.value==="aborted")return ae;const c=await this._def.schema._parseAsync({data:l,path:s.path,parent:s});return c.status==="aborted"?ae:c.status==="dirty"||r.value==="dirty"?Gr(c.value):c});{if(r.value==="aborted")return ae;const l=this._def.schema._parseSync({data:o,path:s.path,parent:s});return l.status==="aborted"?ae:l.status==="dirty"||r.value==="dirty"?Gr(l.value):l}}if(n.type==="refinement"){const o=l=>{const c=n.refinement(l,i);if(s.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return l};if(s.common.async===!1){const l=this._def.schema._parseSync({data:s.data,path:s.path,parent:s});return l.status==="aborted"?ae:(l.status==="dirty"&&r.dirty(),o(l.value),{status:r.value,value:l.value})}else return this._def.schema._parseAsync({data:s.data,path:s.path,parent:s}).then(l=>l.status==="aborted"?ae:(l.status==="dirty"&&r.dirty(),o(l.value).then(()=>({status:r.value,value:l.value}))))}if(n.type==="transform")if(s.common.async===!1){const o=this._def.schema._parseSync({data:s.data,path:s.path,parent:s});if(!Mr(o))return ae;const l=n.transform(o.value,i);if(l instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:l}}else return this._def.schema._parseAsync({data:s.data,path:s.path,parent:s}).then(o=>Mr(o)?Promise.resolve(n.transform(o.value,i)).then(l=>({status:r.value,value:l})):ae);fe.assertNever(n)}}Ar.create=(e,t,r)=>new Ar({schema:e,typeName:ne.ZodEffects,effect:t,...ie(r)});Ar.createWithPreprocess=(e,t,r)=>new Ar({schema:t,effect:{type:"preprocess",transform:e},typeName:ne.ZodEffects,...ie(r)});class ir extends ue{_parse(t){return this._getType(t)===H.undefined?bt(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}ir.create=(e,t)=>new ir({innerType:e,typeName:ne.ZodOptional,...ie(t)});class Fr extends ue{_parse(t){return this._getType(t)===H.null?bt(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}Fr.create=(e,t)=>new Fr({innerType:e,typeName:ne.ZodNullable,...ie(t)});class Ra extends ue{_parse(t){const{ctx:r}=this._processInputParams(t);let s=r.data;return r.parsedType===H.undefined&&(s=this._def.defaultValue()),this._def.innerType._parse({data:s,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}Ra.create=(e,t)=>new Ra({innerType:e,typeName:ne.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...ie(t)});class Aa extends ue{_parse(t){const{ctx:r}=this._processInputParams(t),s={...r,common:{...r.common,issues:[]}},n=this._def.innerType._parse({data:s.data,path:s.path,parent:{...s}});return Ls(n)?n.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new Zt(s.common.issues)},input:s.data})})):{status:"valid",value:n.status==="valid"?n.value:this._def.catchValue({get error(){return new Zt(s.common.issues)},input:s.data})}}removeCatch(){return this._def.innerType}}Aa.create=(e,t)=>new Aa({innerType:e,typeName:ne.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...ie(t)});class ui extends ue{_parse(t){if(this._getType(t)!==H.nan){const s=this._getOrReturnCtx(t);return $(s,{code:O.invalid_type,expected:H.nan,received:s.parsedType}),ae}return{status:"valid",value:t.data}}}ui.create=e=>new ui({typeName:ne.ZodNaN,...ie(e)});class mh extends ue{_parse(t){const{ctx:r}=this._processInputParams(t),s=r.data;return this._def.type._parse({data:s,path:r.path,parent:r})}unwrap(){return this._def.type}}class on extends ue{_parse(t){const{status:r,ctx:s}=this._processInputParams(t);if(s.common.async)return(async()=>{const i=await this._def.in._parseAsync({data:s.data,path:s.path,parent:s});return i.status==="aborted"?ae:i.status==="dirty"?(r.dirty(),Gr(i.value)):this._def.out._parseAsync({data:i.value,path:s.path,parent:s})})();{const n=this._def.in._parseSync({data:s.data,path:s.path,parent:s});return n.status==="aborted"?ae:n.status==="dirty"?(r.dirty(),{status:"dirty",value:n.value}):this._def.out._parseSync({data:n.value,path:s.path,parent:s})}}static create(t,r){return new on({in:t,out:r,typeName:ne.ZodPipeline})}}class Fa extends ue{_parse(t){const r=this._def.innerType._parse(t),s=n=>(Mr(n)&&(n.value=Object.freeze(n.value)),n);return Ls(r)?r.then(n=>s(n)):s(r)}unwrap(){return this._def.innerType}}Fa.create=(e,t)=>new Fa({innerType:e,typeName:ne.ZodReadonly,...ie(t)});var ne;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(ne||(ne={}));const Tt=ar.create,fi=Or.create,ph=Ma.create,gh=ss.create;lr.create;Lt.create;const vh=Ie.create;Vs.create;Us.create;jr.create;Rr.create;Ws.create;ir.create;Fr.create;const xh=wf,Dl=f.createContext({}),at=({...e})=>a.jsx(Dl.Provider,{value:{name:e.name},children:a.jsx(Nf,{...e})}),ea=()=>{const e=f.useContext(Dl),t=f.useContext(El),{getFieldState:r,formState:s}=Js(),n=r(e.name,s);if(!e)throw new Error("useFormField should be used within <FormField>");const{id:i}=t;return{id:i,name:e.name,formItemId:`${i}-form-item`,formDescriptionId:`${i}-form-item-description`,formMessageId:`${i}-form-item-message`,...n}},El=f.createContext({}),Xe=f.forwardRef(({className:e,...t},r)=>{const s=f.useId();return a.jsx(El.Provider,{value:{id:s},children:a.jsx("div",{ref:r,className:ye("space-y-2",e),...t})})});Xe.displayName="FormItem";const Ge=f.forwardRef(({className:e,...t},r)=>{const{error:s,formItemId:n}=ea();return a.jsx(Ne,{ref:r,className:ye(s&&"text-destructive",e),htmlFor:n,...t})});Ge.displayName="FormLabel";const Ke=f.forwardRef(({...e},t)=>{const{error:r,formItemId:s,formDescriptionId:n,formMessageId:i}=ea();return a.jsx(xc,{ref:t,id:s,"aria-describedby":r?`${n} ${i}`:`${n}`,"aria-invalid":!!r,...e})});Ke.displayName="FormControl";const ut=f.forwardRef(({className:e,...t},r)=>{const{formDescriptionId:s}=ea();return a.jsx("p",{ref:r,id:s,className:ye("text-sm text-muted-foreground",e),...t})});ut.displayName="FormDescription";const nt=f.forwardRef(({className:e,children:t,...r},s)=>{const{error:n,formMessageId:i}=ea(),o=n?String(n==null?void 0:n.message):t;return o?a.jsx("p",{ref:s,id:i,className:ye("text-sm font-medium text-destructive",e),...r,children:o}):null});nt.displayName="FormMessage";var ta="Switch",[yh,$p]=zs(ta),[wh,bh]=yh(ta),Tl=f.forwardRef((e,t)=>{const{__scopeSwitch:r,name:s,checked:n,defaultChecked:i,required:o,disabled:l,value:c="on",onCheckedChange:d,form:u,...p}=e,[m,b]=f.useState(null),N=Ve(t,w=>b(w)),x=f.useRef(!1),g=m?u||!!m.closest("form"):!0,[y,h]=ks({prop:n,defaultProp:i??!1,onChange:d,caller:ta});return a.jsxs(wh,{scope:r,checked:y,disabled:l,children:[a.jsx(Oe.button,{type:"button",role:"switch","aria-checked":y,"aria-required":o,"data-state":Rl(y),"data-disabled":l?"":void 0,disabled:l,value:c,...p,ref:N,onClick:xe(e.onClick,w=>{h(j=>!j),g&&(x.current=w.isPropagationStopped(),x.current||w.stopPropagation())})}),g&&a.jsx(Ol,{control:m,bubbles:!x.current,name:s,value:c,checked:y,required:o,disabled:l,form:u,style:{transform:"translateX(-100%)"}})]})});Tl.displayName=ta;var Pl="SwitchThumb",Ml=f.forwardRef((e,t)=>{const{__scopeSwitch:r,...s}=e,n=bh(Pl,r);return a.jsx(Oe.span,{"data-state":Rl(n.checked),"data-disabled":n.disabled?"":void 0,...s,ref:t})});Ml.displayName=Pl;var _h="SwitchBubbleInput",Ol=f.forwardRef(({__scopeSwitch:e,control:t,checked:r,bubbles:s=!0,...n},i)=>{const o=f.useRef(null),l=Ve(o,i),c=Ki(r),d=yc(t);return f.useEffect(()=>{const u=o.current;if(!u)return;const p=window.HTMLInputElement.prototype,b=Object.getOwnPropertyDescriptor(p,"checked").set;if(c!==r&&b){const N=new Event("click",{bubbles:s});b.call(u,r),u.dispatchEvent(N)}},[c,r,s]),a.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...n,tabIndex:-1,ref:l,style:{...n.style,...d,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});Ol.displayName=_h;function Rl(e){return e?"checked":"unchecked"}var Al=Tl,jh=Ml;const $s=f.forwardRef(({className:e,...t},r)=>a.jsx(Al,{className:ye("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...t,ref:r,children:a.jsx(jh,{className:ye("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));$s.displayName=Al.displayName;var re=function(){return re=Object.assign||function(t){for(var r,s=1,n=arguments.length;s<n;s++){r=arguments[s];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},re.apply(this,arguments)};function Nh(e,t){var r={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(r[s]=e[s]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,s=Object.getOwnPropertySymbols(e);n<s.length;n++)t.indexOf(s[n])<0&&Object.prototype.propertyIsEnumerable.call(e,s[n])&&(r[s[n]]=e[s[n]]);return r}function Fl(e,t,r){for(var s=0,n=t.length,i;s<n;s++)(i||!(s in t))&&(i||(i=Array.prototype.slice.call(t,0,s)),i[s]=t[s]);return e.concat(i||Array.prototype.slice.call(t))}function hs(e){return e.mode==="multiple"}function ms(e){return e.mode==="range"}function ra(e){return e.mode==="single"}var Sh={root:"rdp",multiple_months:"rdp-multiple_months",with_weeknumber:"rdp-with_weeknumber",vhidden:"rdp-vhidden",button_reset:"rdp-button_reset",button:"rdp-button",caption:"rdp-caption",caption_start:"rdp-caption_start",caption_end:"rdp-caption_end",caption_between:"rdp-caption_between",caption_label:"rdp-caption_label",caption_dropdowns:"rdp-caption_dropdowns",dropdown:"rdp-dropdown",dropdown_month:"rdp-dropdown_month",dropdown_year:"rdp-dropdown_year",dropdown_icon:"rdp-dropdown_icon",months:"rdp-months",month:"rdp-month",table:"rdp-table",tbody:"rdp-tbody",tfoot:"rdp-tfoot",head:"rdp-head",head_row:"rdp-head_row",head_cell:"rdp-head_cell",nav:"rdp-nav",nav_button:"rdp-nav_button",nav_button_previous:"rdp-nav_button_previous",nav_button_next:"rdp-nav_button_next",nav_icon:"rdp-nav_icon",row:"rdp-row",weeknumber:"rdp-weeknumber",cell:"rdp-cell",day:"rdp-day",day_today:"rdp-day_today",day_outside:"rdp-day_outside",day_selected:"rdp-day_selected",day_disabled:"rdp-day_disabled",day_hidden:"rdp-day_hidden",day_range_start:"rdp-day_range_start",day_range_end:"rdp-day_range_end",day_range_middle:"rdp-day_range_middle"};function Ch(e,t){return Xt(e,"LLLL y",t)}function kh(e,t){return Xt(e,"d",t)}function Dh(e,t){return Xt(e,"LLLL",t)}function Eh(e){return"".concat(e)}function Th(e,t){return Xt(e,"cccccc",t)}function Ph(e,t){return Xt(e,"yyyy",t)}var Mh=Object.freeze({__proto__:null,formatCaption:Ch,formatDay:kh,formatMonthCaption:Dh,formatWeekNumber:Eh,formatWeekdayName:Th,formatYearCaption:Ph}),Oh=function(e,t,r){return Xt(e,"do MMMM (EEEE)",r)},Rh=function(){return"Month: "},Ah=function(){return"Go to next month"},Fh=function(){return"Go to previous month"},Ih=function(e,t){return Xt(e,"cccc",t)},Lh=function(e){return"Week n. ".concat(e)},Vh=function(){return"Year: "},Uh=Object.freeze({__proto__:null,labelDay:Oh,labelMonthDropdown:Rh,labelNext:Ah,labelPrevious:Fh,labelWeekNumber:Lh,labelWeekday:Ih,labelYearDropdown:Vh});function Wh(){var e="buttons",t=Sh,r=Uo,s={},n={},i=1,o={},l=new Date;return{captionLayout:e,classNames:t,formatters:Mh,labels:Uh,locale:r,modifiersClassNames:s,modifiers:n,numberOfMonths:i,styles:o,today:l,mode:"default"}}function $h(e){var t=e.fromYear,r=e.toYear,s=e.fromMonth,n=e.toMonth,i=e.fromDate,o=e.toDate;return s?i=lt(s):t&&(i=new Date(t,0,1)),n?o=Ka(n):r&&(o=new Date(r,11,31)),{fromDate:i?Pr(i):void 0,toDate:o?Pr(o):void 0}}var Il=f.createContext(void 0);function Bh(e){var t,r=e.initialProps,s=Wh(),n=$h(r),i=n.fromDate,o=n.toDate,l=(t=r.captionLayout)!==null&&t!==void 0?t:s.captionLayout;l!=="buttons"&&(!i||!o)&&(l="buttons");var c;(ra(r)||hs(r)||ms(r))&&(c=r.onSelect);var d=re(re(re({},s),r),{captionLayout:l,classNames:re(re({},s.classNames),r.classNames),components:re({},r.components),formatters:re(re({},s.formatters),r.formatters),fromDate:i,labels:re(re({},s.labels),r.labels),mode:r.mode||s.mode,modifiers:re(re({},s.modifiers),r.modifiers),modifiersClassNames:re(re({},s.modifiersClassNames),r.modifiersClassNames),onSelect:c,styles:re(re({},s.styles),r.styles),toDate:o});return a.jsx(Il.Provider,{value:d,children:e.children})}function Se(){var e=f.useContext(Il);if(!e)throw new Error("useDayPicker must be used within a DayPickerProvider.");return e}function Ll(e){var t=Se(),r=t.locale,s=t.classNames,n=t.styles,i=t.formatters.formatCaption;return a.jsx("div",{className:s.caption_label,style:n.caption_label,"aria-live":"polite",role:"presentation",id:e.id,children:i(e.displayMonth,{locale:r})})}function zh(e){return a.jsx("svg",re({width:"8px",height:"8px",viewBox:"0 0 120 120","data-testid":"iconDropdown"},e,{children:a.jsx("path",{d:"M4.22182541,48.2218254 C8.44222828,44.0014225 15.2388494,43.9273804 19.5496459,47.9996989 L19.7781746,48.2218254 L60,88.443 L100.221825,48.2218254 C104.442228,44.0014225 111.238849,43.9273804 115.549646,47.9996989 L115.778175,48.2218254 C119.998577,52.4422283 120.07262,59.2388494 116.000301,63.5496459 L115.778175,63.7781746 L67.7781746,111.778175 C63.5577717,115.998577 56.7611506,116.07262 52.4503541,112.000301 L52.2218254,111.778175 L4.22182541,63.7781746 C-0.0739418023,59.4824074 -0.0739418023,52.5175926 4.22182541,48.2218254 Z",fill:"currentColor",fillRule:"nonzero"})}))}function Vl(e){var t,r,s=e.onChange,n=e.value,i=e.children,o=e.caption,l=e.className,c=e.style,d=Se(),u=(r=(t=d.components)===null||t===void 0?void 0:t.IconDropdown)!==null&&r!==void 0?r:zh;return a.jsxs("div",{className:l,style:c,children:[a.jsx("span",{className:d.classNames.vhidden,children:e["aria-label"]}),a.jsx("select",{name:e.name,"aria-label":e["aria-label"],className:d.classNames.dropdown,style:d.styles.dropdown,value:n,onChange:s,children:i}),a.jsxs("div",{className:d.classNames.caption_label,style:d.styles.caption_label,"aria-hidden":"true",children:[o,a.jsx(u,{className:d.classNames.dropdown_icon,style:d.styles.dropdown_icon})]})]})}function Hh(e){var t,r=Se(),s=r.fromDate,n=r.toDate,i=r.styles,o=r.locale,l=r.formatters.formatMonthCaption,c=r.classNames,d=r.components,u=r.labels.labelMonthDropdown;if(!s)return a.jsx(a.Fragment,{});if(!n)return a.jsx(a.Fragment,{});var p=[];if(Lu(s,n))for(var m=lt(s),b=s.getMonth();b<=n.getMonth();b++)p.push(la(m,b));else for(var m=lt(new Date),b=0;b<=11;b++)p.push(la(m,b));var N=function(g){var y=Number(g.target.value),h=la(lt(e.displayMonth),y);e.onChange(h)},x=(t=d==null?void 0:d.Dropdown)!==null&&t!==void 0?t:Vl;return a.jsx(x,{name:"months","aria-label":u(),className:c.dropdown_month,style:i.dropdown_month,onChange:N,value:e.displayMonth.getMonth(),caption:l(e.displayMonth,{locale:o}),children:p.map(function(g){return a.jsx("option",{value:g.getMonth(),children:l(g,{locale:o})},g.getMonth())})})}function Yh(e){var t,r=e.displayMonth,s=Se(),n=s.fromDate,i=s.toDate,o=s.locale,l=s.styles,c=s.classNames,d=s.components,u=s.formatters.formatYearCaption,p=s.labels.labelYearDropdown,m=[];if(!n)return a.jsx(a.Fragment,{});if(!i)return a.jsx(a.Fragment,{});for(var b=n.getFullYear(),N=i.getFullYear(),x=b;x<=N;x++)m.push(Rn(Lo(new Date),x));var g=function(h){var w=Rn(lt(r),Number(h.target.value));e.onChange(w)},y=(t=d==null?void 0:d.Dropdown)!==null&&t!==void 0?t:Vl;return a.jsx(y,{name:"years","aria-label":p(),className:c.dropdown_year,style:l.dropdown_year,onChange:g,value:r.getFullYear(),caption:u(r,{locale:o}),children:m.map(function(h){return a.jsx("option",{value:h.getFullYear(),children:u(h,{locale:o})},h.getFullYear())})})}function Zh(e,t){var r=f.useState(e),s=r[0],n=r[1],i=t===void 0?s:t;return[i,n]}function qh(e){var t=e.month,r=e.defaultMonth,s=e.today,n=t||r||s||new Date,i=e.toDate,o=e.fromDate,l=e.numberOfMonths,c=l===void 0?1:l;if(i&&es(i,n)<0){var d=-1*(c-1);n=kt(i,d)}return o&&es(n,o)<0&&(n=o),lt(n)}function Xh(){var e=Se(),t=qh(e),r=Zh(t,e.month),s=r[0],n=r[1],i=function(o){var l;if(!e.disableNavigation){var c=lt(o);n(c),(l=e.onMonthChange)===null||l===void 0||l.call(e,c)}};return[s,i]}function Gh(e,t){for(var r=t.reverseMonths,s=t.numberOfMonths,n=lt(e),i=lt(kt(n,s)),o=es(i,n),l=[],c=0;c<o;c++){var d=kt(n,c);l.push(d)}return r&&(l=l.reverse()),l}function Kh(e,t){if(!t.disableNavigation){var r=t.toDate,s=t.pagedNavigation,n=t.numberOfMonths,i=n===void 0?1:n,o=s?i:1,l=lt(e);if(!r)return kt(l,o);var c=es(r,e);if(!(c<i))return kt(l,o)}}function Qh(e,t){if(!t.disableNavigation){var r=t.fromDate,s=t.pagedNavigation,n=t.numberOfMonths,i=n===void 0?1:n,o=s?i:1,l=lt(e);if(!r)return kt(l,-o);var c=es(l,r);if(!(c<=0))return kt(l,-o)}}var Ul=f.createContext(void 0);function Jh(e){var t=Se(),r=Xh(),s=r[0],n=r[1],i=Gh(s,t),o=Kh(s,t),l=Qh(s,t),c=function(p){return i.some(function(m){return Ja(p,m)})},d=function(p,m){c(p)||(m&&Ho(p,m)?n(kt(p,1+t.numberOfMonths*-1)):n(p))},u={currentMonth:s,displayMonths:i,goToMonth:n,goToDate:d,previousMonth:l,nextMonth:o,isDateDisplayed:c};return a.jsx(Ul.Provider,{value:u,children:e.children})}function ps(){var e=f.useContext(Ul);if(!e)throw new Error("useNavigation must be used within a NavigationProvider");return e}function hi(e){var t,r=Se(),s=r.classNames,n=r.styles,i=r.components,o=ps().goToMonth,l=function(u){o(kt(u,e.displayIndex?-e.displayIndex:0))},c=(t=i==null?void 0:i.CaptionLabel)!==null&&t!==void 0?t:Ll,d=a.jsx(c,{id:e.id,displayMonth:e.displayMonth});return a.jsxs("div",{className:s.caption_dropdowns,style:n.caption_dropdowns,children:[a.jsx("div",{className:s.vhidden,children:d}),a.jsx(Hh,{onChange:l,displayMonth:e.displayMonth}),a.jsx(Yh,{onChange:l,displayMonth:e.displayMonth})]})}function em(e){return a.jsx("svg",re({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:a.jsx("path",{d:"M69.490332,3.34314575 C72.6145263,0.218951416 77.6798462,0.218951416 80.8040405,3.34314575 C83.8617626,6.40086786 83.9268205,11.3179931 80.9992143,14.4548388 L80.8040405,14.6568542 L35.461,60 L80.8040405,105.343146 C83.8617626,108.400868 83.9268205,113.317993 80.9992143,116.454839 L80.8040405,116.656854 C77.7463184,119.714576 72.8291931,119.779634 69.6923475,116.852028 L69.490332,116.656854 L18.490332,65.6568542 C15.4326099,62.5991321 15.367552,57.6820069 18.2951583,54.5451612 L18.490332,54.3431458 L69.490332,3.34314575 Z",fill:"currentColor",fillRule:"nonzero"})}))}function tm(e){return a.jsx("svg",re({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:a.jsx("path",{d:"M49.8040405,3.34314575 C46.6798462,0.218951416 41.6145263,0.218951416 38.490332,3.34314575 C35.4326099,6.40086786 35.367552,11.3179931 38.2951583,14.4548388 L38.490332,14.6568542 L83.8333725,60 L38.490332,105.343146 C35.4326099,108.400868 35.367552,113.317993 38.2951583,116.454839 L38.490332,116.656854 C41.5480541,119.714576 46.4651794,119.779634 49.602025,116.852028 L49.8040405,116.656854 L100.804041,65.6568542 C103.861763,62.5991321 103.926821,57.6820069 100.999214,54.5451612 L100.804041,54.3431458 L49.8040405,3.34314575 Z",fill:"currentColor"})}))}var Bs=f.forwardRef(function(e,t){var r=Se(),s=r.classNames,n=r.styles,i=[s.button_reset,s.button];e.className&&i.push(e.className);var o=i.join(" "),l=re(re({},n.button_reset),n.button);return e.style&&Object.assign(l,e.style),a.jsx("button",re({},e,{ref:t,type:"button",className:o,style:l}))});function rm(e){var t,r,s=Se(),n=s.dir,i=s.locale,o=s.classNames,l=s.styles,c=s.labels,d=c.labelPrevious,u=c.labelNext,p=s.components;if(!e.nextMonth&&!e.previousMonth)return a.jsx(a.Fragment,{});var m=d(e.previousMonth,{locale:i}),b=[o.nav_button,o.nav_button_previous].join(" "),N=u(e.nextMonth,{locale:i}),x=[o.nav_button,o.nav_button_next].join(" "),g=(t=p==null?void 0:p.IconRight)!==null&&t!==void 0?t:tm,y=(r=p==null?void 0:p.IconLeft)!==null&&r!==void 0?r:em;return a.jsxs("div",{className:o.nav,style:l.nav,children:[!e.hidePrevious&&a.jsx(Bs,{name:"previous-month","aria-label":m,className:b,style:l.nav_button_previous,disabled:!e.previousMonth,onClick:e.onPreviousClick,children:n==="rtl"?a.jsx(g,{className:o.nav_icon,style:l.nav_icon}):a.jsx(y,{className:o.nav_icon,style:l.nav_icon})}),!e.hideNext&&a.jsx(Bs,{name:"next-month","aria-label":N,className:x,style:l.nav_button_next,disabled:!e.nextMonth,onClick:e.onNextClick,children:n==="rtl"?a.jsx(y,{className:o.nav_icon,style:l.nav_icon}):a.jsx(g,{className:o.nav_icon,style:l.nav_icon})})]})}function mi(e){var t=Se().numberOfMonths,r=ps(),s=r.previousMonth,n=r.nextMonth,i=r.goToMonth,o=r.displayMonths,l=o.findIndex(function(N){return Ja(e.displayMonth,N)}),c=l===0,d=l===o.length-1,u=t>1&&(c||!d),p=t>1&&(d||!c),m=function(){s&&i(s)},b=function(){n&&i(n)};return a.jsx(rm,{displayMonth:e.displayMonth,hideNext:u,hidePrevious:p,nextMonth:n,previousMonth:s,onPreviousClick:m,onNextClick:b})}function sm(e){var t,r=Se(),s=r.classNames,n=r.disableNavigation,i=r.styles,o=r.captionLayout,l=r.components,c=(t=l==null?void 0:l.CaptionLabel)!==null&&t!==void 0?t:Ll,d;return n?d=a.jsx(c,{id:e.id,displayMonth:e.displayMonth}):o==="dropdown"?d=a.jsx(hi,{displayMonth:e.displayMonth,id:e.id}):o==="dropdown-buttons"?d=a.jsxs(a.Fragment,{children:[a.jsx(hi,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id}),a.jsx(mi,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id})]}):d=a.jsxs(a.Fragment,{children:[a.jsx(c,{id:e.id,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),a.jsx(mi,{displayMonth:e.displayMonth,id:e.id})]}),a.jsx("div",{className:s.caption,style:i.caption,children:d})}function am(e){var t=Se(),r=t.footer,s=t.styles,n=t.classNames.tfoot;return r?a.jsx("tfoot",{className:n,style:s.tfoot,children:a.jsx("tr",{children:a.jsx("td",{colSpan:8,children:r})})}):a.jsx(a.Fragment,{})}function nm(e,t,r){for(var s=r?_r(new Date):Vt(new Date,{locale:e,weekStartsOn:t}),n=[],i=0;i<7;i++){var o=Qe(s,i);n.push(o)}return n}function im(){var e=Se(),t=e.classNames,r=e.styles,s=e.showWeekNumber,n=e.locale,i=e.weekStartsOn,o=e.ISOWeek,l=e.formatters.formatWeekdayName,c=e.labels.labelWeekday,d=nm(n,i,o);return a.jsxs("tr",{style:r.head_row,className:t.head_row,children:[s&&a.jsx("td",{style:r.head_cell,className:t.head_cell}),d.map(function(u,p){return a.jsx("th",{scope:"col",className:t.head_cell,style:r.head_cell,"aria-label":c(u,{locale:n}),children:l(u,{locale:n})},p)})]})}function om(){var e,t=Se(),r=t.classNames,s=t.styles,n=t.components,i=(e=n==null?void 0:n.HeadRow)!==null&&e!==void 0?e:im;return a.jsx("thead",{style:s.head,className:r.head,children:a.jsx(i,{})})}function lm(e){var t=Se(),r=t.locale,s=t.formatters.formatDay;return a.jsx(a.Fragment,{children:s(e.date,{locale:r})})}var ln=f.createContext(void 0);function cm(e){if(!hs(e.initialProps)){var t={selected:void 0,modifiers:{disabled:[]}};return a.jsx(ln.Provider,{value:t,children:e.children})}return a.jsx(dm,{initialProps:e.initialProps,children:e.children})}function dm(e){var t=e.initialProps,r=e.children,s=t.selected,n=t.min,i=t.max,o=function(d,u,p){var m,b;(m=t.onDayClick)===null||m===void 0||m.call(t,d,u,p);var N=!!(u.selected&&n&&(s==null?void 0:s.length)===n);if(!N){var x=!!(!u.selected&&i&&(s==null?void 0:s.length)===i);if(!x){var g=s?Fl([],s):[];if(u.selected){var y=g.findIndex(function(h){return ot(d,h)});g.splice(y,1)}else g.push(d);(b=t.onSelect)===null||b===void 0||b.call(t,g,d,u,p)}}},l={disabled:[]};s&&l.disabled.push(function(d){var u=i&&s.length>i-1,p=s.some(function(m){return ot(m,d)});return!!(u&&!p)});var c={selected:s,onDayClick:o,modifiers:l};return a.jsx(ln.Provider,{value:c,children:r})}function cn(){var e=f.useContext(ln);if(!e)throw new Error("useSelectMultiple must be used within a SelectMultipleProvider");return e}function um(e,t){var r=t||{},s=r.from,n=r.to;return s&&n?ot(n,e)&&ot(s,e)?void 0:ot(n,e)?{from:n,to:void 0}:ot(s,e)?void 0:ka(s,e)?{from:e,to:n}:{from:s,to:e}:n?ka(e,n)?{from:n,to:e}:{from:e,to:n}:s?Ho(e,s)?{from:e,to:s}:{from:s,to:e}:{from:e,to:void 0}}var dn=f.createContext(void 0);function fm(e){if(!ms(e.initialProps)){var t={selected:void 0,modifiers:{range_start:[],range_end:[],range_middle:[],disabled:[]}};return a.jsx(dn.Provider,{value:t,children:e.children})}return a.jsx(hm,{initialProps:e.initialProps,children:e.children})}function hm(e){var t=e.initialProps,r=e.children,s=t.selected,n=s||{},i=n.from,o=n.to,l=t.min,c=t.max,d=function(b,N,x){var g,y;(g=t.onDayClick)===null||g===void 0||g.call(t,b,N,x);var h=um(b,s);(y=t.onSelect)===null||y===void 0||y.call(t,h,b,N,x)},u={range_start:[],range_end:[],range_middle:[],disabled:[]};if(i?(u.range_start=[i],o?(u.range_end=[o],ot(i,o)||(u.range_middle=[{after:i,before:o}])):u.range_end=[i]):o&&(u.range_start=[o],u.range_end=[o]),l&&(i&&!o&&u.disabled.push({after:oa(i,l-1),before:Qe(i,l-1)}),i&&o&&u.disabled.push({after:i,before:Qe(i,l-1)}),!i&&o&&u.disabled.push({after:oa(o,l-1),before:Qe(o,l-1)})),c){if(i&&!o&&(u.disabled.push({before:Qe(i,-c+1)}),u.disabled.push({after:Qe(i,c-1)})),i&&o){var p=Mt(o,i)+1,m=c-p;u.disabled.push({before:oa(i,m)}),u.disabled.push({after:Qe(o,m)})}!i&&o&&(u.disabled.push({before:Qe(o,-c+1)}),u.disabled.push({after:Qe(o,c-1)}))}return a.jsx(dn.Provider,{value:{selected:s,onDayClick:d,modifiers:u},children:r})}function un(){var e=f.useContext(dn);if(!e)throw new Error("useSelectRange must be used within a SelectRangeProvider");return e}function Cs(e){return Array.isArray(e)?Fl([],e):e!==void 0?[e]:[]}function mm(e){var t={};return Object.entries(e).forEach(function(r){var s=r[0],n=r[1];t[s]=Cs(n)}),t}var Dt;(function(e){e.Outside="outside",e.Disabled="disabled",e.Selected="selected",e.Hidden="hidden",e.Today="today",e.RangeStart="range_start",e.RangeEnd="range_end",e.RangeMiddle="range_middle"})(Dt||(Dt={}));var pm=Dt.Selected,zt=Dt.Disabled,gm=Dt.Hidden,vm=Dt.Today,pa=Dt.RangeEnd,ga=Dt.RangeMiddle,va=Dt.RangeStart,xm=Dt.Outside;function ym(e,t,r){var s,n=(s={},s[pm]=Cs(e.selected),s[zt]=Cs(e.disabled),s[gm]=Cs(e.hidden),s[vm]=[e.today],s[pa]=[],s[ga]=[],s[va]=[],s[xm]=[],s);return e.fromDate&&n[zt].push({before:e.fromDate}),e.toDate&&n[zt].push({after:e.toDate}),hs(e)?n[zt]=n[zt].concat(t.modifiers[zt]):ms(e)&&(n[zt]=n[zt].concat(r.modifiers[zt]),n[va]=r.modifiers[va],n[ga]=r.modifiers[ga],n[pa]=r.modifiers[pa]),n}var Wl=f.createContext(void 0);function wm(e){var t=Se(),r=cn(),s=un(),n=ym(t,r,s),i=mm(t.modifiers),o=re(re({},n),i);return a.jsx(Wl.Provider,{value:o,children:e.children})}function $l(){var e=f.useContext(Wl);if(!e)throw new Error("useModifiers must be used within a ModifiersProvider");return e}function bm(e){return!!(e&&typeof e=="object"&&"before"in e&&"after"in e)}function _m(e){return!!(e&&typeof e=="object"&&"from"in e)}function jm(e){return!!(e&&typeof e=="object"&&"after"in e)}function Nm(e){return!!(e&&typeof e=="object"&&"before"in e)}function Sm(e){return!!(e&&typeof e=="object"&&"dayOfWeek"in e)}function Cm(e,t){var r,s=t.from,n=t.to;if(s&&n){var i=Mt(n,s)<0;i&&(r=[n,s],s=r[0],n=r[1]);var o=Mt(e,s)>=0&&Mt(n,e)>=0;return o}return n?ot(n,e):s?ot(s,e):!1}function km(e){return Ga(e)}function Dm(e){return Array.isArray(e)&&e.every(Ga)}function Em(e,t){return t.some(function(r){if(typeof r=="boolean")return r;if(km(r))return ot(e,r);if(Dm(r))return r.includes(e);if(_m(r))return Cm(e,r);if(Sm(r))return r.dayOfWeek.includes(e.getDay());if(bm(r)){var s=Mt(r.before,e),n=Mt(r.after,e),i=s>0,o=n<0,l=ka(r.before,r.after);return l?o&&i:i||o}return jm(r)?Mt(e,r.after)>0:Nm(r)?Mt(r.before,e)>0:typeof r=="function"?r(e):!1})}function fn(e,t,r){var s=Object.keys(t).reduce(function(i,o){var l=t[o];return Em(e,l)&&i.push(o),i},[]),n={};return s.forEach(function(i){return n[i]=!0}),r&&!Ja(e,r)&&(n.outside=!0),n}function Tm(e,t){for(var r=lt(e[0]),s=Ka(e[e.length-1]),n,i,o=r;o<=s;){var l=fn(o,t),c=!l.disabled&&!l.hidden;if(!c){o=Qe(o,1);continue}if(l.selected)return o;l.today&&!i&&(i=o),n||(n=o),o=Qe(o,1)}return i||n}var Pm=365;function Bl(e,t){var r=t.moveBy,s=t.direction,n=t.context,i=t.modifiers,o=t.retry,l=o===void 0?{count:0,lastFocused:e}:o,c=n.weekStartsOn,d=n.fromDate,u=n.toDate,p=n.locale,m={day:Qe,week:Ca,month:kt,year:Rd,startOfWeek:function(g){return n.ISOWeek?_r(g):Vt(g,{locale:p,weekStartsOn:c})},endOfWeek:function(g){return n.ISOWeek?Vo(g):Qa(g,{locale:p,weekStartsOn:c})}},b=m[r](e,s==="after"?1:-1);s==="before"&&d?b=Ad([d,b]):s==="after"&&u&&(b=Fd([u,b]));var N=!0;if(i){var x=fn(b,i);N=!x.disabled&&!x.hidden}return N?b:l.count>Pm?l.lastFocused:Bl(b,{moveBy:r,direction:s,context:n,modifiers:i,retry:re(re({},l),{count:l.count+1})})}var zl=f.createContext(void 0);function Mm(e){var t=ps(),r=$l(),s=f.useState(),n=s[0],i=s[1],o=f.useState(),l=o[0],c=o[1],d=Tm(t.displayMonths,r),u=n??(l&&t.isDateDisplayed(l))?l:d,p=function(){c(n),i(void 0)},m=function(g){i(g)},b=Se(),N=function(g,y){if(n){var h=Bl(n,{moveBy:g,direction:y,context:b,modifiers:r});ot(n,h)||(t.goToDate(h,n),m(h))}},x={focusedDay:n,focusTarget:u,blur:p,focus:m,focusDayAfter:function(){return N("day","after")},focusDayBefore:function(){return N("day","before")},focusWeekAfter:function(){return N("week","after")},focusWeekBefore:function(){return N("week","before")},focusMonthBefore:function(){return N("month","before")},focusMonthAfter:function(){return N("month","after")},focusYearBefore:function(){return N("year","before")},focusYearAfter:function(){return N("year","after")},focusStartOfWeek:function(){return N("startOfWeek","before")},focusEndOfWeek:function(){return N("endOfWeek","after")}};return a.jsx(zl.Provider,{value:x,children:e.children})}function hn(){var e=f.useContext(zl);if(!e)throw new Error("useFocusContext must be used within a FocusProvider");return e}function Om(e,t){var r=$l(),s=fn(e,r,t);return s}var mn=f.createContext(void 0);function Rm(e){if(!ra(e.initialProps)){var t={selected:void 0};return a.jsx(mn.Provider,{value:t,children:e.children})}return a.jsx(Am,{initialProps:e.initialProps,children:e.children})}function Am(e){var t=e.initialProps,r=e.children,s=function(i,o,l){var c,d,u;if((c=t.onDayClick)===null||c===void 0||c.call(t,i,o,l),o.selected&&!t.required){(d=t.onSelect)===null||d===void 0||d.call(t,void 0,i,o,l);return}(u=t.onSelect)===null||u===void 0||u.call(t,i,i,o,l)},n={selected:t.selected,onDayClick:s};return a.jsx(mn.Provider,{value:n,children:r})}function Hl(){var e=f.useContext(mn);if(!e)throw new Error("useSelectSingle must be used within a SelectSingleProvider");return e}function Fm(e,t){var r=Se(),s=Hl(),n=cn(),i=un(),o=hn(),l=o.focusDayAfter,c=o.focusDayBefore,d=o.focusWeekAfter,u=o.focusWeekBefore,p=o.blur,m=o.focus,b=o.focusMonthBefore,N=o.focusMonthAfter,x=o.focusYearBefore,g=o.focusYearAfter,y=o.focusStartOfWeek,h=o.focusEndOfWeek,w=function(T){var F,ce,Ce,q;ra(r)?(F=s.onDayClick)===null||F===void 0||F.call(s,e,t,T):hs(r)?(ce=n.onDayClick)===null||ce===void 0||ce.call(n,e,t,T):ms(r)?(Ce=i.onDayClick)===null||Ce===void 0||Ce.call(i,e,t,T):(q=r.onDayClick)===null||q===void 0||q.call(r,e,t,T)},j=function(T){var F;m(e),(F=r.onDayFocus)===null||F===void 0||F.call(r,e,t,T)},D=function(T){var F;p(),(F=r.onDayBlur)===null||F===void 0||F.call(r,e,t,T)},A=function(T){var F;(F=r.onDayMouseEnter)===null||F===void 0||F.call(r,e,t,T)},k=function(T){var F;(F=r.onDayMouseLeave)===null||F===void 0||F.call(r,e,t,T)},X=function(T){var F;(F=r.onDayPointerEnter)===null||F===void 0||F.call(r,e,t,T)},I=function(T){var F;(F=r.onDayPointerLeave)===null||F===void 0||F.call(r,e,t,T)},K=function(T){var F;(F=r.onDayTouchCancel)===null||F===void 0||F.call(r,e,t,T)},M=function(T){var F;(F=r.onDayTouchEnd)===null||F===void 0||F.call(r,e,t,T)},E=function(T){var F;(F=r.onDayTouchMove)===null||F===void 0||F.call(r,e,t,T)},_=function(T){var F;(F=r.onDayTouchStart)===null||F===void 0||F.call(r,e,t,T)},V=function(T){var F;(F=r.onDayKeyUp)===null||F===void 0||F.call(r,e,t,T)},B=function(T){var F;switch(T.key){case"ArrowLeft":T.preventDefault(),T.stopPropagation(),r.dir==="rtl"?l():c();break;case"ArrowRight":T.preventDefault(),T.stopPropagation(),r.dir==="rtl"?c():l();break;case"ArrowDown":T.preventDefault(),T.stopPropagation(),d();break;case"ArrowUp":T.preventDefault(),T.stopPropagation(),u();break;case"PageUp":T.preventDefault(),T.stopPropagation(),T.shiftKey?x():b();break;case"PageDown":T.preventDefault(),T.stopPropagation(),T.shiftKey?g():N();break;case"Home":T.preventDefault(),T.stopPropagation(),y();break;case"End":T.preventDefault(),T.stopPropagation(),h();break}(F=r.onDayKeyDown)===null||F===void 0||F.call(r,e,t,T)},z={onClick:w,onFocus:j,onBlur:D,onKeyDown:B,onKeyUp:V,onMouseEnter:A,onMouseLeave:k,onPointerEnter:X,onPointerLeave:I,onTouchCancel:K,onTouchEnd:M,onTouchMove:E,onTouchStart:_};return z}function Im(){var e=Se(),t=Hl(),r=cn(),s=un(),n=ra(e)?t.selected:hs(e)?r.selected:ms(e)?s.selected:void 0;return n}function Lm(e){return Object.values(Dt).includes(e)}function Vm(e,t){var r=[e.classNames.day];return Object.keys(t).forEach(function(s){var n=e.modifiersClassNames[s];if(n)r.push(n);else if(Lm(s)){var i=e.classNames["day_".concat(s)];i&&r.push(i)}}),r}function Um(e,t){var r=re({},e.styles.day);return Object.keys(t).forEach(function(s){var n;r=re(re({},r),(n=e.modifiersStyles)===null||n===void 0?void 0:n[s])}),r}function Wm(e,t,r){var s,n,i,o=Se(),l=hn(),c=Om(e,t),d=Fm(e,c),u=Im(),p=!!(o.onDayClick||o.mode!=="default");f.useEffect(function(){var A;c.outside||l.focusedDay&&p&&ot(l.focusedDay,e)&&((A=r.current)===null||A===void 0||A.focus())},[l.focusedDay,e,r,p,c.outside]);var m=Vm(o,c).join(" "),b=Um(o,c),N=!!(c.outside&&!o.showOutsideDays||c.hidden),x=(i=(n=o.components)===null||n===void 0?void 0:n.DayContent)!==null&&i!==void 0?i:lm,g=a.jsx(x,{date:e,displayMonth:t,activeModifiers:c}),y={style:b,className:m,children:g,role:"gridcell"},h=l.focusTarget&&ot(l.focusTarget,e)&&!c.outside,w=l.focusedDay&&ot(l.focusedDay,e),j=re(re(re({},y),(s={disabled:c.disabled,role:"gridcell"},s["aria-selected"]=c.selected,s.tabIndex=w||h?0:-1,s)),d),D={isButton:p,isHidden:N,activeModifiers:c,selectedDays:u,buttonProps:j,divProps:y};return D}function $m(e){var t=f.useRef(null),r=Wm(e.date,e.displayMonth,t);return r.isHidden?a.jsx("div",{role:"gridcell"}):r.isButton?a.jsx(Bs,re({name:"day",ref:t},r.buttonProps)):a.jsx("div",re({},r.divProps))}function Bm(e){var t=e.number,r=e.dates,s=Se(),n=s.onWeekNumberClick,i=s.styles,o=s.classNames,l=s.locale,c=s.labels.labelWeekNumber,d=s.formatters.formatWeekNumber,u=d(Number(t),{locale:l});if(!n)return a.jsx("span",{className:o.weeknumber,style:i.weeknumber,children:u});var p=c(Number(t),{locale:l}),m=function(b){n(t,r,b)};return a.jsx(Bs,{name:"week-number","aria-label":p,className:o.weeknumber,style:i.weeknumber,onClick:m,children:u})}function zm(e){var t,r,s=Se(),n=s.styles,i=s.classNames,o=s.showWeekNumber,l=s.components,c=(t=l==null?void 0:l.Day)!==null&&t!==void 0?t:$m,d=(r=l==null?void 0:l.WeekNumber)!==null&&r!==void 0?r:Bm,u;return o&&(u=a.jsx("td",{className:i.cell,style:n.cell,children:a.jsx(d,{number:e.weekNumber,dates:e.dates})})),a.jsxs("tr",{className:i.row,style:n.row,children:[u,e.dates.map(function(p){return a.jsx("td",{className:i.cell,style:n.cell,role:"presentation",children:a.jsx(c,{displayMonth:e.displayMonth,date:p})},Au(p))})]})}function pi(e,t,r){for(var s=r!=null&&r.ISOWeek?Vo(t):Qa(t,r),n=r!=null&&r.ISOWeek?_r(e):Vt(e,r),i=Mt(s,n),o=[],l=0;l<=i;l++)o.push(Qe(n,l));var c=o.reduce(function(d,u){var p=r!=null&&r.ISOWeek?Wo(u):Bo(u,r),m=d.find(function(b){return b.weekNumber===p});return m?(m.dates.push(u),d):(d.push({weekNumber:p,dates:[u]}),d)},[]);return c}function Hm(e,t){var r=pi(lt(e),Ka(e),t);if(t!=null&&t.useFixedWeeks){var s=Iu(e,t);if(s<6){var n=r[r.length-1],i=n.dates[n.dates.length-1],o=Ca(i,6-s),l=pi(Ca(i,1),o,t);r.push.apply(r,l)}}return r}function Ym(e){var t,r,s,n=Se(),i=n.locale,o=n.classNames,l=n.styles,c=n.hideHead,d=n.fixedWeeks,u=n.components,p=n.weekStartsOn,m=n.firstWeekContainsDate,b=n.ISOWeek,N=Hm(e.displayMonth,{useFixedWeeks:!!d,ISOWeek:b,locale:i,weekStartsOn:p,firstWeekContainsDate:m}),x=(t=u==null?void 0:u.Head)!==null&&t!==void 0?t:om,g=(r=u==null?void 0:u.Row)!==null&&r!==void 0?r:zm,y=(s=u==null?void 0:u.Footer)!==null&&s!==void 0?s:am;return a.jsxs("table",{id:e.id,className:o.table,style:l.table,role:"grid","aria-labelledby":e["aria-labelledby"],children:[!c&&a.jsx(x,{}),a.jsx("tbody",{className:o.tbody,style:l.tbody,children:N.map(function(h){return a.jsx(g,{displayMonth:e.displayMonth,dates:h.dates,weekNumber:h.weekNumber},h.weekNumber)})}),a.jsx(y,{displayMonth:e.displayMonth})]})}function Zm(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var qm=Zm()?f.useLayoutEffect:f.useEffect,xa=!1,Xm=0;function gi(){return"react-day-picker-".concat(++Xm)}function Gm(e){var t,r=e??(xa?gi():null),s=f.useState(r),n=s[0],i=s[1];return qm(function(){n===null&&i(gi())},[]),f.useEffect(function(){xa===!1&&(xa=!0)},[]),(t=e??n)!==null&&t!==void 0?t:void 0}function Km(e){var t,r,s=Se(),n=s.dir,i=s.classNames,o=s.styles,l=s.components,c=ps().displayMonths,d=Gm(s.id?"".concat(s.id,"-").concat(e.displayIndex):void 0),u=s.id?"".concat(s.id,"-grid-").concat(e.displayIndex):void 0,p=[i.month],m=o.month,b=e.displayIndex===0,N=e.displayIndex===c.length-1,x=!b&&!N;n==="rtl"&&(t=[b,N],N=t[0],b=t[1]),b&&(p.push(i.caption_start),m=re(re({},m),o.caption_start)),N&&(p.push(i.caption_end),m=re(re({},m),o.caption_end)),x&&(p.push(i.caption_between),m=re(re({},m),o.caption_between));var g=(r=l==null?void 0:l.Caption)!==null&&r!==void 0?r:sm;return a.jsxs("div",{className:p.join(" "),style:m,children:[a.jsx(g,{id:d,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),a.jsx(Ym,{id:u,"aria-labelledby":d,displayMonth:e.displayMonth})]},e.displayIndex)}function Qm(e){var t=Se(),r=t.classNames,s=t.styles;return a.jsx("div",{className:r.months,style:s.months,children:e.children})}function Jm(e){var t,r,s=e.initialProps,n=Se(),i=hn(),o=ps(),l=f.useState(!1),c=l[0],d=l[1];f.useEffect(function(){n.initialFocus&&i.focusTarget&&(c||(i.focus(i.focusTarget),d(!0)))},[n.initialFocus,c,i.focus,i.focusTarget,i]);var u=[n.classNames.root,n.className];n.numberOfMonths>1&&u.push(n.classNames.multiple_months),n.showWeekNumber&&u.push(n.classNames.with_weeknumber);var p=re(re({},n.styles.root),n.style),m=Object.keys(s).filter(function(N){return N.startsWith("data-")}).reduce(function(N,x){var g;return re(re({},N),(g={},g[x]=s[x],g))},{}),b=(r=(t=s.components)===null||t===void 0?void 0:t.Months)!==null&&r!==void 0?r:Qm;return a.jsx("div",re({className:u.join(" "),style:p,dir:n.dir,id:n.id,nonce:s.nonce,title:s.title,lang:s.lang},m,{children:a.jsx(b,{children:o.displayMonths.map(function(N,x){return a.jsx(Km,{displayIndex:x,displayMonth:N},x)})})}))}function ep(e){var t=e.children,r=Nh(e,["children"]);return a.jsx(Bh,{initialProps:r,children:a.jsx(Jh,{children:a.jsx(Rm,{initialProps:r,children:a.jsx(cm,{initialProps:r,children:a.jsx(fm,{initialProps:r,children:a.jsx(wm,{children:a.jsx(Mm,{children:t})})})})})})})}function tp(e){return a.jsx(ep,re({},e,{children:a.jsx(Jm,{initialProps:e})}))}function Yl({className:e,classNames:t,showOutsideDays:r=!0,...s}){return a.jsx(tp,{showOutsideDays:r,className:ye("p-3",e),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:ye(yn({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:ye(yn({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100"),day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground opacity-50 aria-selected:bg-accent/50 aria-selected:text-muted-foreground aria-selected:opacity-30",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...t},components:{IconLeft:({...n})=>a.jsx(Dc,{className:"h-4 w-4"}),IconRight:({...n})=>a.jsx(wc,{className:"h-4 w-4"})},...s})}Yl.displayName="Calendar";var sa="Popover",[Zl,Bp]=zs(sa,[Hs]),gs=Hs(),[rp,ur]=Zl(sa),ql=e=>{const{__scopePopover:t,children:r,open:s,defaultOpen:n,onOpenChange:i,modal:o=!1}=e,l=gs(t),c=f.useRef(null),[d,u]=f.useState(!1),[p,m]=ks({prop:s,defaultProp:n??!1,onChange:i,caller:sa});return a.jsx(yi,{...l,children:a.jsx(rp,{scope:t,contentId:Ys(),triggerRef:c,open:p,onOpenChange:m,onOpenToggle:f.useCallback(()=>m(b=>!b),[m]),hasCustomAnchor:d,onCustomAnchorAdd:f.useCallback(()=>u(!0),[]),onCustomAnchorRemove:f.useCallback(()=>u(!1),[]),modal:o,children:r})})};ql.displayName=sa;var Xl="PopoverAnchor",sp=f.forwardRef((e,t)=>{const{__scopePopover:r,...s}=e,n=ur(Xl,r),i=gs(r),{onCustomAnchorAdd:o,onCustomAnchorRemove:l}=n;return f.useEffect(()=>(o(),()=>l()),[o,l]),a.jsx(Ia,{...i,...s,ref:t})});sp.displayName=Xl;var Gl="PopoverTrigger",Kl=f.forwardRef((e,t)=>{const{__scopePopover:r,...s}=e,n=ur(Gl,r),i=gs(r),o=Ve(t,n.triggerRef),l=a.jsx(Oe.button,{type:"button","aria-haspopup":"dialog","aria-expanded":n.open,"aria-controls":n.contentId,"data-state":rc(n.open),...s,ref:o,onClick:xe(e.onClick,n.onOpenToggle)});return n.hasCustomAnchor?l:a.jsx(Ia,{asChild:!0,...i,children:l})});Kl.displayName=Gl;var pn="PopoverPortal",[ap,np]=Zl(pn,{forceMount:void 0}),Ql=e=>{const{__scopePopover:t,forceMount:r,children:s,container:n}=e,i=ur(pn,t);return a.jsx(ap,{scope:t,forceMount:r,children:a.jsx(Lr,{present:r||i.open,children:a.jsx(wi,{asChild:!0,container:n,children:s})})})};Ql.displayName=pn;var Ir="PopoverContent",Jl=f.forwardRef((e,t)=>{const r=np(Ir,e.__scopePopover),{forceMount:s=r.forceMount,...n}=e,i=ur(Ir,e.__scopePopover);return a.jsx(Lr,{present:s||i.open,children:i.modal?a.jsx(op,{...n,ref:t}):a.jsx(lp,{...n,ref:t})})});Jl.displayName=Ir;var ip=Si("PopoverContent.RemoveScroll"),op=f.forwardRef((e,t)=>{const r=ur(Ir,e.__scopePopover),s=f.useRef(null),n=Ve(t,s),i=f.useRef(!1);return f.useEffect(()=>{const o=s.current;if(o)return _i(o)},[]),a.jsx(Ni,{as:ip,allowPinchZoom:!0,children:a.jsx(ec,{...e,ref:n,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:xe(e.onCloseAutoFocus,o=>{var l;o.preventDefault(),i.current||(l=r.triggerRef.current)==null||l.focus()}),onPointerDownOutside:xe(e.onPointerDownOutside,o=>{const l=o.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,d=l.button===2||c;i.current=d},{checkForDefaultPrevented:!1}),onFocusOutside:xe(e.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1})})})}),lp=f.forwardRef((e,t)=>{const r=ur(Ir,e.__scopePopover),s=f.useRef(!1),n=f.useRef(!1);return a.jsx(ec,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,i),i.defaultPrevented||(s.current||(l=r.triggerRef.current)==null||l.focus(),i.preventDefault()),s.current=!1,n.current=!1},onInteractOutside:i=>{var c,d;(c=e.onInteractOutside)==null||c.call(e,i),i.defaultPrevented||(s.current=!0,i.detail.originalEvent.type==="pointerdown"&&(n.current=!0));const o=i.target;((d=r.triggerRef.current)==null?void 0:d.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&n.current&&i.preventDefault()}})}),ec=f.forwardRef((e,t)=>{const{__scopePopover:r,trapFocus:s,onOpenAutoFocus:n,onCloseAutoFocus:i,disableOutsidePointerEvents:o,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:d,onInteractOutside:u,...p}=e,m=ur(Ir,r),b=gs(r);return ji(),a.jsx(Ci,{asChild:!0,loop:!0,trapped:s,onMountAutoFocus:n,onUnmountAutoFocus:i,children:a.jsx(ki,{asChild:!0,disableOutsidePointerEvents:o,onInteractOutside:u,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:d,onDismiss:()=>m.onOpenChange(!1),children:a.jsx(Di,{"data-state":rc(m.open),role:"dialog",id:m.contentId,...b,...p,ref:t,style:{...p.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),tc="PopoverClose",cp=f.forwardRef((e,t)=>{const{__scopePopover:r,...s}=e,n=ur(tc,r);return a.jsx(Oe.button,{type:"button",...s,ref:t,onClick:xe(e.onClick,()=>n.onOpenChange(!1))})});cp.displayName=tc;var dp="PopoverArrow",up=f.forwardRef((e,t)=>{const{__scopePopover:r,...s}=e,n=gs(r);return a.jsx(Ei,{...n,...s,ref:t})});up.displayName=dp;function rc(e){return e?"open":"closed"}var fp=ql,hp=Kl,mp=Ql,sc=Jl;const pp=fp,gp=hp,ac=f.forwardRef(({className:e,align:t="center",sideOffset:r=4,...s},n)=>a.jsx(mp,{children:a.jsx(sc,{ref:n,align:t,sideOffset:r,className:ye("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...s})}));ac.displayName=sc.displayName;const vp=vh({class_title:Tt().min(2,{message:"Class title must be at least 2 characters."}),class_description:Tt().min(10,{message:"Class description must be at least 10 characters."}),class_date:gh(),class_time:Tt().min(5,{message:"Please select a valid time."}),class_duration:Tt().min(1,{message:"Class duration must be specified."}),class_price:fi().min(0,{message:"Price must be a non-negative number."}),class_capacity:fi().min(1,{message:"Capacity must be at least 1."}),class_category:Tt().min(2,{message:"Class category must be at least 2 characters."}),class_level:Tt().min(2,{message:"Class level must be at least 2 characters."}),class_language:Tt().min(2,{message:"Class language must be at least 2 characters."}),class_instructor:Tt().min(2,{message:"Class instructor must be at least 2 characters."}),class_location:Tt().min(2,{message:"Class location must be at least 2 characters."}),class_materials:Tt().optional(),is_active:ph().default(!0)}),xp=({defaultValues:e,isEditMode:t,loading:r,onSubmit:s})=>{const n=Lf({resolver:$f(vp),defaultValues:e});return a.jsx(xh,{...n,children:a.jsxs("form",{onSubmit:n.handleSubmit(s),className:"space-y-8",children:[a.jsx(at,{control:n.control,name:"class_title",render:({field:i})=>a.jsxs(Xe,{children:[a.jsx(Ge,{children:"Class Title"}),a.jsx(Ke,{children:a.jsx(ve,{placeholder:"Enter the title for this class",...i})}),a.jsx("div",{className:"text-sm text-muted-foreground",children:"Enter the title for this class."}),a.jsx(nt,{})]})}),a.jsx(at,{control:n.control,name:"class_description",render:({field:i})=>a.jsxs(Xe,{children:[a.jsx(Ge,{children:"Class Description"}),a.jsx(Ke,{children:a.jsx(os,{placeholder:"Enter the description for this class",className:"resize-none",...i})}),a.jsx(ut,{children:"Describe this class for the students."}),a.jsx(nt,{})]})}),a.jsx(at,{control:n.control,name:"class_date",render:({field:i})=>a.jsxs(Xe,{className:"flex flex-col",children:[a.jsx(Ge,{children:"Class Date"}),a.jsxs(pp,{children:[a.jsx(gp,{asChild:!0,children:a.jsx(Ke,{children:a.jsxs(Y,{variant:"outline",className:ye("w-[240px] pl-3 text-left font-normal",!i.value&&"text-muted-foreground"),children:[i.value?Xt(i.value,"PPP"):a.jsx("span",{children:"Pick a date"}),a.jsx(ts.calendar,{className:"ml-auto h-4 w-4 opacity-50"})]})})}),a.jsx(ac,{className:"w-auto p-0",align:"start",children:a.jsx(Yl,{mode:"single",selected:i.value,onSelect:i.onChange,initialFocus:!0})})]}),a.jsx("div",{className:"text-sm text-muted-foreground",children:"When will this class take place?"}),a.jsx(nt,{})]})}),a.jsx(at,{control:n.control,name:"class_time",render:({field:i})=>a.jsxs(Xe,{children:[a.jsx(Ge,{children:"Class Time"}),a.jsx(Ke,{children:a.jsx(ve,{type:"time",...i})}),a.jsx(ut,{children:"What time will this class take place?"}),a.jsx(nt,{})]})}),a.jsx(at,{control:n.control,name:"class_duration",render:({field:i})=>a.jsxs(Xe,{children:[a.jsx(Ge,{children:"Class Duration"}),a.jsx(Ke,{children:a.jsx(ve,{placeholder:"Enter the duration for this class",...i})}),a.jsx(ut,{children:"How long will this class take?"}),a.jsx(nt,{})]})}),a.jsx(at,{control:n.control,name:"class_price",render:({field:i})=>a.jsxs(Xe,{children:[a.jsx(Ge,{children:"Class Price"}),a.jsx(Ke,{children:a.jsx(ve,{type:"number",placeholder:"Enter the price for this class",...i,onChange:o=>i.onChange(Number(o.target.value))})}),a.jsx(ut,{children:"How much will this class cost?"}),a.jsx(nt,{})]})}),a.jsx(at,{control:n.control,name:"class_capacity",render:({field:i})=>a.jsxs(Xe,{children:[a.jsx(Ge,{children:"Class Capacity"}),a.jsx(Ke,{children:a.jsx(ve,{type:"number",placeholder:"Enter the capacity for this class",...i,onChange:o=>i.onChange(Number(o.target.value))})}),a.jsx(ut,{children:"How many students can attend this class?"}),a.jsx(nt,{})]})}),a.jsx(at,{control:n.control,name:"class_category",render:({field:i})=>a.jsxs(Xe,{children:[a.jsx(Ge,{children:"Class Category"}),a.jsx(Ke,{children:a.jsx(ve,{placeholder:"Enter the category for this class",...i})}),a.jsx(ut,{children:"What category does this class belong to?"}),a.jsx(nt,{})]})}),a.jsx(at,{control:n.control,name:"class_level",render:({field:i})=>a.jsxs(Xe,{children:[a.jsx(Ge,{children:"Class Level"}),a.jsx(Ke,{children:a.jsx(ve,{placeholder:"Enter the level for this class",...i})}),a.jsx(ut,{children:"What level is this class for?"}),a.jsx(nt,{})]})}),a.jsx(at,{control:n.control,name:"class_language",render:({field:i})=>a.jsxs(Xe,{children:[a.jsx(Ge,{children:"Class Language"}),a.jsx(Ke,{children:a.jsx(ve,{placeholder:"Enter the language for this class",...i})}),a.jsx(ut,{children:"What language will this class be taught in?"}),a.jsx(nt,{})]})}),a.jsx(at,{control:n.control,name:"class_instructor",render:({field:i})=>a.jsxs(Xe,{children:[a.jsx(Ge,{children:"Class Instructor"}),a.jsx(Ke,{children:a.jsx(ve,{placeholder:"Enter the instructor for this class",...i})}),a.jsx(ut,{children:"Who is the instructor for this class?"}),a.jsx(nt,{})]})}),a.jsx(at,{control:n.control,name:"class_location",render:({field:i})=>a.jsxs(Xe,{children:[a.jsx(Ge,{children:"Class Location"}),a.jsx(Ke,{children:a.jsx(ve,{placeholder:"Enter the location for this class",...i})}),a.jsx(ut,{children:"Where will this class take place?"}),a.jsx(nt,{})]})}),a.jsx(at,{control:n.control,name:"class_materials",render:({field:i})=>a.jsxs(Xe,{children:[a.jsx(Ge,{children:"Class Materials"}),a.jsx(Ke,{children:a.jsx(ve,{placeholder:"Enter the materials for this class",...i})}),a.jsx(ut,{children:"What materials will be used in this class?"}),a.jsx(nt,{})]})}),a.jsx(at,{control:n.control,name:"is_active",render:({field:i})=>a.jsxs(Xe,{className:"flex flex-row items-center justify-between rounded-lg border p-4",children:[a.jsxs("div",{className:"space-y-0.5",children:[a.jsx(Ge,{className:"text-base",children:"Active"}),a.jsx(ut,{children:"Set class as active or inactive."})]}),a.jsx(Ke,{children:a.jsx($s,{checked:i.value,onCheckedChange:i.onChange})})]})}),a.jsx(ol,{children:a.jsxs(Y,{type:"submit",disabled:r,children:[r&&a.jsx(ts.spinner,{className:"mr-2 h-4 w-4 animate-spin"}),t?"Update Class":"Create Class"]})})]})})},yp=({isOpen:e,onOpenChange:t,isEditMode:r,defaultValues:s,loading:n,onSubmit:i})=>a.jsx(sl,{open:e,onOpenChange:t,children:a.jsxs(nl,{className:"max-h-[90vh]",children:[a.jsxs(il,{children:[a.jsx(ll,{children:r?"Edit Class":"Create New Class"}),a.jsx(cl,{children:r?"Edit the details of the selected class.":"Create a new class by entering the details below."})]}),a.jsx(ft,{className:"flex-1 px-6 pb-4",children:a.jsx(xp,{defaultValues:s,isEditMode:r,loading:n,onSubmit:i})})]})}),wp=({currentPage:e,totalPages:t,onPageChange:r})=>t<=1?null:a.jsx("div",{className:"flex justify-center mt-4",children:Array.from({length:t},(s,n)=>n+1).map(s=>a.jsx(Y,{variant:e===s?"default":"outline",onClick:()=>r(s),className:"mx-1",children:s},s))}),bp=()=>{const[e,t]=f.useState([]),[r,s]=f.useState(!1),[n,i]=f.useState(null),[o,l]=f.useState(null),[c,d]=f.useState(!1),[u,p]=f.useState(!1),[m,b]=f.useState(!1),[N,x]=f.useState(""),[g,y]=f.useState(1),[h]=f.useState(5),{toast:w}=qt(),{user:j}=La(),D=async q=>{s(!0),i(null);try{const te={class_title:q.class_title,class_description:q.class_description,class_date:q.class_date.toISOString(),class_time:q.class_time,class_duration:q.class_duration,class_price:q.class_price,class_capacity:q.class_capacity,class_category:q.class_category,class_level:q.class_level,class_language:q.class_language,class_instructor:q.class_instructor,class_location:q.class_location,class_materials:q.class_materials,is_active:q.is_active,created_by:j==null?void 0:j.uid};if(m&&o){const{data:ke,error:Te}=await se.from("classes").update(te).eq("id",o.id).select();if(Te)throw new Error(Te.message);t(e.map(Be=>Be.id===o.id?{...Be,...te}:Be)),w({title:"Class updated successfully!"})}else{const{data:ke,error:Te}=await se.from("classes").insert(te).select();if(Te)throw new Error(Te.message);ke&&t([...e,ke[0]]),w({title:"Class created successfully!"})}p(!1)}catch(te){i(te.message),w({variant:"destructive",title:"Error!",description:te.message})}finally{s(!1)}},A=f.useCallback(async()=>{s(!0),i(null);try{const{data:q,error:te}=await se.from("classes").select("*").order("created_at",{ascending:!1});if(te)throw new Error(te.message);t(q||[])}catch(q){i(q.message),w({variant:"destructive",title:"Error!",description:q.message})}finally{s(!1)}},[w]),k=async q=>{s(!0),i(null);try{const{error:te}=await se.from("classes").delete().eq("id",q);if(te)throw new Error(te.message);t(e.filter(ke=>ke.id!==q)),w({title:"Class deleted successfully!"})}catch(te){i(te.message),w({variant:"destructive",title:"Error!",description:te.message})}finally{s(!1)}},X=q=>{l(q),d(!0)},I=()=>{l(null),d(!1)},K=q=>{l(q),b(!0),p(!0)},M=()=>{l(null),b(!1),p(!0)},E=()=>{l(null),b(!1),p(!1)},_=q=>{x(q.target.value),y(1)},V=q=>y(q),B=e.filter(q=>{var te;return q.class_title.toLowerCase().includes(N.toLowerCase())||(((te=q.class_description)==null?void 0:te.toLowerCase())||"").includes(N.toLowerCase())||q.class_category.toLowerCase().includes(N.toLowerCase())||q.class_level.toLowerCase().includes(N.toLowerCase())||q.class_language.toLowerCase().includes(N.toLowerCase())||q.class_instructor.toLowerCase().includes(N.toLowerCase())||q.class_location.toLowerCase().includes(N.toLowerCase())}),z=g*h,T=z-h,F=B.slice(T,z),ce=Math.ceil(B.length/h),Ce=()=>m&&o?{...o,class_date:new Date(o.class_date),class_price:Number(o.class_price),class_capacity:Number(o.class_capacity)}:{class_title:"",class_description:"",class_date:new Date,class_time:"09:00",class_duration:"1 hour",class_price:0,class_capacity:10,class_category:"Mathematics",class_level:"Beginner",class_language:"English",class_instructor:"John Doe",class_location:"Online",class_materials:"",is_active:!0};return f.useEffect(()=>{A()},[A]),{classes:e,loading:r,error:n,selectedClass:o,isDialogOpen:c,setIsDialogOpen:d,isDrawerOpen:u,setIsDrawerOpen:p,isEditMode:m,searchQuery:N,currentPage:g,currentClasses:F,totalPages:ce,onSubmit:D,deleteClass:k,openDialog:X,closeDialog:I,openDrawerForEdit:K,openDrawerForCreate:M,closeDrawer:E,handleSearch:_,paginate:V,getDefaultFormValues:Ce}},_p=()=>{const{loading:e,selectedClass:t,isDialogOpen:r,setIsDialogOpen:s,isDrawerOpen:n,setIsDrawerOpen:i,isEditMode:o,searchQuery:l,currentPage:c,currentClasses:d,totalPages:u,onSubmit:p,deleteClass:m,openDialog:b,closeDialog:N,openDrawerForEdit:x,openDrawerForCreate:g,handleSearch:y,paginate:h,getDefaultFormValues:w}=bp();return a.jsx(ft,{className:"h-full",children:a.jsxs("div",{className:"container mx-auto py-10",children:[a.jsxs(He,{children:[a.jsxs(vt,{children:[a.jsx(xt,{children:"Manage Classes"}),a.jsx(bc,{children:"Here you can manage all the classes that are offered."})]}),a.jsxs(Ye,{children:[a.jsxs("div",{className:"mb-4",children:[a.jsx(Ne,{htmlFor:"search",children:"Search Classes"}),a.jsx(ve,{type:"text",id:"search",placeholder:"Search by title, description, category, etc.",value:l,onChange:y})]}),a.jsxs(Y,{variant:"outline",onClick:g,className:"mb-4",children:[a.jsx(ts.add,{className:"mr-2 h-4 w-4"}),"Create New Class"]}),a.jsx(Wu,{loading:e,currentClasses:d,openDrawerForEdit:x,openDialog:b}),a.jsx(wp,{currentPage:c,totalPages:u,onPageChange:h})]})]}),a.jsx($u,{isOpen:r,onOpenChange:s,selectedClass:t,onDelete:()=>{t&&(m(t.id),N())},onCancel:N}),a.jsx(yp,{isOpen:n,onOpenChange:i,isEditMode:o,defaultValues:w(),loading:e,onSubmit:p})]})})},jp=({material:e,isNew:t,onSave:r,onCancel:s,onChange:n,savingMaterial:i})=>{const{folders:o}=Va();if(!e)return null;const l=o.filter(c=>c.is_premium===e.isPremium);return a.jsx(Rt,{open:!!e,onOpenChange:()=>s(),children:a.jsxs(At,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[a.jsx(Ft,{children:a.jsx(It,{children:t?"Add New Study Material":"Edit Study Material"})}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Ne,{htmlFor:"title",children:"Title *"}),a.jsx(ve,{id:"title",value:e.title,onChange:c=>n("title",c.target.value),placeholder:"Material title"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Ne,{htmlFor:"folder",children:"Folder"}),a.jsxs(Dr,{value:e.folder_id||"",onValueChange:c=>n("folder_id",c||null),children:[a.jsx(vr,{children:a.jsx(Er,{placeholder:"Select a folder (optional)"})}),a.jsxs(xr,{children:[a.jsx(Pt,{value:"",children:"No Folder"}),l.map(c=>a.jsx(Pt,{value:c.id,children:c.name},c.id))]})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Ne,{htmlFor:"description",children:"Description"}),a.jsx(os,{id:"description",value:e.description,onChange:c=>n("description",c.target.value),placeholder:"Material description",rows:3})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs(Ne,{htmlFor:"downloadUrl",children:["Download URL ",!e.isUpcoming&&"*"]}),a.jsx(ve,{id:"downloadUrl",value:e.downloadUrl,onChange:c=>n("downloadUrl",c.target.value),placeholder:"https://example.com/file.pdf",disabled:e.isUpcoming}),e.isUpcoming&&a.jsx("p",{className:"text-sm text-gray-500",children:"Download URL is not required for upcoming materials"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Ne,{htmlFor:"thumbnailUrl",children:"Thumbnail URL"}),a.jsx(ve,{id:"thumbnailUrl",value:e.thumbnailUrl||"",onChange:c=>n("thumbnailUrl",c.target.value),placeholder:"https://example.com/thumbnail.jpg"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx($s,{id:"isPremium",checked:e.isPremium,onCheckedChange:c=>n("isPremium",c)}),a.jsx(Ne,{htmlFor:"isPremium",children:"Premium Material"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx($s,{id:"isUpcoming",checked:e.isUpcoming||!1,onCheckedChange:c=>n("isUpcoming",c)}),a.jsx(Ne,{htmlFor:"isUpcoming",children:"Coming Soon Material"})]}),e.isPremium&&!e.isUpcoming&&a.jsxs("div",{className:"space-y-2",children:[a.jsx(Ne,{htmlFor:"price",children:"Price (₹) *"}),a.jsx(ve,{id:"price",type:"number",value:e.price||"",onChange:c=>n("price",parseFloat(c.target.value)||0),placeholder:"0",min:"0",step:"0.01"})]}),e.isPremium&&e.isUpcoming&&a.jsxs("div",{className:"space-y-2",children:[a.jsx(Ne,{htmlFor:"price",children:"Expected Price (₹)"}),a.jsx(ve,{id:"price",type:"number",value:e.price||"",onChange:c=>n("price",parseFloat(c.target.value)||0),placeholder:"0",min:"0",step:"0.01"}),a.jsx("p",{className:"text-sm text-gray-500",children:"Optional: Set expected price for upcoming premium materials"})]}),a.jsxs("div",{className:"flex justify-end space-x-2 pt-4",children:[a.jsx(Y,{variant:"outline",onClick:s,disabled:i,children:"Cancel"}),a.jsx(Y,{onClick:r,disabled:i,children:i?"Saving...":t?"Create":"Update"})]})]})]})})},Np=()=>{const[e,t]=f.useState([]),[r,s]=f.useState(!0),[n,i]=f.useState(!1),[o,l]=f.useState(null),[c,d]=f.useState(!1),[u,p]=f.useState("free"),[m,b]=f.useState(1),[N]=f.useState(8),{toast:x}=qt(),{user:g}=La(),y=f.useCallback(async()=>{try{if(console.log("Fetching materials..."),s(!0),!g){console.log("No active user, cannot fetch materials"),x({title:"Authentication Required",description:"Please log in to access admin features",variant:"destructive"});return}const{data:E,error:_}=await se.from("study_materials").select("*").order("created_at",{ascending:!1});if(_)throw console.error("Error fetching materials:",_),_;if(E){console.log("Materials fetched successfully:",E.length);const V=E.map(B=>({id:B.id,title:B.title||B.name,name:B.name,description:B.description||"",downloadUrl:B.downloadurl||"",thumbnailUrl:B.thumbnailurl||void 0,isPremium:B.ispremium||!1,price:B.price||0,folder_id:B.folder_id||void 0,isUpcoming:B.is_upcoming||!1}));t(V),console.log("Materials set:",V.length)}}catch(E){console.error("Error in fetchMaterials:",E),x({title:"Error fetching materials",description:E.message||"Could not load study materials",variant:"destructive",duration:3e3})}finally{s(!1)}},[x,g]);f.useEffect(()=>{g&&y()},[y,g]);const h=E=>{l(E),d(!1)},w=async E=>{try{if(!g){x({title:"Authentication Required",description:"Please log in to delete materials",variant:"destructive"});return}const{error:_}=await se.from("study_materials").delete().eq("id",E);if(_)throw _;t(e.filter(V=>V.id!==E)),x({title:"Material deleted",description:"The study material has been deleted successfully.",duration:3e3})}catch(_){x({title:"Error deleting material",description:_.message||"Could not delete the material",variant:"destructive",duration:3e3})}},j=()=>{l({id:`new-${Date.now()}`,title:"",name:"",description:"",downloadUrl:"",isPremium:u==="premium",price:u==="premium"?0:void 0,folder_id:void 0,isUpcoming:!1}),d(!0)},D=async()=>{if(o)try{if(i(!0),console.log("Saving material:",o),!g){x({title:"Authentication Required",description:"Please log in to save materials",variant:"destructive",duration:3e3});return}if(o.isPremium&&!o.isUpcoming&&(!o.price||o.price<=0)){x({title:"Invalid price",description:"Premium materials must have a price greater than 0",variant:"destructive"});return}if(!o.title||o.title.trim()===""){x({title:"Missing title",description:"Please provide a title for the material",variant:"destructive"});return}if(!o.isUpcoming&&(!o.downloadUrl||o.downloadUrl.trim()==="")){x({title:"Missing download URL",description:"Please provide a download URL for available materials",variant:"destructive"});return}const E={title:o.title,name:o.title,description:o.description,downloadurl:o.isUpcoming?null:o.downloadUrl,thumbnailurl:o.thumbnailUrl||null,ispremium:o.isPremium,price:o.isPremium?o.price:0,folder_id:o.folder_id||null,is_upcoming:o.isUpcoming||!1};if(c){console.log("Inserting new material with data:",E);const{data:_,error:V}=await se.from("study_materials").insert(E).select();if(V)throw console.error("Error inserting material:",V),V;if(_&&_[0]){const B={id:_[0].id,title:_[0].title||_[0].name,name:_[0].name,description:_[0].description||"",downloadUrl:_[0].downloadurl||"",thumbnailUrl:_[0].thumbnailurl||void 0,isPremium:_[0].ispremium||!1,price:_[0].price||0,folder_id:_[0].folder_id||void 0,isUpcoming:_[0].is_upcoming||!1};t([B,...e]),console.log("New material saved:",B),x({title:"Material added",description:"The new study material has been created successfully.",duration:3e3})}}else{console.log("Updating existing material with data:",E);const{error:_}=await se.from("study_materials").update(E).eq("id",o.id);if(_)throw console.error("Error updating material:",_),_;t(e.map(V=>V.id===o.id?{...V,title:o.title,name:o.title,description:o.description,downloadUrl:o.isUpcoming?"":o.downloadUrl,thumbnailUrl:o.thumbnailUrl,isPremium:o.isPremium,price:o.price||0,folder_id:o.folder_id,isUpcoming:o.isUpcoming||!1}:V)),console.log("Material updated:",o),x({title:"Material updated",description:"The study material has been updated successfully.",duration:3e3})}l(null),d(!1)}catch(E){console.error("Error in handleSave:",E),x({title:"Error saving material",description:E.message||"Could not save the study material",variant:"destructive",duration:3e3})}finally{i(!1)}},A=m*N,k=A-N,X=e.filter(E=>u==="free"&&!E.isPremium||u==="premium"&&E.isPremium),I=X.slice(k,A),K=Math.ceil(X.length/N);return{materials:I,allMaterials:e,setMaterials:t,loading:r,savingMaterial:n,editingMaterial:o,setEditingMaterial:l,newMaterial:c,setNewMaterial:d,activeTab:u,setActiveTab:p,currentPage:m,totalPages:K,handlePageChange:E=>{b(E)},handleEdit:h,handleDelete:w,handleAddNew:j,handleSave:D,fetchMaterials:y}},zp=()=>{const{user:e,loading:t}=La(),{isAdmin:r,loading:s}=_c(),[n,i]=f.useState("free-materials"),{allMaterials:o,loading:l,savingMaterial:c,editingMaterial:d,setEditingMaterial:u,newMaterial:p,setNewMaterial:m,handleEdit:b,handleDelete:N,handleAddNew:x,handleSave:g,setActiveTab:y}=Np();f.useEffect(()=>{n==="free-materials"?y("free"):n==="premium-materials"&&y("premium")},[n,y]);const h=(w,j)=>{d&&u({...d,[w]:j})};return t||s?a.jsx("div",{className:"container mx-auto px-4 py-8",children:a.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[50vh]",children:[a.jsx(rt,{className:"h-8 w-48 mb-4"}),a.jsx(rt,{className:"h-32 w-full max-w-4xl"})]})}):!e||!r?a.jsx(jc,{to:"/auth",replace:!0}):a.jsxs("div",{className:"min-h-screen bg-gray-50",children:[a.jsx(kc,{}),a.jsxs("div",{className:"container mx-auto px-2 sm:px-4 lg:px-8 py-4 lg:py-8 space-y-4 lg:space-y-6",children:[a.jsxs("div",{className:"flex items-center space-x-3 px-2",children:[a.jsx(xi,{className:"h-6 w-6 sm:h-8 sm:w-8 text-blue-600"}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-xl sm:text-2xl lg:text-3xl font-bold text-gray-900",children:"Admin Panel"}),a.jsx("p",{className:"text-xs sm:text-sm text-gray-600",children:"Manage your academy content and settings"})]})]}),a.jsxs(ns,{value:n,onValueChange:i,className:"space-y-4 lg:space-y-6",children:[a.jsx("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden",children:a.jsx(ft,{className:"w-full",children:a.jsx("div",{className:"flex overflow-x-auto scrollbar-hide",children:a.jsxs(is,{className:"flex h-12 w-max bg-white p-1 space-x-1",children:[a.jsxs(et,{value:"free-materials",className:"flex items-center gap-2 text-sm px-3 sm:px-4 py-2 min-w-fit whitespace-nowrap data-[state=active]:bg-blue-100 data-[state=active]:text-blue-700",children:[a.jsx(wn,{className:"h-4 w-4"}),a.jsx("span",{className:"hidden sm:inline",children:"Free Materials"}),a.jsx("span",{className:"sm:hidden",children:"Free"})]}),a.jsxs(et,{value:"premium-materials",className:"flex items-center gap-2 text-sm px-3 sm:px-4 py-2 min-w-fit whitespace-nowrap data-[state=active]:bg-blue-100 data-[state=active]:text-blue-700",children:[a.jsx(bn,{className:"h-4 w-4"}),a.jsx("span",{className:"hidden sm:inline",children:"Premium Materials"}),a.jsx("span",{className:"sm:hidden",children:"Premium"})]}),a.jsxs(et,{value:"videos",className:"flex items-center gap-2 text-sm px-3 sm:px-4 py-2 min-w-fit whitespace-nowrap data-[state=active]:bg-blue-100 data-[state=active]:text-blue-700",children:[a.jsx(Es,{className:"h-4 w-4"}),a.jsx("span",{children:"Videos"})]}),a.jsxs(et,{value:"events",className:"flex items-center gap-2 text-sm px-3 sm:px-4 py-2 min-w-fit whitespace-nowrap data-[state=active]:bg-blue-100 data-[state=active]:text-blue-700",children:[a.jsx(Ds,{className:"h-4 w-4"}),a.jsx("span",{children:"Events"})]}),a.jsxs(et,{value:"classes",className:"flex items-center gap-2 text-sm px-3 sm:px-4 py-2 min-w-fit whitespace-nowrap data-[state=active]:bg-blue-100 data-[state=active]:text-blue-700",children:[a.jsx(bs,{className:"h-4 w-4"}),a.jsx("span",{children:"Classes"})]}),a.jsxs(et,{value:"registrations",className:"flex items-center gap-2 text-sm px-3 sm:px-4 py-2 min-w-fit whitespace-nowrap data-[state=active]:bg-blue-100 data-[state=active]:text-blue-700",children:[a.jsx(bs,{className:"h-4 w-4"}),a.jsx("span",{className:"hidden sm:inline",children:"Registrations"}),a.jsx("span",{className:"sm:hidden",children:"Reg."})]}),a.jsxs(et,{value:"images",className:"flex items-center gap-2 text-sm px-3 sm:px-4 py-2 min-w-fit whitespace-nowrap data-[state=active]:bg-blue-100 data-[state=active]:text-blue-700",children:[a.jsx(ya,{className:"h-4 w-4"}),a.jsx("span",{children:"Images"})]})]})})})}),a.jsxs("div",{className:"min-h-[50vh] sm:min-h-[60vh]",children:[a.jsx(tt,{value:"free-materials",className:"h-full",children:a.jsxs(He,{className:"h-full flex flex-col",children:[a.jsx(vt,{children:a.jsxs(xt,{className:"flex items-center gap-2",children:[a.jsx(wn,{className:"h-5 w-5"}),"Free Study Materials Management"]})}),a.jsx(Ye,{className:"flex-1 overflow-hidden",children:a.jsx(ft,{className:"h-full",children:a.jsx(Zc,{materials:o,loading:l,onAddNew:()=>{y("free"),x()},onEdit:b,onDelete:N})})})]})}),a.jsx(tt,{value:"premium-materials",className:"h-full",children:a.jsxs(He,{className:"h-full flex flex-col",children:[a.jsx(vt,{children:a.jsxs(xt,{className:"flex items-center gap-2",children:[a.jsx(bn,{className:"h-5 w-5"}),"Premium Study Materials Management"]})}),a.jsx(Ye,{className:"flex-1 overflow-hidden",children:a.jsx(ft,{className:"h-full",children:a.jsx(qc,{materials:o,loading:l,onAddNew:()=>{y("premium"),x()},onEdit:b,onDelete:N})})})]})}),a.jsx(tt,{value:"videos",className:"h-full",children:a.jsxs(He,{className:"h-full flex flex-col",children:[a.jsx(vt,{children:a.jsxs(xt,{className:"flex items-center gap-2",children:[a.jsx(Es,{className:"h-5 w-5"}),"Training Videos Management"]})}),a.jsx(Ye,{className:"flex-1 overflow-hidden",children:a.jsx(ft,{className:"h-full",children:a.jsx(Dd,{})})})]})}),a.jsx(tt,{value:"events",className:"h-full",children:a.jsxs(He,{className:"h-full flex flex-col",children:[a.jsx(vt,{children:a.jsxs(xt,{className:"flex items-center gap-2",children:[a.jsx(Ds,{className:"h-5 w-5"}),"Events Management"]})}),a.jsx(Ye,{className:"flex-1 overflow-hidden",children:a.jsx(ft,{className:"h-full",children:a.jsx(Ed,{})})})]})}),a.jsx(tt,{value:"classes",className:"h-full",children:a.jsxs(He,{className:"h-full flex flex-col",children:[a.jsx(vt,{children:a.jsxs(xt,{className:"flex items-center gap-2",children:[a.jsx(bs,{className:"h-5 w-5"}),"Classes Management"]})}),a.jsx(Ye,{className:"flex-1 overflow-hidden p-0",children:a.jsx(_p,{})})]})}),a.jsx(tt,{value:"registrations",className:"h-full",children:a.jsxs(He,{className:"h-full flex flex-col",children:[a.jsx(vt,{children:a.jsxs(xt,{className:"flex items-center gap-2",children:[a.jsx(bs,{className:"h-5 w-5"}),"Class Registrations"]})}),a.jsx(Ye,{className:"flex-1 overflow-hidden",children:a.jsx(ft,{className:"h-full",children:a.jsx(Vu,{})})})]})}),a.jsx(tt,{value:"images",className:"h-full",children:a.jsxs(He,{className:"h-full flex flex-col",children:[a.jsx(vt,{children:a.jsxs(xt,{className:"flex items-center gap-2",children:[a.jsx(ya,{className:"h-5 w-5"}),"Image Management"]})}),a.jsx(Ye,{className:"flex-1 overflow-hidden",children:a.jsx(ft,{className:"h-full",children:a.jsx(Td,{})})})]})})]})]})]}),d&&a.jsx(jp,{material:d,isNew:p,onSave:g,onCancel:()=>{u(null),m(!1)},onChange:h,savingMaterial:c})]})};export{zp as default};
