import{r as c,s as p,j as s,S as a,C as N,a as g,M as u,b as f}from"./index-G_H0xwe1.js";import{T as v,a as b,b as r,c as i}from"./tabs-BSw5KGcd.js";import{u as w}from"./use-mobile-DoqY04hj.js";const k=()=>{const[n,o]=c.useState([]),[m,d]=c.useState(!0);w(),c.useEffect(()=>{x()},[]);const x=async()=>{try{d(!0),console.log("Fetching events data...");const{data:e,error:t}=await p.from("classes").select("id, class_title, class_description, class_date, class_location, class_time").eq("is_active",!0).order("class_date",{ascending:!0});if(t)throw console.error("Error fetching events:",t),t;if(e){console.log("Events data fetched:",e.length);const j=e.map(l=>({id:l.id,title:l.class_title,description:l.class_description||"",date:new Date(l.class_date).toLocaleDateString(),location:l.class_location,time:l.class_time}));o(j)}}catch(e){console.error("Error in fetchEvents:",e)}finally{d(!1)}},h=e=>s.jsx("div",{className:"bg-white rounded-lg shadow-md overflow-hidden border border-gray-100",children:s.jsxs("div",{className:"p-5",children:[s.jsx("h3",{className:"font-bold text-lg mb-2 text-academy-primary",children:e.title}),s.jsx("p",{className:"text-gray-600 text-sm mb-4 line-clamp-2",children:e.description}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[s.jsx(N,{className:"h-4 w-4 mr-2"}),s.jsx("span",{children:e.date})]}),s.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[s.jsx(g,{className:"h-4 w-4 mr-2"}),s.jsx("span",{children:e.time})]}),s.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[s.jsx(u,{className:"h-4 w-4 mr-2"}),s.jsx("span",{children:e.location})]})]}),s.jsx("div",{className:"mt-4",children:s.jsx(f,{className:"w-full",variant:"default",onClick:()=>console.log(`Register for event: ${e.id}`),children:"Register Now"})})]})},e.id);return s.jsxs("div",{className:"container mx-auto px-4 py-8",children:[s.jsx("h1",{className:"text-2xl font-bold text-center mb-8 text-academy-primary",children:"Upcoming Events & Seminars"}),s.jsxs(v,{defaultValue:"all",className:"w-full",children:[s.jsx("div",{className:"overflow-x-auto pb-2",children:s.jsxs(b,{className:"w-full",children:[s.jsx(r,{value:"all",className:"flex-1",children:"All Events"}),s.jsx(r,{value:"webinars",className:"flex-1",children:"Webinars"}),s.jsx(r,{value:"workshops",className:"flex-1",children:"Workshops"})]})}),s.jsx(i,{value:"all",className:"mt-6",children:m?s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[...Array(3)].map((e,t)=>s.jsxs("div",{className:"border rounded-lg p-4",children:[s.jsx(a,{className:"h-6 w-3/4 mb-4"}),s.jsx(a,{className:"h-4 w-full mb-2"}),s.jsx(a,{className:"h-4 w-full mb-2"}),s.jsx(a,{className:"h-4 w-2/3 mb-4"}),s.jsx(a,{className:"h-4 w-full mb-2"}),s.jsx(a,{className:"h-4 w-full mb-2"}),s.jsx(a,{className:"h-10 w-full mt-4"})]},t))}):n.length===0?s.jsx("div",{className:"text-center py-12",children:s.jsx("p",{className:"text-gray-500",children:"No upcoming events found."})}):s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:n.map(e=>h(e))})}),s.jsx(i,{value:"webinars",className:"mt-6",children:s.jsx("div",{className:"text-center py-12",children:s.jsx("p",{className:"text-gray-500",children:"No upcoming webinars found."})})}),s.jsx(i,{value:"workshops",className:"mt-6",children:s.jsx("div",{className:"text-center py-12",children:s.jsx("p",{className:"text-gray-500",children:"No upcoming workshops found."})})})]})]})};export{k as default};
